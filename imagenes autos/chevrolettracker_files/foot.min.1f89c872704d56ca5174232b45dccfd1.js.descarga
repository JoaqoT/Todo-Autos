/*

 @date      Thu Aug 16 2018 17:30:59 GMT-0400 (EDT)
 @time      1534455087782
 @brand     chevrolet
 @version   0.0.0

 Copyright (c) 2018 General Motors Corp. All Rights Reserved.
 This material is solely and exclusively owned by General Motors and may not
 be reproduced elsewhere without prior written approval.


 jQuery UI Autocomplete 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 jQuery UI Datepicker 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
(function(c){"function"===typeof define&&define.amd?define("jquery ./menu ../keycode ../position ../safe-active-element ../version ../widget".split(" "),c):c(jQuery)})(function(c){c.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"\x3cinput\x3e",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var d,
a,b,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e,e="input"===e;this.isMultiLine=f||!e&&this._isContentEditable(this.element);this.valueMethod=this.element[f||e?"val":"text"];this.isNewMenu=!0;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))a=b=d=!0;else{a=b=d=!1;var h=c.ui.keyCode;switch(e.keyCode){case h.PAGE_UP:d=!0;this._move("previousPage",e);break;case h.PAGE_DOWN:d=!0;this._move("nextPage",
e);break;case h.UP:d=!0;this._keyEvent("previous",e);break;case h.DOWN:d=!0;this._keyEvent("next",e);break;case h.ENTER:this.menu.active&&(d=!0,e.preventDefault(),this.menu.select(e));break;case h.TAB:this.menu.active&&this.menu.select(e);break;case h.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:a=!0,this._searchTimeout(e)}}},keypress:function(b){if(d)d=!1,this.isMultiLine&&!this.menu.element.is(":visible")||b.preventDefault();
else if(!a){var h=c.ui.keyCode;switch(b.keyCode){case h.PAGE_UP:this._move("previousPage",b);break;case h.PAGE_DOWN:this._move("nextPage",b);break;case h.UP:this._keyEvent("previous",b);break;case h.DOWN:this._keyEvent("next",b)}}},input:function(a){b?(b=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();
this.menu=c("\x3cul\x3e").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(a){a.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;this.element[0]!==c.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(a,b){var d;if(this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type))){this.menu.blur();
this.document.one("mousemove",function(){c(a.target).trigger(a.originalEvent)});return}d=b.item.data("ui-autocomplete-item");!1!==this._trigger("focus",a,{item:d})&&a.originalEvent&&/^key/.test(a.originalEvent.type)&&this._value(d.value);(d=b.item.attr("aria-label")||d.value)&&c.trim(d).length&&(this.liveRegion.children().hide(),c("\x3cdiv\x3e").text(d).appendTo(this.liveRegion))},menuselect:function(a,b){var d=b.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==c.ui.safeActiveElement(this.document[0])&&
(this.element.trigger("focus"),this.previous=e,this._delay(function(){this.previous=e;this.selectedItem=d}));!1!==this._trigger("select",a,{item:d})&&this._value(d.value);this.term=this._value();this.close(a);this.selectedItem=d}});this.liveRegion=c("\x3cdiv\x3e",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},
_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(c,a){this._super(c,a);"source"===c&&this._initSource();"appendTo"===c&&this.menu.element.appendTo(this._appendTo());"disabled"===c&&a&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(d){var a=this.menu.element[0];return d.target===this.element[0]||d.target===a||c.contains(a,d.target)},_closeOnClickOutside:function(c){this._isEventTargetInWidget(c)||
this.close()},_appendTo:function(){var d=this.options.appendTo;d&&(d=d.jquery||d.nodeType?c(d):this.document.find(d).eq(0));d&&d[0]||(d=this.element.closest(".ui-front, dialog"));d.length||(d=this.document[0].body);return d},_initSource:function(){var d,a,b=this;c.isArray(this.options.source)?(d=this.options.source,this.source=function(a,b){b(c.ui.autocomplete.filter(d,a.term))}):"string"===typeof this.options.source?(a=this.options.source,this.source=function(d,f){b.xhr&&b.xhr.abort();b.xhr=c.ajax({url:a,
data:d,dataType:"json",success:function(a){f(a)},error:function(){f([])}})}):this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching);this.searching=this._delay(function(){var a=this.term===this._value(),b=this.menu.element.is(":visible"),e=c.altKey||c.ctrlKey||c.metaKey||c.shiftKey;if(!a||a&&!b&&!e)this.selectedItem=null,this.search(null,c)},this.options.delay)},search:function(c,a){c=null!=c?c:this._value();this.term=this._value();if(c.length<this.options.minLength)return this.close(a);
if(!1!==this._trigger("search",a))return this._search(c)},_search:function(c){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:c},this._response())},_response:function(){var d=++this.requestIndex;return c.proxy(function(a){d===this.requestIndex&&this.__response(a);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(c){c&&(c=this._normalize(c));this._trigger("response",null,{content:c});!this.options.disabled&&
c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0;this._close(c)},_close:function(c){this._off(this.document,"mousedown");this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(d){return d.length&&d[0].label&&d[0].value?d:c.map(d,function(a){return"string"===
typeof a?{label:a,value:a}:c.extend({},a,{label:a.label||a.value,value:a.value||a.label})})},_suggest:function(d){var a=this.menu.element.empty();this._renderMenu(a,d);this.isNewMenu=!0;this.menu.refresh();a.show();this._resizeMenu();a.position(c.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},
_renderMenu:function(d,a){var b=this;c.each(a,function(a,c){b._renderItemData(d,c)})},_renderItemData:function(c,a){return this._renderItem(c,a).data("ui-autocomplete-item",a)},_renderItem:function(d,a){return c("\x3cli\x3e").append(c("\x3cdiv\x3e").text(a.label)).appendTo(d)},_move:function(c,a){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(c)||this.menu.isLastItem()&&/^next/.test(c))this.isMultiLine||this._value(this.term),this.menu.blur();else this.menu[c](a);
else this.search(null,a)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(c,a){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(c,a),a.preventDefault()},_isContentEditable:function(c){if(!c.length)return!1;var a=c.prop("contentEditable");return"inherit"===a?this._isContentEditable(c.parent()):"true"===a}});c.extend(c.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$\x26")},filter:function(d,a){var b=new RegExp(c.ui.autocomplete.escapeRegex(a),"i");return c.grep(d,function(a){return b.test(a.label||a.value||a)})}});c.widget("ui.autocomplete",c.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+(1<c?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(d){var a;this._superApply(arguments);this.options.disabled||this.cancelSearch||(a=d&&d.length?this.options.messages.results(d.length):
this.options.messages.noResults,this.liveRegion.children().hide(),c("\x3cdiv\x3e").text(a).appendTo(this.liveRegion))}});return c.ui.autocomplete});
(function(c){"function"===typeof define&&define.amd?define(["jquery","../version","../keycode"],c):c(jQuery)})(function(c){function d(a){for(var b;a.length&&a[0]!==document;){b=a.css("position");if("absolute"===b||"relative"===b||"fixed"===b)if(b=parseInt(a.css("zIndex"),10),!isNaN(b)&&0!==b)return b;a=a.parent()}return 0}function a(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";
this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),
monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,
navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};c.extend(this._defaults,
this.regional[""]);this.regional.en=c.extend(!0,{},this.regional[""]);this.regional["en-US"]=c.extend(!0,{},this.regional.en);this.dpDiv=b(c("\x3cdiv id\x3d'"+this._mainDivId+"' class\x3d'ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'\x3e\x3c/div\x3e"))}function b(a){return a.on("mouseout","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",function(){c(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&
c(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&c(this).removeClass("ui-datepicker-next-hover")}).on("mouseover","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",e)}function e(){c.datepicker._isDisabledDatepicker(g.inline?g.dpDiv.parent()[0]:g.input[0])||(c(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),c(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&
c(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&c(this).addClass("ui-datepicker-next-hover"))}function f(a,b){c.extend(a,b);for(var d in b)null==b[d]&&(a[d]=b[d]);return a}c.extend(c.ui,{datepicker:{version:"1.12.1"}});var g;c.extend(a.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){f(this._defaults,a||{});return this},_attachDatepicker:function(a,b){var d,e,f;d=a.nodeName.toLowerCase();
e="div"===d||"span"===d;a.id||(this.uuid+=1,a.id="dp"+this.uuid);f=this._newInst(c(a),e);f.settings=c.extend({},b||{});"input"===d?this._connectDatepicker(a,f):e&&this._inlineDatepicker(a,f)},_newInst:function(a,d){return{id:a[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:d,dpDiv:d?b(c("\x3cdiv class\x3d'"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'\x3e\x3c/div\x3e")):
this.dpDiv}},_connectDatepicker:function(a,b){var d=c(a);b.append=c([]);b.trigger=c([]);d.hasClass(this.markerClassName)||(this._attachments(d,b),d.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(b),c.data(a,"datepicker",b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var d,e;d=this._get(b,"appendText");var f=this._get(b,"isRTL");b.append&&b.append.remove();d&&(b.append=c("\x3cspan class\x3d'"+
this._appendClass+"'\x3e"+d+"\x3c/span\x3e"),a[f?"before":"after"](b.append));a.off("focus",this._showDatepicker);b.trigger&&b.trigger.remove();d=this._get(b,"showOn");if("focus"===d||"both"===d)a.on("focus",this._showDatepicker);if("button"===d||"both"===d)d=this._get(b,"buttonText"),e=this._get(b,"buttonImage"),b.trigger=c(this._get(b,"buttonImageOnly")?c("\x3cimg/\x3e").addClass(this._triggerClass).attr({src:e,alt:d,title:d}):c("\x3cbutton type\x3d'button'\x3e\x3c/button\x3e").addClass(this._triggerClass).html(e?
c("\x3cimg/\x3e").attr({src:e,alt:d,title:d}):d)),a[f?"before":"after"](b.trigger),b.trigger.on("click",function(){c.datepicker._datepickerShowing&&c.datepicker._lastInput===a[0]?c.datepicker._hideDatepicker():(c.datepicker._datepickerShowing&&c.datepicker._lastInput!==a[0]&&c.datepicker._hideDatepicker(),c.datepicker._showDatepicker(a[0]));return!1})},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(e=
d=c=0;e<a.length;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay()));a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(a,b){var d=c(a);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(b.dpDiv),c.data(a,"datepicker",b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),
b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,b,d,e,g){var B;a=this._dialogInst;a||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=c("\x3cinput type\x3d'text' id\x3d'"+a+"' style\x3d'position: absolute; top: -100px; width: 0px;'/\x3e"),this._dialogInput.on("keydown",this._doKeyDown),c("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},c.data(this._dialogInput[0],"datepicker",a));f(a.settings,
e||{});b=b&&b.constructor===Date?this._formatDate(a,b):b;this._dialogInput.val(b);this._pos=g?g.length?g:[g.pageX,g.pageY]:null;this._pos||(b=document.documentElement.clientWidth,e=document.documentElement.clientHeight,g=document.documentElement.scrollLeft||document.body.scrollLeft,B=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[b/2-100+g,e/2-150+B]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=d;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);
this._showDatepicker(this._dialogInput[0]);c.blockUI&&c.blockUI(this.dpDiv);c.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b,d=c(a),e=c.data(a,"datepicker");d.hasClass(this.markerClassName)&&(b=a.nodeName.toLowerCase(),c.removeData(a,"datepicker"),"input"===b?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):
"div"!==b&&"span"!==b||d.removeClass(this.markerClassName).empty(),g===e&&(g=null))},_enableDatepicker:function(a){var b,d=c(a),e=c.data(a,"datepicker");if(d.hasClass(this.markerClassName)){b=a.nodeName.toLowerCase();if("input"===b)a.disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===b||"span"===b)b=d.children("."+this._inlineClass),b.children().removeClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1);this._disabledInputs=c.map(this._disabledInputs,function(b){return b===a?null:b})}},_disableDatepicker:function(a){var b,d=c(a),e=c.data(a,"datepicker");if(d.hasClass(this.markerClassName)){b=a.nodeName.toLowerCase();if("input"===b)a.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===b||"span"===b)b=d.children("."+this._inlineClass),b.children().addClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0);this._disabledInputs=c.map(this._disabledInputs,function(b){return b===a?null:b});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(a){try{return c.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,b,d){var e,g,B,w,n=this._getInst(a);if(2===arguments.length&&"string"===
typeof b)return"defaults"===b?c.extend({},c.datepicker._defaults):n?"all"===b?c.extend({},n.settings):this._get(n,b):null;e=b||{};"string"===typeof b&&(e={},e[b]=d);n&&(this._curInst===n&&this._hideDatepicker(),g=this._getDateDatepicker(a,!0),B=this._getMinMaxDate(n,"min"),w=this._getMinMaxDate(n,"max"),f(n.settings,e),null!==B&&void 0!==e.dateFormat&&void 0===e.minDate&&(n.settings.minDate=this._formatDate(n,B)),null!==w&&void 0!==e.dateFormat&&void 0===e.maxDate&&(n.settings.maxDate=this._formatDate(n,
w)),"disabled"in e&&(e.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(c(a),n),this._autoSize(n),this._setDate(n,g),this._updateAlternate(n),this._updateDatepicker(n))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,
b){var c=this._getInst(a);c&&!c.inline&&this._setDateFromField(c,b);return c?this._getDate(c):null},_doKeyDown:function(a){var b,d=c.datepicker._getInst(a.target);b=!0;var e=d.dpDiv.is(".ui-datepicker-rtl");d._keyEvent=!0;if(c.datepicker._datepickerShowing)switch(a.keyCode){case 9:c.datepicker._hideDatepicker();b=!1;break;case 13:return b=c("td."+c.datepicker._dayOverClass+":not(."+c.datepicker._currentClass+")",d.dpDiv),b[0]&&c.datepicker._selectDay(a.target,d.selectedMonth,d.selectedYear,b[0]),
(a=c.datepicker._get(d,"onSelect"))?(b=c.datepicker._formatDate(d),a.apply(d.input?d.input[0]:null,[b,d])):c.datepicker._hideDatepicker(),!1;case 27:c.datepicker._hideDatepicker();break;case 33:c.datepicker._adjustDate(a.target,a.ctrlKey?-c.datepicker._get(d,"stepBigMonths"):-c.datepicker._get(d,"stepMonths"),"M");break;case 34:c.datepicker._adjustDate(a.target,a.ctrlKey?+c.datepicker._get(d,"stepBigMonths"):+c.datepicker._get(d,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&c.datepicker._clearDate(a.target);
b=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&c.datepicker._gotoToday(a.target);b=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&c.datepicker._adjustDate(a.target,e?1:-1,"D");b=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&c.datepicker._adjustDate(a.target,a.ctrlKey?-c.datepicker._get(d,"stepBigMonths"):-c.datepicker._get(d,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&c.datepicker._adjustDate(a.target,-7,"D");b=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&
c.datepicker._adjustDate(a.target,e?-1:1,"D");b=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&c.datepicker._adjustDate(a.target,a.ctrlKey?+c.datepicker._get(d,"stepBigMonths"):+c.datepicker._get(d,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&c.datepicker._adjustDate(a.target,7,"D");b=a.ctrlKey||a.metaKey;break;default:b=!1}else 36===a.keyCode&&a.ctrlKey?c.datepicker._showDatepicker(this):b=!1;b&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b,d;b=c.datepicker._getInst(a.target);
if(c.datepicker._get(b,"constrainInput"))return b=c.datepicker._possibleChars(c.datepicker._get(b,"dateFormat")),d=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">d||!b||-1<b.indexOf(d)},_doKeyUp:function(a){var b;a=c.datepicker._getInst(a.target);if(a.input.val()!==a.lastVal)try{if(b=c.datepicker.parseDate(c.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,c.datepicker._getFormatConfig(a)))c.datepicker._setDateFromField(a),c.datepicker._updateAlternate(a),
c.datepicker._updateDatepicker(a)}catch(d){}return!0},_showDatepicker:function(a){a=a.target||a;"input"!==a.nodeName.toLowerCase()&&(a=c("input",a.parentNode)[0]);if(!c.datepicker._isDisabledDatepicker(a)&&c.datepicker._lastInput!==a){var b,e,g,m;b=c.datepicker._getInst(a);c.datepicker._curInst&&c.datepicker._curInst!==b&&(c.datepicker._curInst.dpDiv.stop(!0,!0),b&&c.datepicker._datepickerShowing&&c.datepicker._hideDatepicker(c.datepicker._curInst.input[0]));e=(e=c.datepicker._get(b,"beforeShow"))?
e.apply(a,[a,b]):{};if(!1!==e&&(f(b.settings,e),b.lastVal=null,c.datepicker._lastInput=a,c.datepicker._setDateFromField(b),c.datepicker._inDialog&&(a.value=""),c.datepicker._pos||(c.datepicker._pos=c.datepicker._findPos(a),c.datepicker._pos[1]+=a.offsetHeight),g=!1,c(a).parents().each(function(){g|="fixed"===c(this).css("position");return!g}),e={left:c.datepicker._pos[0],top:c.datepicker._pos[1]},c.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
c.datepicker._updateDatepicker(b),e=c.datepicker._checkOffset(b,e,g),b.dpDiv.css({position:c.datepicker._inDialog&&c.blockUI?"static":g?"fixed":"absolute",display:"none",left:e.left+"px",top:e.top+"px"}),!b.inline)){e=c.datepicker._get(b,"showAnim");m=c.datepicker._get(b,"duration");b.dpDiv.css("z-index",d(c(a))+1);c.datepicker._datepickerShowing=!0;if(c.effects&&c.effects.effect[e])b.dpDiv.show(e,c.datepicker._get(b,"showOptions"),m);else b.dpDiv[e||"show"](e?m:null);c.datepicker._shouldFocusInput(b)&&
b.input.trigger("focus");c.datepicker._curInst=b}}},_updateDatepicker:function(a){this.maxRows=4;g=a;a.dpDiv.empty().append(this._generateHTML(a));this._attachHandlers(a);var b,d=this._getNumberOfMonths(a),f=d[1],m=a.dpDiv.find("."+this._dayOverClass+" a");0<m.length&&e.apply(m.get(0));a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<f&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");a.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+
"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a===c.datepicker._curInst&&c.datepicker._datepickerShowing&&c.datepicker._shouldFocusInput(a)&&a.input.trigger("focus");a.yearshtml&&(b=a.yearshtml,setTimeout(function(){b===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);b=a.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&
!a.input.is(":focus")},_checkOffset:function(a,b,d){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),g=a.input?a.input.outerWidth():0,w=a.input?a.input.outerHeight():0,n=document.documentElement.clientWidth+(d?0:c(document).scrollLeft()),r=document.documentElement.clientHeight+(d?0:c(document).scrollTop());b.left-=this._get(a,"isRTL")?e-g:0;b.left-=d&&b.left===a.input.offset().left?c(document).scrollLeft():0;b.top-=d&&b.top===a.input.offset().top+w?c(document).scrollTop():0;b.left-=Math.min(b.left,
b.left+e>n&&n>e?Math.abs(b.left+e-n):0);b.top-=Math.min(b.top,b.top+f>r&&r>f?Math.abs(f+w):0);return b},_findPos:function(a){for(var b=this._getInst(a),b=this._get(b,"isRTL");a&&("hidden"===a.type||1!==a.nodeType||c.expr.filters.hidden(a));)a=a[b?"previousSibling":"nextSibling"];a=c(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var b,d,e=this._curInst;if(e&&(!a||e===c.data(a,"datepicker"))&&this._datepickerShowing){a=this._get(e,"showAnim");b=this._get(e,"duration");d=function(){c.datepicker._tidyDialog(e)};
if(c.effects&&(c.effects.effect[a]||c.effects[a]))e.dpDiv.hide(a,c.datepicker._get(e,"showOptions"),b,d);else e.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?b:null,d);a||d();this._datepickerShowing=!1;(a=this._get(e,"onClose"))&&a.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),c.blockUI&&(c.unblockUI(),c("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},
_checkExternalClick:function(a){if(c.datepicker._curInst){a=c(a.target);var b=c.datepicker._getInst(a[0]);(!(a[0].id===c.datepicker._mainDivId||0!==a.parents("#"+c.datepicker._mainDivId).length||a.hasClass(c.datepicker.markerClassName)||a.closest("."+c.datepicker._triggerClass).length||!c.datepicker._datepickerShowing||c.datepicker._inDialog&&c.blockUI)||a.hasClass(c.datepicker.markerClassName)&&c.datepicker._curInst!==b)&&c.datepicker._hideDatepicker()}},_adjustDate:function(a,b,d){a=c(a);var e=
this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(e,b+("M"===d?this._get(e,"showCurrentAtPos"):0),d),this._updateDatepicker(e))},_gotoToday:function(a){var b=c(a),d=this._getInst(b[0]);this._get(d,"gotoCurrent")&&d.currentDay?(d.selectedDay=d.currentDay,d.drawMonth=d.selectedMonth=d.currentMonth,d.drawYear=d.selectedYear=d.currentYear):(a=new Date,d.selectedDay=a.getDate(),d.drawMonth=d.selectedMonth=a.getMonth(),d.drawYear=d.selectedYear=a.getFullYear());this._notifyChange(d);
this._adjustDate(b)},_selectMonthYear:function(a,b,d){a=c(a);var e=this._getInst(a[0]);e["selected"+("M"===d?"Month":"Year")]=e["draw"+("M"===d?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a)},_selectDay:function(a,b,d,e){var f;f=c(a);c(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0])||(f=this._getInst(f[0]),f.selectedDay=f.currentDay=c("a",e).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=d,this._selectDate(a,
this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(a){a=c(a);this._selectDate(a,"")},_selectDate:function(a,b){var d;d=c(a);var e=this._getInst(d[0]);b=null!=b?b:this._formatDate(e);e.input&&e.input.val(b);this._updateAlternate(e);(d=this._get(e,"onSelect"))?d.apply(e.input?e.input[0]:null,[b,e]):e.input&&e.input.trigger("change");e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!==typeof e.input[0]&&e.input.trigger("focus"),
this._lastInput=null)},_updateAlternate:function(a){var b,d,e=this._get(a,"altField");e&&(b=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),a=this.formatDate(b,d,this._getFormatConfig(a)),c(e).val(a))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));a=b.getTime();b.setMonth(0);b.setDate(1);return Math.floor(Math.round((a-b)/864E5)/7)+1},parseDate:function(a,b,d){if(null==a||
null==b)throw"Invalid arguments";b="object"===typeof b?b.toString():b+"";if(""===b)return null;var e,f,g,w=0;f=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff;f="string"!==typeof f?f:(new Date).getFullYear()%100+parseInt(f,10);g=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort;var n=(d?d.dayNames:null)||this._defaults.dayNames,r=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,y=(d?d.monthNames:null)||this._defaults.monthNames,p=d=-1,v=-1,t=-1,E=!1,u,q=function(b){(b=e+
1<a.length&&a.charAt(e+1)===b)&&e++;return b},C=function(a){var c=q(a),c="@"===a?14:"!"===a?20:"y"===a&&c?4:"o"===a?3:2;a=new RegExp("^\\d{"+("y"===a?c:1)+","+c+"}");a=b.substring(w).match(a);if(!a)throw"Missing number at position "+w;w+=a[0].length;return parseInt(a[0],10)},G=function(a,d,e){var h=-1;a=c.map(q(a)?e:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});c.each(a,function(a,c){var d=c[1];if(b.substr(w,d.length).toLowerCase()===d.toLowerCase())return h=
c[0],w+=d.length,!1});if(-1!==h)return h+1;throw"Unknown name at position "+w;},H=function(){if(b.charAt(w)!==a.charAt(e))throw"Unexpected literal at position "+w;w++};for(e=0;e<a.length;e++)if(E)"'"!==a.charAt(e)||q("'")?H():E=!1;else switch(a.charAt(e)){case "d":v=C("d");break;case "D":G("D",g,n);break;case "o":t=C("o");break;case "m":p=C("m");break;case "M":p=G("M",r,y);break;case "y":d=C("y");break;case "@":u=new Date(C("@"));d=u.getFullYear();p=u.getMonth()+1;v=u.getDate();break;case "!":u=new Date((C("!")-
this._ticksTo1970)/1E4);d=u.getFullYear();p=u.getMonth()+1;v=u.getDate();break;case "'":q("'")?H():E=!0;break;default:H()}if(w<b.length&&(g=b.substr(w),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;-1===d?d=(new Date).getFullYear():100>d&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=f?0:-100));if(-1<t){p=1;v=t;do{f=this._getDaysInMonth(d,p-1);if(v<=f)break;p++;v-=f}while(1)}u=this._daylightSavingAdjust(new Date(d,p-1,v));if(u.getFullYear()!==d||u.getMonth()+
1!==p||u.getDate()!==v)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?
c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var n=function(b){(b=d+1<a.length&&a.charAt(d+1)===b)&&d++;return b},r=function(a,b,c){b=""+b;if(n(a))for(;b.length<c;)b="0"+b;return b},y=function(a,b,c,d){return n(a)?d[b]:c[b]},p="",v=!1;if(b)for(d=0;d<a.length;d++)if(v)"'"!==a.charAt(d)||n("'")?p+=a.charAt(d):v=!1;else switch(a.charAt(d)){case "d":p+=r("d",b.getDate(),2);break;case "D":p+=y("D",b.getDay(),e,f);break;case "o":p+=r("o",Math.round(((new Date(b.getFullYear(),
b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":p+=r("m",b.getMonth()+1,2);break;case "M":p+=y("M",b.getMonth(),g,c);break;case "y":p+=n("y")?b.getFullYear():(10>b.getFullYear()%100?"0":"")+b.getFullYear()%100;break;case "@":p+=b.getTime();break;case "!":p+=1E4*b.getTime()+this._ticksTo1970;break;case "'":n("'")?p+="'":v=!0;break;default:p+=a.charAt(d)}return p},_possibleChars:function(a){var b,c="",d=!1,e=function(c){(c=b+1<a.length&&a.charAt(b+
1)===c)&&b++;return c};for(b=0;b<a.length;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":c+="0123456789";break;case "D":case "M":return null;case "'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return void 0!==a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),
f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(n){d=b?"":d}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=d?f.getDate():0;a.currentMonth=d?f.getMonth():0;a.currentYear=d?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,d){var e=function(a){var b=new Date;b.setDate(b.getDate()+
a);return b},f=function(b){try{return c.datepicker.parseDate(c.datepicker._get(a,"dateFormat"),b,c.datepicker._getFormatConfig(a))}catch(d){}for(var e=(b.toLowerCase().match(/^c/)?c.datepicker._getDate(a):null)||new Date,f=e.getFullYear(),g=e.getMonth(),e=e.getDate(),k=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=k.exec(b);l;){switch(l[2]||"d"){case "d":case "D":e+=parseInt(l[1],10);break;case "w":case "W":e+=7*parseInt(l[1],10);break;case "m":case "M":g+=parseInt(l[1],10);e=Math.min(e,c.datepicker._getDaysInMonth(f,
g));break;case "y":case "Y":f+=parseInt(l[1],10),e=Math.min(e,c.datepicker._getDaysInMonth(f,g))}l=k.exec(b)}return new Date(f,g,e)};if(b=(b=null==b||""===b?d:"string"===typeof b?f(b):"number"===typeof b?isNaN(b)?d:e(b):new Date(b.getTime()))&&"Invalid Date"===b.toString()?d:b)b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0);return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,
b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,
a.currentMonth,a.currentDay))},_attachHandlers:function(a){var b=this._get(a,"stepMonths"),d="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){c(this).on(this.getAttribute("data-event"),{prev:function(){c.datepicker._adjustDate(d,-b,"M")},next:function(){c.datepicker._adjustDate(d,+b,"M")},hide:function(){c.datepicker._hideDatepicker()},today:function(){c.datepicker._gotoToday(d)},selectDay:function(){c.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),
this);return!1},selectMonth:function(){c.datepicker._selectMonthYear(d,this,"M");return!1},selectYear:function(){c.datepicker._selectMonthYear(d,this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,n,r,y,p,v,t,E,u,q,C,G,H,R,A,F,z,S,P,O,M,Q,K=new Date,K=this._daylightSavingAdjust(new Date(K.getFullYear(),K.getMonth(),K.getDate())),I=this._get(a,"isRTL");g=this._get(a,"showButtonPanel");d=this._get(a,"hideIfNoPrevNext");f=this._get(a,"navigationAsDateFormat");
var J=this._getNumberOfMonths(a),x=this._get(a,"showCurrentAtPos");e=this._get(a,"stepMonths");var T=1!==J[0]||1!==J[1],U=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),N=this._getMinMaxDate(a,"min"),L=this._getMinMaxDate(a,"max"),x=a.drawMonth-x,D=a.drawYear;0>x&&(x+=12,D--);if(L)for(b=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth()-J[0]*J[1]+1,L.getDate())),b=N&&b<N?N:b;this._daylightSavingAdjust(new Date(D,x,1))>
b;)x--,0>x&&(x=11,D--);a.drawMonth=x;a.drawYear=D;b=this._get(a,"prevText");b=f?this.formatDate(b,this._daylightSavingAdjust(new Date(D,x-e,1)),this._getFormatConfig(a)):b;b=this._canAdjustMonth(a,-1,D,x)?"\x3ca class\x3d'ui-datepicker-prev ui-corner-all' data-handler\x3d'prev' data-event\x3d'click' title\x3d'"+b+"'\x3e\x3cspan class\x3d'ui-icon ui-icon-circle-triangle-"+(I?"e":"w")+"'\x3e"+b+"\x3c/span\x3e\x3c/a\x3e":d?"":"\x3ca class\x3d'ui-datepicker-prev ui-corner-all ui-state-disabled' title\x3d'"+
b+"'\x3e\x3cspan class\x3d'ui-icon ui-icon-circle-triangle-"+(I?"e":"w")+"'\x3e"+b+"\x3c/span\x3e\x3c/a\x3e";c=this._get(a,"nextText");c=f?this.formatDate(c,this._daylightSavingAdjust(new Date(D,x+e,1)),this._getFormatConfig(a)):c;d=this._canAdjustMonth(a,1,D,x)?"\x3ca class\x3d'ui-datepicker-next ui-corner-all' data-handler\x3d'next' data-event\x3d'click' title\x3d'"+c+"'\x3e\x3cspan class\x3d'ui-icon ui-icon-circle-triangle-"+(I?"w":"e")+"'\x3e"+c+"\x3c/span\x3e\x3c/a\x3e":d?"":"\x3ca class\x3d'ui-datepicker-next ui-corner-all ui-state-disabled' title\x3d'"+
c+"'\x3e\x3cspan class\x3d'ui-icon ui-icon-circle-triangle-"+(I?"w":"e")+"'\x3e"+c+"\x3c/span\x3e\x3c/a\x3e";e=this._get(a,"currentText");c=this._get(a,"gotoCurrent")&&a.currentDay?U:K;e=f?this.formatDate(e,c,this._getFormatConfig(a)):e;f=a.inline?"":"\x3cbutton type\x3d'button' class\x3d'ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler\x3d'hide' data-event\x3d'click'\x3e"+this._get(a,"closeText")+"\x3c/button\x3e";g=g?"\x3cdiv class\x3d'ui-datepicker-buttonpane ui-widget-content'\x3e"+
(I?f:"")+(this._isInRange(a,c)?"\x3cbutton type\x3d'button' class\x3d'ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler\x3d'today' data-event\x3d'click'\x3e"+e+"\x3c/button\x3e":"")+(I?"":f)+"\x3c/div\x3e":"";f=parseInt(this._get(a,"firstDay"),10);f=isNaN(f)?0:f;e=this._get(a,"showWeek");c=this._get(a,"dayNames");n=this._get(a,"dayNamesMin");r=this._get(a,"monthNames");y=this._get(a,"monthNamesShort");p=this._get(a,"beforeShowDay");v=this._get(a,"showOtherMonths");
t=this._get(a,"selectOtherMonths");E=this._getDefaultDate(a);u="";for(C=0;C<J[0];C++){G="";this.maxRows=4;for(H=0;H<J[1];H++){R=this._daylightSavingAdjust(new Date(D,x,a.selectedDay));q=" ui-corner-all";A="";if(T){A+="\x3cdiv class\x3d'ui-datepicker-group";if(1<J[1])switch(H){case 0:A+=" ui-datepicker-group-first";q=" ui-corner-"+(I?"right":"left");break;case J[1]-1:A+=" ui-datepicker-group-last";q=" ui-corner-"+(I?"left":"right");break;default:A+=" ui-datepicker-group-middle",q=""}A+="'\x3e"}A+=
"\x3cdiv class\x3d'ui-datepicker-header ui-widget-header ui-helper-clearfix"+q+"'\x3e"+(/all|left/.test(q)&&0===C?I?d:b:"")+(/all|right/.test(q)&&0===C?I?b:d:"")+this._generateMonthYearHeader(a,x,D,N,L,0<C||0<H,r,y)+"\x3c/div\x3e\x3ctable class\x3d'ui-datepicker-calendar'\x3e\x3cthead\x3e\x3ctr\x3e";F=e?"\x3cth class\x3d'ui-datepicker-week-col'\x3e"+this._get(a,"weekHeader")+"\x3c/th\x3e":"";for(q=0;7>q;q++)z=(q+f)%7,F+="\x3cth scope\x3d'col'"+(5<=(q+f+6)%7?" class\x3d'ui-datepicker-week-end'":"")+
"\x3e\x3cspan title\x3d'"+c[z]+"'\x3e"+n[z]+"\x3c/span\x3e\x3c/th\x3e";A+=F+"\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e";F=this._getDaysInMonth(D,x);D===a.selectedYear&&x===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,F));q=(this._getFirstDayOfMonth(D,x)-f+7)%7;F=Math.ceil((q+F)/7);this.maxRows=F=T?this.maxRows>F?this.maxRows:F:F;z=this._daylightSavingAdjust(new Date(D,x,1-q));for(S=0;S<F;S++){A+="\x3ctr\x3e";P=e?"\x3ctd class\x3d'ui-datepicker-week-col'\x3e"+this._get(a,"calculateWeek")(z)+
"\x3c/td\x3e":"";for(q=0;7>q;q++)O=p?p.apply(a.input?a.input[0]:null,[z]):[!0,""],Q=(M=z.getMonth()!==x)&&!t||!O[0]||N&&z<N||L&&z>L,P+="\x3ctd class\x3d'"+(5<=(q+f+6)%7?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(z.getTime()===R.getTime()&&x===a.selectedMonth&&a._keyEvent||E.getTime()===z.getTime()&&E.getTime()===R.getTime()?" "+this._dayOverClass:"")+(Q?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!v?"":" "+O[1]+(z.getTime()===U.getTime()?" "+this._currentClass:
"")+(z.getTime()===K.getTime()?" ui-datepicker-today":""))+"'"+(M&&!v||!O[2]?"":" title\x3d'"+O[2].replace(/'/g,"\x26#39;")+"'")+(Q?"":" data-handler\x3d'selectDay' data-event\x3d'click' data-month\x3d'"+z.getMonth()+"' data-year\x3d'"+z.getFullYear()+"'")+"\x3e"+(M&&!v?"\x26#xa0;":Q?"\x3cspan class\x3d'ui-state-default'\x3e"+z.getDate()+"\x3c/span\x3e":"\x3ca class\x3d'ui-state-default"+(z.getTime()===K.getTime()?" ui-state-highlight":"")+(z.getTime()===U.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":
"")+"' href\x3d'#'\x3e"+z.getDate()+"\x3c/a\x3e")+"\x3c/td\x3e",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);A+=P+"\x3c/tr\x3e"}x++;11<x&&(x=0,D++);A+="\x3c/tbody\x3e\x3c/table\x3e"+(T?"\x3c/div\x3e"+(0<J[0]&&H===J[1]-1?"\x3cdiv class\x3d'ui-datepicker-row-break'\x3e\x3c/div\x3e":""):"");G+=A}u+=G}a._keyEvent=!1;return u+g},_generateMonthYearHeader:function(a,b,c,d,e,f,g,n){var r,y,p,v=this._get(a,"changeMonth"),t=this._get(a,"changeYear"),E=this._get(a,"showMonthAfterYear"),u="\x3cdiv class\x3d'ui-datepicker-title'\x3e",
q="";if(f||!v)q+="\x3cspan class\x3d'ui-datepicker-month'\x3e"+g[b]+"\x3c/span\x3e";else{g=d&&d.getFullYear()===c;r=e&&e.getFullYear()===c;q+="\x3cselect class\x3d'ui-datepicker-month' data-handler\x3d'selectMonth' data-event\x3d'change'\x3e";for(y=0;12>y;y++)(!g||y>=d.getMonth())&&(!r||y<=e.getMonth())&&(q+="\x3coption value\x3d'"+y+"'"+(y===b?" selected\x3d'selected'":"")+"\x3e"+n[y]+"\x3c/option\x3e");q+="\x3c/select\x3e"}E||(u+=q+(!f&&v&&t?"":"\x26#xa0;"));if(!a.yearshtml)if(a.yearshtml="",f||
!t)u+="\x3cspan class\x3d'ui-datepicker-year'\x3e"+c+"\x3c/span\x3e";else{n=this._get(a,"yearRange").split(":");p=(new Date).getFullYear();g=function(a){a=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?p+parseInt(a,10):parseInt(a,10);return isNaN(a)?p:a};b=g(n[0]);n=Math.max(b,g(n[1]||""));b=d?Math.max(b,d.getFullYear()):b;n=e?Math.min(n,e.getFullYear()):n;for(a.yearshtml+="\x3cselect class\x3d'ui-datepicker-year' data-handler\x3d'selectYear' data-event\x3d'change'\x3e";b<=n;b++)a.yearshtml+=
"\x3coption value\x3d'"+b+"'"+(b===c?" selected\x3d'selected'":"")+"\x3e"+b+"\x3c/option\x3e";a.yearshtml+="\x3c/select\x3e";u+=a.yearshtml;a.yearshtml=null}u+=this._get(a,"yearSuffix");E&&(u+=(!f&&v&&t?"":"\x26#xa0;")+q);return u+"\x3c/div\x3e"},_adjustInstDate:function(a,b,c){var d=a.selectedYear+("Y"===c?b:0),e=a.selectedMonth+("M"===c?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0);d=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,b)));a.selectedDay=d.getDate();
a.drawMonth=a.selectedMonth=d.getMonth();a.drawYear=a.selectedYear=d.getFullYear();"M"!==c&&"Y"!==c||this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),c=c&&b<c?c:b;return d&&c>d?d:c},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"===typeof a?[1,a]:
a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));0>b&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,
b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,n=null;if(c=this._get(a,"yearRange"))c=c.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),n=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(n+=d);return(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!n||b.getFullYear()<=n)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff"),b="string"!==typeof b?b:(new Date).getFullYear()%100+parseInt(b,
10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"===typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),
b,this._getFormatConfig(a))}});c.fn.datepicker=function(a){if(!this.length)return this;c.datepicker.initialized||(c(document).on("mousedown",c.datepicker._checkExternalClick),c.datepicker.initialized=!0);0===c("#"+c.datepicker._mainDivId).length&&c("body").append(c.datepicker.dpDiv);var b=Array.prototype.slice.call(arguments,1);return"string"===typeof a&&("isDisabled"===a||"getDate"===a||"widget"===a)||"option"===a&&2===arguments.length&&"string"===typeof arguments[1]?c.datepicker["_"+a+"Datepicker"].apply(c.datepicker,
[this[0]].concat(b)):this.each(function(){"string"===typeof a?c.datepicker["_"+a+"Datepicker"].apply(c.datepicker,[this].concat(b)):c.datepicker._attachDatepicker(this,a)})};c.datepicker=new a;c.datepicker.initialized=!1;c.datepicker.uuid=(new Date).getTime();c.datepicker.version="1.12.1";return c.datepicker});
(function(c,d){gmwp.conf.gf=gmwp.conf.gf||{};c.extend(!0,gmwp.conf.gf,{europe:{type:{carline:{hiddenFieldNames:["modelYear","segment"]},bodystyle:{},trim:{},engine:{hiddenFieldIndices:["configurationString"]}},co2:[{fire:"gmitGfSetCo2Image",drilldowns:["priceDetailBean.energyLabel.imageURLs.imageSize1","energyLabel.imageUrl1"],getParams:function(a){return{src:a?a:""}}},{fire:"gmitGfSetCo2Headline",drilldowns:["feature.emissionLabelClassLabel","energyLabel.title"],getParams:function(a){return{newText:a?
a:"",index:0}}},{fire:"gmitGfSetCo2Headline",drilldowns:["feature.emissionLabelClassDisclaimer","energyLabel.header"],getParams:function(a){return{newText:a?a:"",index:2}}},{fire:"gmitGfSetCo2TableColumn",drilldowns:["energyLabel.classLabel",""],getParams:function(a){return{newText:a?a:"",rowIndex:0,columnIndex:0}},getData:function(a){var b="",b=b="",d={rowIndex:0,columnIndex:0,newText:""};c(a).length&&(b=c(a),b=3===b.length?c(b[2]):c(),b=b.find(".energy_label-chart p"),b.find("span").remove(),d.newText=
b.html());return d}},{fire:"gmitGfSetCo2TableColumn",drilldowns:["energyLabel.classValue","priceDetailBean.energyLabel.labelClass"],getParams:function(a){return{newText:a?a:"",rowIndex:0,columnIndex:1}}},{fire:"gmitGfSetCo2TableColumn",drilldowns:["feature.fuelCombinedLabel","energyLabel.consumptionLabel","priceDetailBean.energyLabelEngineAttribute[0].label"],getParams:function(a){return{newText:a?a:"",rowIndex:1,columnIndex:0}}},{fire:"gmitGfSetCo2TableColumn",drilldowns:["feature.fuelCombinedValue",
"energyLabel.consumptionValue","priceDetailBean.energyLabelEngineAttribute[0].$"],getParams:function(a){return{newText:a?a:"",rowIndex:1,columnIndex:1}}},{fire:"gmitGfSetCo2TableColumn",drilldowns:["feature.emissionCombinedLabel","energyLabel.co2EmissionLabel","priceDetailBean.energyLabelEngineAttribute[1].label"],getParams:function(a){return{newText:a?a:"",rowIndex:2,columnIndex:0}}},{fire:"gmitGfSetCo2TableColumn",drilldowns:["feature.emissionCombinedValue","energyLabel.co2EmissionValue","priceDetailBean.energyLabelEngineAttribute[1].$"],
getParams:function(a){return{newText:a?a:"",rowIndex:2,columnIndex:1}}}],pricing:[{fire:"gmitGfSetPricingColumn",drilldowns:["priceDetailBean.optionTotalPrice.label","prices[0].label"],getParams:function(a){return{newText:a?a:"",rowIndex:0,columnIndex:0}}},{fire:"gmitGfSetPricingColumn",drilldowns:["priceDetailBean.optionTotalPrice.$","prices[0].value"],getParams:function(a){return{newText:a?a:"",rowIndex:0,columnIndex:1}}},{fire:"gmitGfSetPricingColumn",drilldowns:["priceDetailBean.configurationTotalPrice[0].label",
"prices[1].label"],getParams:function(a){return{newText:a?a:"",rowIndex:1,columnIndex:0}}},{fire:"gmitGfSetPricingColumn",drilldowns:["priceDetailBean.configurationTotalPrice[0].$","prices[1].value"],getParams:function(a){return{newText:a?a:"",rowIndex:1,columnIndex:1}}},{fire:"gmitGfSetPricingColumn",drilldowns:["priceDetailBean.configurationTotalPrice[1].label","prices[2].label"],getParams:function(a){return{newText:a?a:"",rowIndex:2,columnIndex:0}}},{fire:"gmitGfSetPricingColumn",drilldowns:["priceDetailBean.configurationTotalPrice[1].$",
"prices[2].value"],getParams:function(a){return{newText:a?a:"",rowIndex:2,columnIndex:1}}}],hiddenFields:{modelYear:{fire:"gmitGfUpdateHiddenField",drilldowns:["modelYear","modelyear"],getParams:function(a){return{newValue:a?a:"",index:0}}},ngBackLinkUrl:{fire:"gmitGfUpdateHiddenField",drilldowns:[],getParams:function(a){return{newValue:a?a:"",index:1}}},configurationString:{fire:"gmitGfUpdateHiddenField",drilldowns:["[engine].value"],getParams:function(a){return{newValue:a?a:"",index:2}}},configurationUrl:{fire:"gmitGfUpdateHiddenField",
drilldowns:["configurationURL"],getParams:function(a){return{newValue:a?a:"",index:3}}},transmission:{fire:"gmitGfUpdateHiddenField",drilldowns:["transmission"],getParams:function(a){return{newValue:a?a:"",index:4}}},segment:{fire:"gmitGfUpdateHiddenField",drilldowns:["segmentValue"],getParams:function(a){var b={lcv_carline:"truck",car_carline:"passenger"};return{newValue:b[a]?b[a]:"",index:5}}},configurationId:{fire:"gmitGfUpdateHiddenField",drilldowns:["configID"],getParams:function(a){return{newValue:a?
a:"",index:6}}},agencyRoleCode:{fire:"gmitGfUpdateHiddenField",drilldowns:["agencyrolecode"],getParams:function(a){return{newValue:a?a:"",index:7}}},comment:{fire:"gmitGfUpdateHiddenField",drilldowns:[],getParams:function(a){return{newValue:a?a:"",index:8}}}},headlines:[{fire:"gmitGfSetText",drilldowns:["carlineLabel"],getParams:function(a){return{newText:a?a:"",index:0}}},{fire:"gmitGfSetText",drilldowns:["bodystyleLabel"],getParams:function(a){return{newText:a?a:"",index:1}}},{fire:"gmitGfSetText",
drilldowns:["series"],getParams:function(a){return{newText:a?a:"",index:2}}},{fire:"gmitGfSetText",drilldowns:["engineLabel"],getParams:function(a){return{newText:a?a:"",index:3}}}],image:[{fire:"gmitGfSetImage",drilldowns:["vehicleImageURL","configurationResult.exteriorImageViewSet.namedView[2].$"],getParams:function(a){return{src:a?a:""}}}],queryParameters:[{callerType:"NGVC",dropdownHide:!0,hiddenFieldNames:["modelYear","configurationUrl","transmission","configurationId"]}],dropdownDataDrilldown:"featureSelectionSet.featureSelection",
getFirstDropdownData:function(a){var b=[];a&&(d.hasIn(a,"featureSelectionSetList.featureSelection")?b=a["featureSelectionSetList.featureSelection"]:d.hasIn(a,"featureSelectionSetList.featureSelection.featureSelectionSet")?d.each(a["featureSelectionSetList.featureSelection.featureSelectionSet"],function(a){c.merge(b,a.featureSelection)}):b=a["featureSelectionSetList.featureSelectionSet.featureSelection"]);return b},setupOptionsList:function(a){var b="",e="",f="",g="",h="",k=c("\x3coption\x3e\x3c/option\x3e");
a&&(b=d.hasIn(a,"feature.code")?a["feature.code"]:"",e=d.hasIn(a,"feature.featureId")?a["feature.featureId"]:"",f=d.hasIn(a,"feature.emissionLabelClassImageURLs.imageSize1")?a["feature.emissionLabelClassImageURLs.imageSize1"]:"",g=d.hasIn(a,"feature.featureGroup")?a["feature.featureGroup"]:"",h=d.hasIn(a,"feature.label")?a["feature.label"]:"",k.attr("value",b),k.attr("data-feature-id",e),k.attr("data-co-two-image",f),k.attr("data-segment",g),k.text(h));return k},getDropdownOptionData:function(a){var b=
"",c="",f="";a&&(b=d.hasIn(a,"feature.code")?a["feature.code"]:"",c=d.hasIn(a,"feature.feature.featureId")?a["feature.feature.featureId"]:"",d.hasIn(a,"feature.emissionLabelClassImageURLs.imageSize1"),f=d.hasIn(a,"feature.label")?a["feature.label"]:"");return{featureCode:JSON.stringify(b),featureId:JSON.stringify(c),coTwoUrl:JSON.stringify("feature.emissionLabelClassImageURLs.imageSize1"),label:f}},getImageInfo:function(a){var b="",c="";a&&(b=d.hasIn(a,"configurationResult.exteriorImageViewSet.namedView")?
a["configurationResult.exteriorImageViewSet.namedView"]:"",c=d.hasIn(a,"configurationResult.exteriorImageViewSet.label")?a["configurationResult.exteriorImageViewSet.label"]:"");return{imageData:b,imageLabel:c}},setupOptionTag:function(a,b){var c="",f="",g="",h="",k="";b&&(f=d.hasIn(b,"featureId")?b.featureId:"",g=d.hasIn(b,"featureCode")?b.featureCode:"",h=d.hasIn(b,"coTwoUrl")?b.coTwoUrl:"",k=d.hasIn(b,"label")?b.label:"",c=a?"\x3coption data-feature-id\x3d"+f+" value\x3d"+g+" data-co-two-image\x3d"+
h+"\x3e"+k+"\x3c/option\x3e":"\x3coption data-feature-id\x3d"+f+" value\x3d"+g+"\x3e"+k+"\x3c/option\x3e");return c},getPriceSelectionCode:function(a){return a&&d.hasIn(a,"priceDetailBean.carlineSelection.feature.code")?a.priceDetailBean.carlineSelection.feature.code:""}},north_america:{type:{modelyear:{hiddenFieldNames:[]},bodystyle:{hiddenFieldNames:[]},modelconfig:{hiddenFieldNames:[]},series:{hiddenFieldNames:[]}},typeArray:["modelyear","bodystyle","modelconfig","series"],pricing:[{fire:"gmitGfSetPricingHeadline",
drilldowns:["formattedPrice","msrpPrice"],getParams:function(a){return{newText:a?a:""}}}],headlines:[{fire:"gmitGfSetText",drilldowns:["selectedBrand"],getParams:function(a){return{newText:a?a:"",index:0}}},{fire:"gmitGfSetText",drilldowns:["x-modelyear"],getParams:function(a){return{newText:a?a:"",index:1}}},{fire:"gmitGfSetText",drilldowns:["x-carline"],getParams:function(a){return{newText:a?a:"",index:2}}},{fire:"gmitGfSetText",drilldowns:["trimDesc"],getParams:function(a){return{newText:a?decodeURIComponent(a):
"",index:3}}},{fire:"gmitGfSetText",drilldowns:["intColor"],getParams:function(a){return{newText:a?decodeURIComponent(a):"",index:4}}},{fire:"gmitGfSetText",drilldowns:["extColor"],getParams:function(a){return{newText:a?decodeURIComponent(a):"",index:5}}},{fire:"gmitGfSetText",drilldowns:["vin"],getParams:function(a){return{newText:a?decodeURIComponent(a):"",index:6}}},{fire:"gmitGfSetText",drilldowns:["cashbackOffer"],getParams:function(a){return{newText:a?decodeURIComponent(a):"",index:7}}}],image:[{fire:"gmitGfSetImage",
drilldowns:["imageUrl"],getParams:function(a){return{src:a?decodeURIComponent(a):""}}}],queryParameters:[{name:"byo",dropdownHide:!0,usePrice:!1,useImage:!0,useChangeButton:!1,useMarketXml:!0,dropdownPreselectDrilldowns:["x-modelyear","x-carline","x-bodystyle","trimVcCode"],ajaxCall:{type:"GET",dataType:"xml",url:""},hiddenFieldNames:["RPO"]},{name:"cpo",dropdownHide:!0,usePrice:!0,useImage:!0,useMarketXml:!0,useChangeButton:!0,dropdownPreselectDrilldowns:["x-modelyear","x-carline","x-bodystyle",
"trimVcCode"],ajaxCall:{type:"GET",dataType:"xml",url:""},hiddenFieldNames:[]},{name:"ipe",dropdownHide:!0,usePrice:!0,useImage:!0,useMarketXml:!0,useChangeButton:!0,dropdownPreselectDrilldowns:["x-modelyear","x-carline","x-bodystyle","trimVcCode"],ajaxCall:{type:"GET",dataType:"xml",url:""},hiddenFieldNames:[]},{name:"btl",dropdownHide:!0,usePrice:!0,useImage:!0,useMarketXml:!0,dropdownPreselectDrilldowns:["x-modelyear","x-carline","x-bodystyle","trimVcCode"],ajaxCall:{type:"GET",dataType:"xml",
url:""},hiddenFieldNames:[]},{name:"vco",dropdownHide:!1,usePrice:!1,useImage:!1,dropdownPreselectDrilldowns:["x-modelyear","x-carline"],hiddenFieldNames:[]},{name:"fs",dropdownHide:!0,usePrice:!0,useImage:!0,useMarketXml:!0,useChangeButton:!0,dropdownPreselectDrilldowns:["x-modelyear","x-carline","x-bodystyle","trimVcCode"],ajaxCall:{type:"GET",dataType:"xml",url:""},hiddenFieldNames:[]},{name:"mbtl",dropdownHide:!1,usePrice:!0,useImage:!0,useMarketXml:!0,dropdownPreselectDrilldowns:["x-modelyear",
"x-carline","x-bodystyle","trimVcCode"],ajaxCall:{type:"GET",dataType:"xml",url:""},hiddenFieldNames:[]},{name:"mvco",dropdownHide:!1,usePrice:!0,useImage:!0,useMarketXml:!0,dropdownPreselectDrilldowns:["x-modelyear","x-carline","x-bodystyle","trimVcCode"],ajaxCall:{type:"GET",dataType:"xml",url:""},hiddenFieldNames:[]}],dropdownDataDrilldown:"options",getFirstDropdownData:function(a){var b=[];a&&d.hasIn(a,"options")&&(b=a.options);return b},setupOptionList:function(a,b){var e="",f=b||"modelyear",
g="",h="",k="",l=c("\x3coption\x3e\x3c/option\x3e");a&&(e=d.has(a,"code")?a.code:"",g=d.hasIn(a,"title")?a.title:"",h=d.has(a,"imageUrl")?a.imageUrl:"",k=d.has(a,"formattedPrice")?a.formattedPrice:"",l.attr("value",e),l.text(g),l.attr("data-image-url",h),l.attr("data-formatted-price",k),f&&l.attr("data-feature-id",f+"."+e+"\x3csep/\x3e"));return l},setupOptionTag:function(a,b,e,f){var g="",h=g="",k="",l="",s="",m=c("\x3coption\x3e\x3c/option\x3e");f&&(g=d.hasIn(f,"featureCode")?f.featureCode:"",h=
d.hasIn(f,"coTwoUrl")?f.coTwoUrl:"",k=d.hasIn(f,"label")?f.label:"",l=d.has(f,"imageUrl")?f.imageUrl:"",s=d.has(f,"formattedPrice")?f.formattedPrice:"",m.attr("value",g),m.text(k),m.attr("data-image-url",l),m.attr("data-formatted-price",s),e&&m.attr("data-co-two-image",h),b&&(g=b+"."+g+"\x3csep/\x3e",a&&(g=a+g),m.attr("data-feature-id",g)));return m},getDropdownOptionData:function(a){var b="",c="",f="",g="";a&&(b=d.hasIn(a,"code")?a.code:"",c=d.hasIn(a,"title")?a.title:"",f=d.has(a,"imageUrl")?a.imageUrl:
"",g=d.has(a,"formattedPrice")?a.formattedPrice:"");return{featureCode:b,label:c,imageUrl:f,formattedPrice:g}},parseXML:function(a,b,e){var f=c();a&&b&&e&&d.each(a,c.proxy(function(a){1<b.length&&1<e.length?c(a).attr(b[0])===e[0]&&c(a).attr(b[1])===e[1]&&(f=c(a)):c(a).attr(b[0])===e[0]&&(f=c(a))},this));return f}},dealerInfo:{dealerName:"dealerName",dealerStreetAddress:"address.addressLine1",dealerStreetAddress2:"address.addressLine2",dealerCity:"address.cityName",dealerPostalCode:"address.postalCode",
dealerCountryCode:"address.countryCode",dealerDistance:"distance",dealerBac:"bac",dealerUpsc:"upsc",dealerCadc:"cadc",dealerProvince:"address.countrySubdivisionCode",dealerGeoLocation:"geolocation",dealerId:"id",dealerPhoneNumber:"generalContact.phone1",dealerGeneralOpeningHour:"generalOpeningHour",dealerUrl:"dealerUrl",dealerLocale:"address.countryIso",dealerUSLocale:"en_US"},queryObject:{},cookieObject:{}})})(gmwp.$,gmwp._);
(function(c,d){gmwp.util.gf=gmwp.util.gf||{};c.extend(!0,gmwp.util.gf,{addErrorLabel:function(a){return c('\x3clabel class\x3d"gmit-gf-error-label"\x3e\x3c/label\x3e').append(a)},applyBusinessRule:function(a,b){var e=[],f="";a.is("ul")&&(a=a.find(":input"));if(d.isPlainObject(b))switch(e=b.idsForEffect,d.each(e,c.proxy(function(e){e&&(f=c("#"+e),f=f.hasClass("gmit-gf-group-box")?f.closest(".gmit-flexbox-container"):f.parent(),"hide"===b.effect||"show"===b.effect?"hide"===b.effect?this.showHideElement(e,
!0):this.showHideElement(e,!1):("hideSelect"===b.effect||"showSelect"===b.effect)&&d.includes(b.valuesSelected,a.val())&&("hideSelect"===b.effect?this.showHideElement(e,!1):this.showHideElement(e,!0)))},this)),b.effect){case "trigger":a.off(b.businessRule).on(b.businessRule,c.proxy(this.onTriggerClick,this,e,b));break;case "hide":a.off("click.hide").on("click.hide",c.proxy(this.onHideClick,this,e));break;case "hideSelect":a.off("change.hide").on("change.hide",c.proxy(this.onSelectHide,this,e,b));
break;case "show":a.off("click.show").on("click.show",c.proxy(this.onShowClick,this,e));break;case "showOnly":a.off("click.showOnly").on("click.showOnly",c.proxy(this.onShowOnly,this,e));break;case "showSelect":a.off("change.show").on("change.show",c.proxy(this.onSelectShow,this,e,b));break;case "apply-mandatory-field-value-empty":a&&a.val()||this.applyMandatoryFieldValue(b);break;case "apply-mandatory-field-value":a&&a.val()&&this.applyMandatoryFieldValue(b);break;case "apply-mandatory-field":a.off("click.apply").on("click.apply",
c.proxy(this.onApplyMandatoryFieldClick,this,b));break;case "apply-mandatory-selected":a.off("change.apply").on("change.apply",c.proxy(this.onApplyMandatoryFieldCheck,this,b));break;case "apply-mandatory-checked":a.off("click.apply").on("click.apply",c.proxy(this.onApplyMandatoryFieldCheck,this,b,!1));break;case "remove-mandatory-field":a.off("click.remove").on("click.remove",c.proxy(this.onRemoveMandatoryFieldClick,this,b));break;case "remove-mandatory-field-value":a&&!a.val()&&this.removeMandatoryFieldValue(b);
break;case "remove-mandatory-field-value-non-empty":a&&a.val()&&this.removeMandatoryFieldValue(b);break;case "clear-on-select":a.off("change."+b.businessRule).on("change."+b.businessRule,c.proxy(this.onClearSelect,this,e));break;case "clear-on-click":a.off("click.clearClick").on("click.clearClick",c.proxy(this.onClear,this,b));break;case "populate-from-element":a.off("change.populateFromElement").on("change.populateFromElement",c.proxy(this.populateFromElement,this,b));break;case "populate-element":this.populateElement(b);
break;case "populate-element-value":a.off("change.populateElement"+d.get(b,"value")+d.get(b,"elementId")).on("change.populateElement"+d.get(b,"value")+d.get(b,"elementId"),c.proxy(this.populateElementValue,this,b));break;case "populate-button-action":a.off("click.populateAction").on("click.populateAction",c.proxy(this.populateButtonAction,this,b))}},applyBusinessRules:function(a){a=a.find("[data-validations]");d.each(a,c.proxy(this.processElement,this))},applyMandatoryFieldValue:function(a){d.each(a?
a.validateFields:"",c.proxy(function(a,e){var f=e&&e.field?c("#"+e.field):c(),g=f.data("validations")||[],h=[],k={constraint:"simple",businessRule:"blur",operator:"mandatory",effect:"error_message",message:e&&e.message?e.message:""},l=c('label[for\x3d"'+f.attr("id")+'"]'),s=l.text();s.charAt(s.length-1)!==a&&l.text(s+a);d.each(g,c.proxy(function(a,b){b&&"mandatory"!==b.operator&&a.push(b)},this,h));h.push(k);f.data("validations",h);f.attr("data-abide-validator","gmit_validation")},this,a&&a.mandatoryTextToAdd?
a.mandatoryTextToAdd:"*"))},applyValidations:function(a,b,e,f){var g=e.find("small.error"),h="",k="",l="",s=c(),m="",B="",w="",n="",r="",y="",p="",v="",t=!0;g.html("");d.each(a,c.proxy(function(a){if(d.isPlainObject(a)&&"error_message"===a.effect)switch(a.operator){case "rut":this.rutValidation(b)||(g.append(this.addErrorLabel(a.message)),t=!1);break;case "cpf":this.cpfValidation(b)||(g.append(this.addErrorLabel(a.message)),t=!1);break;case "mandatory":b.is("select")?(k=b.find("option:selected"),
v=0<k.filter("[value]").length?k.val():""):v=b.is('input[type\x3d"radio"]')||b.is('input[type\x3d"checkbox"]')?e.find("input:checked").val():b.val();v||(g.append(this.addErrorLabel(a.message)),t=!1);break;case "equalTo":B=c("#"+a.fieldEqualTo).val();b.val()!==B&&(g.append(this.addErrorLabel(a.message)),t=!1);break;case "regex":p=a.regex?a.regex:"^*$";b.val()&&!b.val().match(p)&&(g.append(this.addErrorLabel(a.message)),t=!1);break;case "equal":w=a.valueToCompare;b.val()!==w&&(g.append(this.addErrorLabel(a.message)),
t=!1);break;case "not_equals":n=a.valueToCompare;b.val()===n&&(g.append(this.addErrorLabel(a.message)),t=!1);break;case "selectFirst":l=c("#"+a.elementId);y="";l.is("select")&&(h=l.find("option:selected"),y=0<h.filter("[value]").length?h.val():"");y||(g.append(this.addErrorLabel(a.message)),t=!1);break;case "lessThan":r=a.valueToCompare;m=b.val()?b.val().length:-1;f.is("ul")&&(m=f.find(":input:checked").length);-1<m&&m<r&&(g.append(this.addErrorLabel(a.message)),t=!1);break;case "greaterThan":r=a.valueToCompare;
m=b.val()?b.val().length:-1;f.is("ul")&&(m=f.find(":input:checked").length);-1<m&&m>r&&(g.append(this.addErrorLabel(a.message)),t=!1);break;case "lessThanEqual":r=a.valueToCompare;m=b.val()?b.val().length:-1;f.is("ul")&&(m=f.find(":input:checked").length);-1<m&&m<=r&&(g.append(this.addErrorLabel(a.message)),t=!1);break;case "greaterThanEqual":r=a.valueToCompare;m=b.val()?b.val().length:-1;f.is("ul")&&(m=f.find(":input:checked").length);-1<m&&m>=r&&(g.append(this.addErrorLabel(a.message)),t=!1);break;
case "lessThanDate":r="today"===a.valueToCompare?new Date(gmwp.$.datepicker.formatDate("mm/dd/yy",new Date)):a.valueToCompare;(m=this.formatDateValue(b))&&m<r&&(g.append(this.addErrorLabel(a.message)),t=!1);break;case "greaterThanDate":r="today"===a.valueToCompare?new Date(gmwp.$.datepicker.formatDate("mm/dd/yy",new Date)):a.valueToCompare;(m=this.formatDateValue(b))&&m>r&&(g.append(this.addErrorLabel(a.message)),t=!1);break;case "lessThanDateElement":s=c("#"+a.fieldEqualTo);r=this.formatDateValue(s);
(m=this.formatDateValue(b))&&m<r&&(g.append(this.addErrorLabel(a.message)),t=!1);this.validateElement(s);break;case "greaterThanDateElement":s=c("#"+a.fieldEqualTo),r=this.formatDateValue(s),(m=this.formatDateValue(b))&&m>r&&(g.append(this.addErrorLabel(a.message)),t=!1),this.validateElement(s)}},this));t?(f.removeClass("warning"),e.removeClass("error")):(f.addClass("warning"),e.addClass("error"));return t},callDtmScript:function(a){window._satellite&&d.isFunction(window._satellite.track)&&window._satellite.track(a)},
centerElementOnScreen:function(a,b){var c=gmwp.dom.$window.height()/3,d=a.offset().top;b.preventDefault();b.stopPropagation();b.stopImmediatePropagation();gmwp.util.isWindowSize("large")||(d>c?gmwp.dom.$window.scrollTop(d-c):gmwp.dom.$window.scrollTop(0))},rutValidation:function(a){var b;if(void 0===a||!a)return!0;b=a.val();if(!b)return!0;if(!b.match(/^\d{7,8}[\dkK]$/))return!1;a=b[b.length-1];b=b.substring(0,b.length-1);"K"===a&&(a="k");return gmwp.util.gf.rutValidator(b).toString()===a?!0:!1},rutValidator:function(a){for(var b=
0,c=1;a;a=Math.floor(a/10))c=(c+a%10*(9-b++%6))%11;return c?c-1:"k"},cpfValidation:function(a){var b,c;if(void 0===a||!a)return!0;a=a.val();if(!a)return!0;if(!a.match(/^(\d{11}|\d{3}[\.]?\d{3}[\.]?\d{3}[\-]?\d{2})$/))return!1;a=a.replace(/\.|\-/g,"");if(11!==a.length||"00000000000"===a||"11111111111"===a||"22222222222"===a||"33333333333"===a||"44444444444"===a||"55555555555"===a||"66666666666"===a||"77777777777"===a||"88888888888"===a||"99999999999"===a)return!1;a=a.split("");a.forEach(function(a,
b,c){c[b]=parseInt(a,10)});b=10*a[0]+9*a[1]+8*a[2]+7*a[3]+6*a[4]+5*a[5]+4*a[6]+3*a[7]+2*a[8];b=11-b%11;10<=b&&(b=0);c=11*a[0]+10*a[1]+9*a[2]+8*a[3]+7*a[4]+6*a[5]+5*a[6]+4*a[7]+3*a[8];c=11-(c+2*b)%11;10<=c&&(c=0);return b!==a[9]||c!==a[10]?!1:!0},filter:function(a,b,c){a=a.split(",");var f=[],g={};d.each(a,function(a){d.set(g,b,a);f=d.concat(f,d.filter(c,g))});return f.length?f:c},formatDateValue:function(a){var b="",c="",f="",g="",c="";a&&(a.data("datepicker-initialized")?b=a.datepicker("getDate"):
(c=d.split(a.val(),"-"),f=0<c.length?c[0]:"",g=1<c.length?c[1]-1:"",c=2<c.length?c[2]:"",b=new Date(f,g,c)));return b},formatPrice:function(a){var b;return a?(b=parseInt(a.replace(/,/g,"")).toFixed(),isNaN(b)?a:"$"+b.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")):""},isMobile:function(){return window.Modernizr.touch&&navigator.userAgent.match(/Mobi/)},loadQueryString:function(a){var b=decodeURIComponent(document.location.search.replace("?","").replace(/\+/g,"%20"));if(b)for(var b=b.split("\x26"),c=0;c<
b.length;c++){var d=b[c].split("\x3d");if(d[0]===a)return d[1]}return null},openLayerWindow:function(a){var b=c(a.currentTarget),b=c("#"+d.replace(b.attr("id"),"-reveal",""));a.preventDefault();b.foundation("reveal","open")},onApplyMandatoryFieldCheck:function(a,b){var e=c(b.currentTarget),f=d.includes(a.valuesSelected,e.val());e.is(":checked")||f?this.applyMandatoryFieldValue(a):this.removeMandatoryFieldValue(a)},onApplyMandatoryFieldClick:function(a){this.applyMandatoryFieldValue(a)},onClear:function(a){var b=
"#"+(a?a.idsForEffect:[]).join(",#");a=c(b).filter(":checkbox:checked");var d=c(b).filter(":radio"),f=c(b).filter("input:text"),b=c(b).filter("select");a.trigger("click");d.prop("checked",!1);f.val("");b.val(b.find("option:first-child").val());Foundation.libs.abide.validate(a,{type:""});Foundation.libs.abide.validate(d,{type:""});Foundation.libs.abide.validate(f,{type:""});Foundation.libs.abide.validate(b,{type:""})},onClearSelect:function(a){var b="#"+a.join(",#");a=c(b).filter(":checkbox:checked");
var d=c(b).filter(":radio"),f=c(b).filter("input:text"),b=c(b).filter("select");a.trigger("click");d.prop("checked",!1);f.val("");b.val(b.find("option:first-child").val());Foundation.libs.abide.validate(a,{type:""});Foundation.libs.abide.validate(d,{type:""});Foundation.libs.abide.validate(f,{type:""});Foundation.libs.abide.validate(b,{type:""})},onHideClick:function(a,b){var e=c(b.currentTarget),f=e.data("toggle-value"),g=0<e.filter(":checked").length||f,h=f?e.find(".icon-plus"):e.find(".icon-minus"),
k=f?"icon-plus":"icon-minus",l=f?"icon-minus":"icon-plus";d.each(a,c.proxy(function(a){this.showHideElement(a,!g)},this));h.removeClass(k).addClass(l);e.data("toggle-value",!f)},onSelectHide:function(a,b,e){e=c(e.currentTarget);var f=d.includes(b.valuesSelected,e.val());f&&d.each(a,c.proxy(function(a){this.showHideElement(a,!f)},this))},onRemoveMandatoryFieldClick:function(a){this.removeMandatoryFieldValue(a)},onResetPlaceHolder:function(a){var b=c(a.currentTarget);if(""===b.val()&&void 0!==b.val())switch(a.type){case "focus":b.attr("placeholder",
"");break;case "blur":b.attr("placeholder",b.data("placeholder"))}},onTriggerClick:function(a,b,e){var f=c(e.currentTarget);e=f.find(".icon-plus");f=f.find(".icon-minus");d.isPlainObject(b)&&(d.each(a,c.proxy(function(a,b,d){a&&d&&(a=c("#"+a),a.trigger(d))},b.businessRule)),0<f.length?f.removeClass("icon-minus").addClass("icon-plus"):0<e.length&&e.removeClass("icon-plus").addClass("icon-minus"))},onShowClick:function(a,b){var e=c(b.currentTarget),f=0<e.filter(":checked").length||e.data("toggle-value");
d.each(a,c.proxy(function(a){this.showHideElement(a,f)},this))},onShowOnly:function(a){d.each(a,c.proxy(function(a){this.showHideElement(a,!0)},this))},onSelectShow:function(a,b,e){e=c(e.currentTarget);var f=d.includes(b.valuesSelected,e.val());f&&d.each(a,c.proxy(function(a){this.showHideElement(a,f)},this))},parseLocationCookie:function(a){var b={};d.each(a,function(a){var f="";if(c.cookie(a))return f=c.cookie(a),"cookie_customer_location"===a&&f?(b=JSON.parse(decodeURIComponent(f)),d.hasIn(b,"cities")&&
b.cities[0]&&d.set(b,"city",b.cities[0]),d.hasIn(b,"country_code")&&b.country_code?d.set(b,"countryCode",b.country_code):d.set(b,"countryCode","US")):"GMWP_location"===a&&f&&(b=gmwp.util.parseAkamaiCookie(f),gmwp.util.parseZipCodeFromAkamaiCookie(f)&&d.set(b,"zipcode",gmwp.util.parseZipCodeFromAkamaiCookie(f)),d.hasIn(b,"region_code")&&b.region_code&&d.set(b,"state",b.region_code),d.hasIn(b,"country_code")&&b.country_code?d.set(b,"countryCode",b.country_code):d.set(b,"countryCode","US")),!1});return b},
parseQueryString:function(){var a=gmwp.util.getQueryParams()||"";return gmwp._.cloneDeepWith(a,gmwp.util.gf.encodeHtml)},encodeHtml:function(a){return gmwp._.isArray(a)||gmwp._.isObject(a)?void 0:gmwp.util.gf.sanitizeData(a)},populateFromElement:function(a,b){var e=d.get(a,"idsForEffect",[]),f=d.get(a,"validateFields",[]),e="#"+e.join(",#"),g=c(b.currentTarget),h=c(),h="";g.is("select")?(h=g.find("option:selected"),h=h.filter("[value]").length?h.val():""):h=g.val();c(e).val(h);h||d.each(f,function(a){c("#"+
a.additionalFieldCheck).val("")})},populateElement:function(a){var b=a?a.idsForEffect:"",e=a?a.value:"",f=!0;a=c("#"+(a?a.elementId:""));d.each(b,function(a){c("#"+a).val()&&(f=!1)});f?a.val(""):a.val(e)},populateElementValue:function(a,b){var e=c(b.currentTarget),f=d.get(a,"value"),g=d.get(a,"valuesSelected"),h=d.get(a,"elementId"),e=d.includes(g,e.val()),h=c("#"+h);e&&f&&h.val(f)},populateButtonAction:function(a){var b=a?a.value:"";a=c("#"+(a?a.elementId:""));b&&a.data("action",b)},processElement:function(a){a=
c(a);var b=a.data("validations");d.each(b,c.proxy(this.applyBusinessRule,this,a))},showHideElement:function(a,b){var d;a&&(d=c("#"+a),d.hasClass("gmit-gf-group-box")?d.closest(".gmit-flexbox-container").toggle(b):d.hasClass("gmit-gf-comment")?d.closest(".gmit-gf-comment-field").parent().toggle(b):(d.hasClass("gmit-gf-radio-group")&&d.closest(".gmit-gf-field-group-container").parent().toggle(b),d.parent().toggle(b)))},removeErrors:function(a){a.find(".error").addClass("hide")},removeMandatoryFieldValue:function(a){var b=
a?a.validateFields:[];a=a&&a.mandatoryTextToAdd?a.mandatoryTextToAdd:"*";var e=!0;d.each(b,c.proxy(function(a){a=c("#"+(a&&a.field?a.field:""));var b=d.find(a.data("validations"),{effect:"apply-mandatory-field-value"});a.val()&&b&&(e=!1)},this));d.each(b,c.proxy(function(a,b,e){var k=e&&e.field?c("#"+e.field):c(),l=k.data("validations")||[];e=(e=e&&e.additionalFieldCheck?e.additionalFieldCheck:"")?c("#"+e).filter(":checked"):c();var s=c('label[for\x3d"'+k.attr("id")+'"]'),m=s.text(),B=m.charAt(m.length-
1);b&&(B===a&&s.text(m.slice(0,-1)),d.remove(l,{operator:"mandatory",effect:"error_message"}),0<l.length?(k.data("validations",l),k.attr("data-abide-validator","gmit_validation")):(k.data("validations",""),k.removeAttr("data-abide-validator")));this.validateElement(k);0<e.filter(":checked").length&&e.trigger("click")},this,a,e))},resetPlaceHolder:function(a){a.data("placeholder",a.attr("placeholder"));a.off("focus.reset").on("focus.reset",c.proxy(this.onResetPlaceHolder,this));a.off("blur.reset").on("blur.reset",
this.onResetPlaceHolder)},sanitizeData:function(a){return c("\x3cdiv\x3e\x3c/div\x3e").text(a).html()},setupModuleId:function(a,b){var c="",c=a.find(b);return gmwp.util.getModuleId(c)},setupModuleIdsFromArray:function(a){var b="",e=[];0<a.length&&d.each(a,c.proxy(function(a){b=gmwp.util.getModuleId(c(a));e.push(b)},this));return e},showError:function(a,b,c){b=b.find(".error");a.addClass("require-error");b.html(c).removeClass("hide");return!1},subscribeModuleIds:function(a,b){a.length&&d.each(a,c.proxy(function(a){b.sandbox.subscribe(a,
b)},this))},validateElement:function(a){window.setTimeout(c.proxy(function(){0<a.filter("[data-invalid]").length&&Foundation.libs.abide.validate(a,{type:""})},this,a),10)},loadGoogleMapApi:function(a,b,d,f){if(this.mapDfd)return this.mapDfd.promise();this.mapDfd=c.Deferred();window.google&&window.google.maps&&this.mapDfd.resolve(window.google.maps);b?(a+="?client\x3d"+b,d&&(a+="\x26channel\x3d"+d)):a+="?key\x3d"+f;c.getScript(a+"\x26callback\x3dgmwp.util.gf.mapCallback");return this.mapDfd.promise()},
mapCallback:function(){this.mapDfd.resolve(window.google.maps)}})})(gmwp.$,gmwp._);
(function(c){Foundation&&Foundation.libs&&Foundation.libs.abide&&Foundation.libs.abide.settings&&(gmwp.conf.ui.foundation&&gmwp.conf.ui.foundation.abide||c.extend(!0,Foundation.libs.abide.settings,{error_labels:!1,live_validate:!1,validate_on_blur:!0,timeout:0,validators:{gmit_validation:function(d,a,b){d=c(d);b=c(b);a=d.data("validations");var e=b.find("ul");if(d.is('input[type\x3d"radio"]')||d.is('input[type\x3d"checkbox"]'))b=d.closest(".gmit-gf-field-options"),e=b.find(".gmit-gf-field-group"),
a=b.find(".gmit-gf-field-group").data("validations");return gmwp.util.gf.applyValidations(a,d,b,e)}}}))})(gmwp.$);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_brochure:{name:"gmit_gf_brochure",boxContainerSelector:".js-brochure-item",boxContainerBorderSelector:".js-brochure-item",brochureListSelector:".gmit-gf-brochure-list",buttonSelector:".q-mod-gmit-gf-button",dataPreSelectedValues:"pre-selected-values",disabledClass:"gmit-gf-disabled",errorSelector:"small.error",errorClass:"error",inputCheckboxSelector:".gmit-gf-input-checkbox",dataMaxSelected:"max-selected",dataBorchureId:"brochureid",nonSelected:".gmit-gf-brochure .gmit-gf-input-checkbox:not(:checked)",
dataNoBrochureSelected:"no-brochure-selected-message",requestTypeSelector:".gmit-gf-request-type",brochureIds:".js-gmit-gf-hidden-brochure-ids",selectedBrochuresSelector:".gmit-gf-brochure .gmit-gf-input-checkbox:checked"}});gmwp.mod.gmit_gf_brochure=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx;this.preSelectValues=a.data(this.cfg.dataPreSelectedValues)?a.data(this.cfg.dataPreSelectedValues).split(","):[];this.$selectedBrochures=c();this.$nonSelectedBrochures=c([]);
this.$brochures=a.find(":input");this.toggleValue=!1;this.maxSelected=a.data(this.cfg.dataMaxSelected);this.disableBrochures=!1;this.noBrochureSelectedMessage=a.data(this.cfg.dataNoBrochureSelected);this.idArray=[];this.$requestType=gmwp.util.getClosestModule(a,gmwp.conf.cmp.gmit_gf_request_type.name);this.$brochureIdsHiddenField=this.$requestType.find(this.cfg.brochureIds);this.brochureIdHiddenFieldId=gmwp.util.getModuleId(this.$brochureIdsHiddenField.parent());this.brochures={selectedBrochureId:"",
toggleValue:!1};this.requestTypeId=gmwp.util.getModuleId(this.$requestType);this.sandbox.subscribe(this.id,this)},prepare:function(){var a=this.$ctx,b=this.$requestType.find(this.cfg.buttonSelector);a.on("click.brochure",this.cfg.inputCheckboxSelector,c.proxy(this.selectBrochure,this)).on("click.brochureUpdate",this.cfg.inputCheckboxSelector,c.proxy(this.updateBrochureIDs,this));0<this.requestTypeId&&this.sandbox.subscribe(this.requestTypeId,this);0<this.brochureIdHiddenFieldId&&this.sandbox.subscribe(this.brochureIdHiddenFieldId,
this);d.each(b,c.proxy(function(a){a=c(a);a=gmwp.util.getModuleId(a);0<a&&this.sandbox.subscribe(a,this)},this));gmwp.util.debugModule(this)},finish:function(){var a=gmwp.conf.gf.queryObject&&gmwp.conf.gf.queryObject.chosenVehicles?gmwp.conf.gf.queryObject.chosenVehicles.split(","):[];this.$brochures.off("focus");this.preSelectValues.length&&d.each(this.preSelectValues,c.proxy(function(a){this.$brochures.filter('[value\x3d"'+a+'"]').trigger("click")},this));a.length&&d.each(a,c.proxy(function(a){this.$brochures.filter('[value\x3d"'+
a+'"]').trigger("click")},this))},onDisableBrochures:function(){(this.disableBrochures=this.$selectedBrochures.length===this.maxSelected)?this.$nonSelectedBrochures.prop("disabled",!0).closest(this.cfg.boxContainerBorderSelector).addClass(this.cfg.disabledClass):this.$nonSelectedBrochures.prop("disabled",!1).closest(this.cfg.boxContainerBorderSelector).removeClass(this.cfg.disabledClass)},onShowBrochureSelectedError:function(){this.$ctx.find(this.cfg.errorSelector).html(gmwp.util.gf.addErrorLabel(this.noBrochureSelectedMessage));
d.each(this.$brochures,c.proxy(function(a){c(a).closest(this.cfg.boxContainerSelector).addClass(this.cfg.errorClass).closest(this.cfg.brochureListSelector).addClass(this.cfg.errorClass)},this));this.$brochures.filter(":first").focus()},onResetShowBrochureSelectedError:function(){this.$ctx.find(this.cfg.errorSelector).html("");d.each(this.$brochures,c.proxy(function(a){c(a).closest(this.cfg.boxContainerSelector).removeClass(this.cfg.errorClass).closest(this.cfg.brochureListSelector).removeClass(this.cfg.errorClass)},
this))},onGmitGfClearDisabledBrochures:function(){this.$nonSelectedBrochures.prop("disabled",!1).closest(this.cfg.boxContainerBorderSelector).removeClass(this.cfg.disabledClass)},selectBrochure:function(a){a=c(a.currentTarget);this.$selectedBrochures=this.$ctx.closest(this.cfg.requestTypeSelector).find(this.cfg.selectedBrochuresSelector);this.$nonSelectedBrochures=this.$ctx.closest(this.cfg.requestTypeSelector).find(this.cfg.nonSelected);this.brochures={selectedBrochureId:a.attr("id"),toggleValue:0<
a.filter(":checked").length};this.fire("brochureItemSelect",this.brochures,[this.id]);this.onDisableBrochures();this.$selectedBrochures.length?(this.fire("resetShowBrochureSelectedError",this.cfg.name),this.onResetShowBrochureSelectedError()):this.fire("gmitGfCheckNoBrochureSelected",[this.requestTypeId])},updateBrochureIDs:function(a){var b=c(a.currentTarget);a={};this.idArray=this.$brochureIdsHiddenField.val()?this.$brochureIdsHiddenField.val().split(","):[];this.$brochureIdsHiddenField.length&&
(0<b.filter(":checked").length&&b.data(this.cfg.dataBorchureId)?this.idArray.push(b.data(this.cfg.dataBorchureId)):this.idArray=d.remove(this.idArray,c.proxy(function(a){return a!==b.data(this.cfg.dataBorchureId)},this)),a.text=this.idArray.length?d.join(this.idArray,","):"",0<this.brochureIdHiddenFieldId&&this.fire("gmitGfUpdateValue",a,[this.brochureIdHiddenFieldId]))}})})(gmwp.$,gmwp._);
(function(c){c.extend(!0,gmwp.conf.cmp,{gmit_gf_button:{name:"gmit_gf_button",brochureSelector:".gmit-gf-brochure",formSelector:"form",requestTypeSelector:".gmit-gf-request-type",slideUpSpeed:500,slideDownSpeed:500,scrollToTopSpeed:500,thankYouSelector:".gmit-gf-thank-you"}});gmwp.mod.gmit_gf_button=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){this.$requestType=this.$ctx.closest(this.cfg.requestTypeSelector);this.$brochures=this.$requestType.find(this.cfg.brochureSelector);this.$button=
this.$requestType.find(this.cfg.buttonSelector);this.$form=this.$requestType.find(this.cfg.formSelector);this.$thankYou=this.$requestType.find(this.cfg.thankYouSelector);this.action=this.actionUrl="";this.animateOpts={scrollTop:0};this.sandbox.subscribe(this.id,this);this.subscribe("gmit_gf_ecommerce",this)},prepare:function(){this.$ctx.on("click","button",c.proxy(this.setAction,this)).on("click","a",c.proxy(this.setAction,this))},displayThankYou:function(){if(0>=this.$brochures.find(":input:checked").length)return this.fire("showBrochureSelectedError",
[this.id]),!1;this.fire("resetShowBrochureSelectedError",[this.id]);gmwp.dom.$htmlBody.stop().animate(this.animateOpts,this.cfg.scrollToTopSpeed);this.$form.slideUp(this.cfg.slideUpSpeed,c.proxy(this.thankYouSlideDown,this))},thankYouSlideDown:function(){this.$thankYou.slideDown(this.cfg.slideDownSpeed,this.documentReflow)},documentReflow:function(){gmwp.dom.$document.foundation("reflow")},setAction:function(d){var a=c(d.currentTarget);this.actionUrl=a.data("url")||"";this.action=a.data("action")||
"";switch(this.action){case "print":d.preventDefault();window.print();break;case "link":this.actionUrl&&(window.location=this.actionUrl);break;case "download":d.preventDefault(),c.proxy(this.displayThankYou(),this)}}})})(gmwp.$);
(function(c){c.extend(!0,gmwp.conf.cmp,{gmit_gf_checkbox_field:{name:"gmit_gf_checkbox_field",selector:".gmit-gf-input-checkbox"}});gmwp.mod.gmit_gf_checkbox_field=gmwp.mod.AtomicMod.extend({events:{click:[{}]},initElements:function(){this.$checkboxSelector=this.$ctx.find(this.cfg.selector)},finish:function(){this.$checkboxSelector.off("focus")}})})(gmwp.$);
(function(c){c.extend(!0,gmwp.conf.cmp,{gmit_gf_co2_data:{name:"gmit_gf_co2_data",selector:".gmit-gf-co2-data",imageSelector:".gmit-gf-co2-chart",textGroupSelector:".gmit-gf-text-group",tableSelector:".gmit-gf-table"}});gmwp.mod.gmit_gf_co2_data=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var c=this.$ctx;this.imageId=gmwp.util.gf.setupModuleId(c,this.cfg.imageSelector);this.imageCheck=0<this.imageId;this.textGroupId=gmwp.util.gf.setupModuleId(c,this.cfg.textGroupSelector);this.textGroupCheck=
0<this.textGroupId;this.tableId=gmwp.util.gf.setupModuleId(c,this.cfg.tableSelector);this.tableCheck=0<this.tableId;this.sandbox.subscribe(this.id,this)},prepare:function(){this.imageCheck&&this.sandbox.subscribe(this.imageId,this);this.textGroupCheck&&this.sandbox.subscribe(this.textGroupId,this);this.tableCheck&&this.sandbox.subscribe(this.tableId,this)},onGmitGfSetCo2Image:function(c){c={src:c.src};c.src&&this.imageCheck&&this.fire("gmitGfSetImage",c,[this.imageId])},onGmitGfHideCo2Image:function(){this.imageCheck&&
this.fire("gmitGfHideImage",[this.imageId])},onGmitGfShowCo2Image:function(){this.imageCheck&&this.fire("gmitGfShowImage",[this.imageId])},onGmitGfSetCo2TextGroup:function(c){c={newText:c.newText};c.newText&&this.textGroupCheck&&this.fire("gmitGfSetTextGroup",c,[this.textGroupId])},onGmitGfHideCo2TextGroup:function(){this.textGroupCheck&&this.fire("gmitGfHideTextGroup",[this.textGroupId])},onGmitGfShowCo2TextGroup:function(){this.textGroupCheck&&this.fire("gmitGfShowTextGroup",[this.textGroupId])},
onGmitGfSetCo2Headline:function(c){c={newText:c.newText,index:c.index};c.newText&&c.index&&this.textGroupCheck&&this.fire("gmitGfSetText",c,[this.textGroupId])},onGmitGfHideHeadline:function(c){c.moduleId&&this.fire("gmitGfHideText",[c.moduleId])},onGmitGfShowHeadline:function(c){c.moduleId&&this.fire("gmitGfShowHeadline",[c.moduleId])},onGmitGfHideCo2:function(){this.$ctx.hide()},onGmitGfShowCo2:function(){this.$ctx.show()},onGmitGfSetCo2TableColumn:function(c){c&&this.tableCheck&&this.fire("gmitGfSetTableColumn",
c,[this.tableId])}})})(gmwp.$);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_comment_field:{name:"gmit_gf_comment_field",countSelector:".gmit-gf-count",countSpanSelector:".gmit-gf-count .gmit-gf-count-down",maxLengthAttr:"maxlength",selector:".gmit-gf-comment"}});gmwp.mod.gmit_gf_comment_field=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx;this.$counter=this.$ctx.find(this.cfg.countSpanSelector);this.$commentField=a.find(this.cfg.selector)},prepare:function(){var a=this.$ctx,b=this.$commentField.attr("id"),
b=b?b.replace("gmit-gf",""):"x";(b=gmwp.util.gf.loadQueryString(b))&&this.$commentField.val(gmwp.util.gf.sanitizeData(b));gmwp.util.gf.resetPlaceHolder(this.$commentField);if(0<this.$counter.length)a.on("keyup",this.cfg.selector,c.proxy(this.countCharacters,this));a.on("blur.rules",this.cfg.selector,c.proxy(this.applyBusinessRule,this));this.sandbox.subscribe(this.id,this)},finish:function(){this.$ctx.off("focus")},applyBusinessRule:function(){gmwp.util.gf.applyBusinessRules(this.$ctx)},countCharacters:function(a){a=
c(a.currentTarget);this.onGmitGfCountCharacters(a);return!1},onGmitGfCountCharacters:function(a){var b=a.val(),c=gmwp.util.isNumber(a.attr(this.cfg.maxLengthAttr))?a.attr(this.cfg.maxLengthAttr):0,d=b?b.length:0,g=c-d;0<c&&(d>c&&b&&a.val(b.substring(0,c)),this.$counter.html(g))},onGmitGfClearCommentField:function(){this.$commentField.val("")},onGmitGfResetCharacterCounter:function(){this.$counter.html(this.$commentField.attr(this.cfg.maxLengthAttr))},onGmitGfUpdateValue:function(a){var b=a.text?d.clone(a.text):
"";d.each(a.replaceValues,function(a){b=b.replace("{"+a+"}",gmwp.conf.gf.queryObject[a]||"")});this.$commentField.val(b);this.onGmitGfCountCharacters(this.$commentField)},onGmitGfAddValuesToCommentField:function(a){var b="",e="",f=[this.$commentField.val()];d.each(a,c.proxy(function(a){var d=[],k=d="";a=c(a);var l=a.data("questions")?a.data("questions"):a.data("callers"),s=l&&1===l.length?l[0].key:"";s&&(a.hasClass("gmit-gf-input-radio")||a.hasClass("gmit-gf-input-checkbox")?a.is(":checked")&&(d=
a.next(),d=s||d.text(),k=l&&l.length?l[0].value:a.val()):a.hasClass(".gmit-gf-comment")?(b=a.val(),e=s):(d=a.prev(),d=s||d.text(),k=a.val()),k&&f.push(d+"\x3d"+k))},this));b&&f.push(e+"\x3d"+b);this.$commentField.val(f.join(" "))}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_datepicker:{name:"gmit_gf_datepicker",arrowClass:"gmit-gf-down-arrow",arrowSelector:".gmit-gf-down-arrow",day:".js-gmit-gf-day",month:".js-gmit-gf-month",hasDatePickerClass:"hasDatePicker",hideClass:"gmit-gf-hide",selector:".gmit-gf-datepicker-container .gmit-gf-input-text",year:".js-gmit-gf-year"}});gmwp.mod.gmit_gf_datepicker=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){this.$datePicker=this.$ctx.find(this.cfg.selector);this.$day=
this.$ctx.find(this.cfg.day);this.$downArrow=this.$ctx.find(this.cfg.arrowSelector);this.$month=this.$ctx.find(this.cfg.month);this.$year=this.$ctx.find(this.cfg.year)},prepare:function(){this.$ctx.on("click",this.cfg.arrowSelector,c.proxy(this.onDropDownClick,this));this.$datePicker.on("blur",c.proxy(this.onDropDownBlur,this));this.$datePicker.on("focus",c.proxy(this.onFocusEvent,this));this.setupDatePicker()},finish:function(){},onBroadcastBreakpointChange:function(){this.setupDatePicker()},datePickerBeforeShow:function(a,
b){var c=b.dpDiv;c.css({position:"absolute",top:this.$datePicker.offsetHeight+"px",left:this.$datePicker.offsetWidth-this.$datePicker.width+"px"});this.$datePicker.after(c);c.hide()},datePickerOnClose:function(){c(this).trigger("blur")},onDropDownClick:function(){this.$datePicker.focus()},onDropDownBlur:function(){var a="",b="",c=a="",b="";this.$datePicker.data("datepicker-initialized")?(b=(a=this.$datePicker.datepicker("getDate"))?a.getDate():"",c=a?a.getMonth()+1:"",a=a?a.getFullYear():""):(a=this.$datePicker.val(),
b=d.split(a,"-"),a=0<b.length?b[0]:"",c=1<b.length?b[1]:"",b=2<b.length?b[2]:"");this.$month.val(c);this.$year.val(a);this.$day.val(b);gmwp.util.gf.applyBusinessRules(this.$ctx);this.$downArrow.removeClass("active")},setupDatePicker:function(){var a=this.$datePicker.data("datepickerlocalization"),b="",e="",f="",g="",e="";gmwp.util.gf.isMobile()?(window.Modernizr&&window.Modernizr.inputtypes.date&&this.$datePicker.data("datepicker-initialized")&&(e=(b=this.$datePicker.datepicker("getDate"))?b.getDate():
"",g=b?b.getMonth()+1:"",f=b?b.getFullYear():"",g=g&&10>g?"0"+g.toString():g,e=e&&10>e?"0"+e.toString():e,this.$datePicker.removeClass(this.cfg.hasDatePickerClass).data("datepicker-initialized",!1).attr("type","date").datepicker("destroy"),this.$downArrow.addClass(this.cfg.hideClass),b&&this.$datePicker.val(f+"-"+g+"-"+e)),this.$datePicker.attr("readonly",!1)):(gmwp.util.gf.resetPlaceHolder(this.$datePicker),this.$datePicker.data("datepicker-initialized")||(b=this.$datePicker.val(),e=d.split(b,"-"),
f=0<e.length?e[0]:"",g=1<e.length?e[1]-1:"",e=2<e.length?e[2]:"",this.$datePicker.datepicker({onClose:this.datePickerOnClose,showOtherMonths:!0,beforeShow:c.proxy(this.datePickerBeforeShow,this)}),this.$datePicker.attr("type","text").attr("readonly",!0),c.datepicker.setDefaults(a),this.$downArrow.removeClass(this.cfg.hideClass),this.$datePicker.data("datepicker-initialized",!0),b&&this.$datePicker.datepicker("setDate",new Date(f,g,e))))},onFocusEvent:function(a){this.$downArrow.addClass("active");
gmwp.util.gf.centerElementOnScreen(this.$datePicker,a);this.$datePicker.data("datepicker-initialized")&&this.$datePicker.datepicker("show")}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_dealer_selector:{name:"gmit_gf_dealer_selector",closeList:".gmit-gf-dealer-search-results .gmit-gf-icon-close",closeDealer:".gmit-gf-selected-dealer .gmit-gf-icon-close",dataClientApplicationId:"client-application-id",dataDealer:"dealer",dataDealerFound:"dealer-found-text",dataLocale:"locale",dataEndPoints:"end-points",dataFilterServiceTypes:"filter-service-types",dataExcludeActivities:"exclude-activities",dataActivities:"activities",dataNoDealer:"no-dealer-message",
dataServerError:"server-error-message",dealerBac:".js-gmit-gf-hidden-dealer-bac",dealerCity:".js-gmit-gf-hidden-dealer-city",dealerName:".js-gmit-gf-hidden-brand-site-name",dataNoDealerSelected:"no-dealer-selected",dealerCountSelector:".gmit-gf-dealer-count",dealerId:".js-gmit-gf-hidden-dealer-id",dealerItemSelector:".gmit-gf-dealer-items",dealerPostalCode:".js-gmit-gf-hidden-dealer-postal-code",dealerSearchResultSelector:".gmit-gf-dealer-search-results",dealerStreet:".js-gmit-gf-hidden-dealer-street",
dealerUpsc:".js-gmit-gf-hidden-dealer-upsc",errorSelector:".gmit-gf-search-error",hiddenContainerSelector:".gmit-gf-dealer-hidden-section",hideClass:"gmit-gf-hide",inputSelector:":input",newSearchSelector:".js-gmit-gf-new-search",radioButtonSelector:".gmit-gf-input-radio",searchInputSelector:".gmit-gf-input-text",searchOptionSelector:".gmit-gf-multioption-radio",searchOptionContainerSelector:".gmit-gf-search-options",searchSelector:".js-gmit-gf-search",searchTextSelector:".gmit-gf-text-field",selectDealer:".gmit-gf-dealer",
selectedDealerAddress:".gmit-gf-selected-dealer-address",selectedDealerName:".gmit-gf-selected-dealer-name",selectedDealerSelector:".gmit-gf-selected-dealer",animateSpeed:500,spinnerSelector:".gmit-gf-loader",validationItems:".gmit-gf-input-radio, .gmit-gf-input-text",vehicleSelector:".gmit-gf-vehicle-selector"}});gmwp.mod.gmit_gf_dealer_selector=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx;this.clientApplicationId=a.data(this.cfg.dataClientApplicationId);this.$closeDealer=
a.find(this.cfg.closeDealer);this.$newSearchSelector=a.find(this.cfg.newSearchSelector);this.$searchOption=a.find(this.cfg.searchOptionSelector);this.$searchText=a.find(this.cfg.searchTextSelector);this.$searchResults=a.find(this.cfg.dealerSearchResultSelector);this.$searchOptionContainer=a.find(this.cfg.searchOptionContainerSelector);this.filterSeviceTypes=a.data(this.cfg.dataFilterServiceTypes);this.excludeActivities=a.data(this.cfg.dataExcludeActivities);this.activities=a.data(this.cfg.dataActivities);
this.$hiddenValues=a.find(this.cfg.hiddenContainerSelector);this.$selectedDealer=a.find(this.cfg.selectedDealerSelector);this.$spinner=a.find(this.cfg.spinnerSelector);this.$dealerItems=a.find(this.cfg.dealerItemSelector);this.$validationElements=a.find(this.cfg.validationItems);this.$radioButtons=this.$searchOption.find(this.cfg.radioButtonSelector);this.$searchInput=this.$searchText.find(this.cfg.searchInputSelector);this.$searchError=this.$searchResults.find(this.cfg.errorSelector);this.$dealerCount=
this.$searchResults.find(this.cfg.dealerCountSelector);this.dealerFoundText=this.$dealerCount.data(this.cfg.dataDealerFound);this.locale=a.data(this.cfg.dataLocale);this.noDealersMessage=a.data(this.cfg.dataNoDealer);this.noDealerSelected=a.data(this.cfg.dataNoDealerSelected);this.serverErrorMessage=a.data(this.cfg.dataServerError);this.endPoints=a.data(this.cfg.dataEndPoints);this.$selectedDealerAddress1=this.$ctx.find(this.cfg.selectedDealerAddress);this.$selectedDealerName=this.$ctx.find(this.cfg.selectedDealerName);
this.dealer="";this.dealerObj={};this.$checkedRadio=c([]);this.searchByName=this.searchByCity=this.searchByPostalCode=this.endPoint=this.searchValue="";this.showDealerErrorVisible=!1;this.$requestType=gmwp.util.getClosestModule(a,gmwp.conf.cmp.gmit_gf_request_type.name);this.$vehicleSelector=this.$requestType.find(this.cfg.vehicleSelector);this.vehicleSelectorId=gmwp.util.getModuleId(this.$vehicleSelector);this.requestTypeId=gmwp.util.getModuleId(this.$requestType);this.bacValue=gmwp.util.gf.sanitizeData(gmwp.util.gf.loadQueryString("dealerBAC"));
this.dealerEditable=gmwp.util.gf.sanitizeData(gmwp.util.gf.loadQueryString("dealerEditable"));this.sandbox.subscribe(this.id,this)},prepare:function(){var a=this.$ctx;this.loadPreSelectedDealer();a.on("click",this.cfg.newSearchSelector,c.proxy(this.newSearchEvent,this)).on("click",this.cfg.closeList,c.proxy(this.closeListEvent,this)).on("click",this.cfg.closeDealer,c.proxy(this.closeSelectedDealerEvent,this)).on("click",this.cfg.searchSelector,c.proxy(this.searchForDealer,this)).on("click",this.cfg.selectDealer,
c.proxy(this.onSelectDealer,this)).on("click",this.cfg.radioButtonSelector,c.proxy(this.onUpdateSearchByField,this)).on("blur",this.cfg.searchInputSelector,c.proxy(this.onUpdateTextField,this));0<this.requestTypeId&&this.sandbox.subscribe(this.requestTypeId,this);0<this.vehicleSelectorId&&this.sandbox.subscribe(this.vehicleSelectorId,this)},finish:function(){},addDealer:function(a){a=a||{dealerName:"",address:{}};a=c('\x3cdiv class\x3d"gmit-gf-dealer-item"\x3e\x3ca href\x3d"#" class\x3d"gmit-gf-dealer" data-dealer\x3d\''+
d.escape(JSON.stringify(a))+'\'\x3e\x3caddress\x3e\x3cdiv class\x3d"gmit-gf-dealer-name"\x3e'+a.dealerName+'\x3c/div\x3e\x3cdiv class\x3d"gmit-gf-dealer-address"\x3e'+this.formatAddress(a.address)+'\x3c/div\x3e\x3c/address\x3e\x3c/a\x3e\x3c/div\x3e\x3chr class\x3d"gmit-gf-divider"/\x3e');this.$dealerItems.append(a)},buildEndPoint:function(a,b){var c="";if(a){a.url&&(c=a.url);if(a.maxResults||a.unit||a.distance||a.services||b)c+="?";a.maxResults&&(c=c+"maxResults\x3d"+a.maxResults);a.unit&&(c.indexOf("?")<
c.length&&(c+="\x26"),c=c+"unit\x3d"+a.unit);a.distance&&(c.indexOf("?")<c.length&&(c+="\x26"),c=c+"distance\x3d"+a.distance);a.model&&(c.indexOf("?")<c.length&&(c+="\x26"),c=c+"model\x3d"+a.model);a.services&&(c.indexOf("?")<c.length&&(c+="\x26"),c=c+"services\x3d"+a.services)}return c},clearHiddenValues:function(a){a.find(this.cfg.inputSelector).val("")},closeListEvent:function(){this.$searchResults.slideUp(this.cfg.animateSpeed);this.$searchOptionContainer.slideDown(this.cfg.animateSpeed)},closeSelectedDealerEvent:function(){this.$selectedDealer.slideUp(this.cfg.animateSpeed);
this.$searchOptionContainer.slideDown(this.cfg.animateSpeed);this.clearHiddenValues(this.$hiddenValues);this.fire("gmitGfDealerSelected",{valid:!1},[this.id])},formatAddress:function(a){var b="";a&&(b=a.addressLine1?a.addressLine1+", ":"",b+=a.postalCode?a.postalCode+" ":"",b+=a.cityName);return b},loadPreSelectedDealer:function(){var a=this.endPoints&&this.endPoints.bac?this.buildEndPoint(this.endPoints.bac):"";(a=a?a.replace("{bac}",this.bacValue):"")&&this.bacValue&&"null"!==this.bacValue&&(this.$searchOptionContainer.hide(),
"true"!==this.dealerEditable&&(this.$closeDealer.hide(),this.$newSearchSelector.hide()),c.ajax({url:a,dataType:"json",contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",method:"GET",statusCode:{404:c.proxy(this.showNotFoundError,this),400:c.proxy(this.showNotFoundError,this),500:c.proxy(this.showNotFoundError,this)},beforeSend:c.proxy(this.setHeaders,this),success:c.proxy(this.processDealers,this),fail:c.proxy(this.showFailed,this),complete:c.proxy(this.processComplete,this)}))},newSearchEvent:function(a){a.preventDefault();
""!==this.$dealerItems.html().trim()&&this.$searchResults.slideDown(this.cfg.animateSpeed);this.$searchOptionContainer.slideDown(this.cfg.animateSpeed)},processComplete:function(){this.$spinner.addClass(this.cfg.hideClass)},processDealers:function(a){var b=a&&a.status&&"success"===a.status&&a.payload&&a.payload.dealers?a.payload.dealers:[],e={certification:[]},f={exclude:{activity:[]}},g={services:[]},h=!1;d.each(this.filterSeviceTypes,function(a){e.certification.push(a)});d.each(this.excludeActivities,
function(a){f.exclude.activity.push(a)});d.each(this.activities,function(a){g.services.push({name:a})});0<e.certification.length&&(b=d.filter(b,e));b=d.each(b,function(a){h=!1;d.each(g,function(b){d.each(a.services,function(a){a.name===b&&(h=!0)})});return h});0<f.exclude.activity.length&&d.remove(b,f);0<b.length?(this.$dealerCount.html(b.length+" "+this.dealerFoundText),d.each(b,c.proxy(this.addDealer,this))):(this.$searchOptionContainer.show(),this.$closeDealer.show(),this.$newSearchSelector.show(),
a&&"success"!==a.status?this.$searchError.html(this.serverErrorMessage):this.$searchError.html(this.noDealersMessage),this.$dealerItems.html("").addClass(this.cfg.hideClass));1===b.length&&1===this.$dealerItems.length?this.$dealerItems.find(this.cfg.selectDealer).trigger("click"):(this.$searchError.is(":empty")&&this.$dealerItems.removeClass(this.cfg.hideClass),this.$searchResults.slideDown(this.cfg.animateSpeed))},onShowDealerNotSelectedError:function(){this.$searchInput.next(".error").append(gmwp.util.gf.addErrorLabel(this.noDealerSelected));
this.$searchInput.parent().addClass("error");this.$searchInput.attr("data-invalid","");this.showDealerErrorVisible=!0},onResetshowDealerErrorVisible:function(){this.$searchInput.next(".error").html("");this.$searchInput.parent().removeClass("error");this.$searchInput.removeAttr("data-invalid");this.showDealerErrorVisible=!1},onGmitGfCarlineSelected:function(){var a=this.$radioButtons.filter(":checked");0<a.length&&a.trigger("change")},onSelectDealer:function(a){var b=c(a.currentTarget),e=[],f={},
g={name:""},h=this.$hiddenValues.find(this.cfg.dealerId),k=this.$hiddenValues.find(this.cfg.dealerBac);a.preventDefault();this.dealerObj=(this.dealer=b.data(this.cfg.dataDealer))||{};this.clearHiddenValues(this.$hiddenValues);this.$selectedDealerAddress1.empty();this.$selectedDealerName.empty();this.$selectedDealerAddress1.empty();this.$selectedDealer.data(this.cfg.dataDealer,this.dealer);this.dealer&&(d.each(this.activities,c.proxy(function(a){g.name=a;(e=d.filter(this.dealer.services,g))&&0<e.length&&
(f=d.nth(e,0),k.val(f.bac),h.val(f.cadc))},this)),k.val()||k.val(this.dealer.bac),h.val()||h.val(this.dealer.cadc),this.dealer.upsc&&this.$hiddenValues.find(this.cfg.dealerUpsc).val(this.dealer.upsc),this.dealer.dealerName&&(this.$selectedDealerName.html(this.dealer.dealerName),this.$hiddenValues.find(this.cfg.dealerName).val(this.dealer.dealerName)),this.dealer.address&&(this.$selectedDealerAddress1.html(this.formatAddress(this.dealer.address)),this.dealer.address.addressLine1&&this.$hiddenValues.find(this.cfg.dealerStreet).val(this.dealer.address.addressLine1),
this.dealer.address.postalCode&&this.$hiddenValues.find(this.cfg.dealerPostalCode).val(this.dealer.address.postalCode),this.dealer.address.cityName&&this.$hiddenValues.find(this.cfg.dealerCity).val(this.dealer.address.cityName)));this.$searchResults.slideUp(this.cfg.animateSpeed);this.$searchOptionContainer.slideUp(this.cfg.animateSpeed);this.$selectedDealer.slideDown(this.cfg.animateSpeed);this.fire("gmitGfUpdateDealer",this.dealerObj,[this.id]);this.fire("gmitGfDealerSelected",{valid:!0},[this.id]);
window.setTimeout(c.proxy(function(){this.$searchInput.trigger("change")},this),1);this.onResetshowDealerErrorVisible()},onUpdateTextField:function(a){a=c(a.currentTarget).val();switch(0<this.$radioButtons.filter(":checked").length?this.$radioButtons.filter(":checked").val():this.$radioButtons.filter(":first").val()){case "name":this.searchByName=a;break;case "city":this.searchByCity=a;break;case "zip":this.searchByPostalCode=a}this.showDealerErrorVisible&&window.setTimeout(c.proxy(this.onShowDealerNotSelectedError,
this),10)},onUpdateSearchByField:function(a){switch(c(a.currentTarget).val()){case "name":this.$searchInput.val(this.searchByName);break;case "city":this.$searchInput.val(this.searchByCity);break;case "zip":this.$searchInput.val(this.searchByPostalCode)}},searchForDealer:function(a){a.preventDefault();this.$checkedRadio=this.$radioButtons.filter(":checked");this.searchValue=encodeURIComponent(this.$searchInput.val());this.endPoint="";if(0===this.$checkedRadio.length||!this.searchValue)return this.$radioButtons.trigger("change"),
setTimeout(c.proxy(function(){this.$searchInput.trigger("change")},this),1),!1;if(0<this.$validationElements.filter(":checked[data-invalid]").length)return!1;switch(this.$checkedRadio.val()?this.$checkedRadio.val().toLocaleLowerCase():this.$checkedRadio.val()){case "name":this.endPoint=this.buildEndPoint(this.endPoints.name);break;case "city":this.endPoint=this.buildEndPoint(this.endPoints.city);break;case "zip":this.endPoint=this.buildEndPoint(this.endPoints.zip)}this.endPoint=this.endPoint?this.endPoint.replace("{searchValue}",
this.searchValue).replace("{model}",""):"";this.$dealerCount.html("");this.$dealerItems.html("");this.$searchError.html("");c.ajax({url:this.endPoint,dataType:"json",contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",method:"GET",statusCode:{404:c.proxy(this.showNotFoundError,this),400:c.proxy(this.showNotFoundError,this),500:c.proxy(this.showNotFoundError,this)},beforeSend:c.proxy(this.setHeaders,this),success:c.proxy(this.processDealers,this),fail:c.proxy(this.showFailed,this),complete:c.proxy(this.processComplete,
this)})},setHeaders:function(a){this.$spinner.removeClass(this.cfg.hideClass);a.setRequestHeader("locale",this.locale);a.setRequestHeader("clientApplicationId",this.clientApplicationId)},showFailed:function(){this.$searchOptionContainer.show();this.$dealerItems.html("").addClass(this.cfg.hideClass);this.$searchError.html(this.serverErrorMessage);this.$searchResults.slideDown(this.cfg.animateSpeed)},showNotFoundError:function(a){var b=this.serverErrorMessage;a&&400===a.status&&(b=this.noDealersMessage);
this.$searchOptionContainer.show();this.$dealerItems.html("").addClass(this.cfg.hideClass);this.$searchError.html(b);this.$searchResults.slideDown(this.cfg.animateSpeed)}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_dealer_selector_thank_you:{name:"gmit_gf_dealer_selector_thank_you",dataDaysOfWeek:"days-of-week",dataDealer:"dealer",dealerAddress1:".gmit-gf-dealer-address1",dealerAddress2:".gmit-gf-dealer-address2",dealerEmail:".gmit-gf-dealer-contact-email-value",dealerHours:".gmit-gf-dealer-hours-value",dealerPhone:".gmit-gf-dealer-contact-phone-value",dealerPostalCodeCity:".gmit-gf-dealer-city-postal",dealerSelector:".gmit-gf-dealer",listSelector:".gmit-gf-list",
dealerSelectorContainer:".gmit-gf-dealer-selector",dealerSelectorV2Container:".gmit-gf-dealer-selector-v2",dealerWeb:".gmit-gf-dealer-contact-web-value"}});gmwp.mod.gmit_gf_dealer_selector_thank_you=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx;this.daysOfWeek=a.data(this.cfg.dataDaysOfWeek);this.$dealerName=a.find(this.cfg.dealerSelector);this.$dealerAddress1=a.find(this.cfg.dealerAddress1);this.$dealerAddress2=a.find(this.cfg.dealerAddress2);this.$dealerPostalCodeCity=
a.find(this.cfg.dealerPostalCodeCity);this.$dealerPhoneValue=a.find(this.cfg.dealerPhone);this.$dealerWebValue=a.find(this.cfg.dealerWeb);this.$dealerEmailValue=a.find(this.cfg.dealerEmail);this.$dealerHoursValue=a.find(this.cfg.dealerHours);this.daysOfWeekLabel=this.separator=this.$formattedDayOfWeek=this.$formattedHour=this.$formattedTime="";this.$list=a.find(this.cfg.listSelector);this.listId=gmwp.util.getModuleId(this.$list);this.listCheck=0<this.listId;this.sandbox.subscribe(this.id,this)},prepare:function(){var a=
gmwp.util.getClosestModule(this.$ctx,gmwp.conf.cmp.gmit_gf_request_type.name),b=a.find(this.cfg.dealerSelectorContainer),b=gmwp.util.getModuleId(b),a=a.find(this.cfg.dealerSelectorV2Container),a=gmwp.util.getModuleId(a);0<b&&this.sandbox.subscribe(b,this);0<a&&this.sandbox.subscribe(a,this);0<this.listCheck&&this.sandbox.subscribe(this.listId,this)},onGmitGfUpdateDealer:function(a){var b=c("\x3ca\x3e\x3c/a\x3e"),e=c("\x3ca\x3e\x3c/a\x3e"),f=c("\x3ca\x3e\x3c/a\x3e"),g=gmwp.conf.gf.dealerInfo,h={};
this.$dealerAddress1.empty();this.$dealerAddress2.empty();this.$dealerPostalCodeCity.empty();this.$dealerName.empty();this.$dealerPhoneValue.empty();this.$dealerWebValue.empty();this.$dealerEmailValue.empty();a&&this.listCheck?(d.forIn(g,c.proxy(function(b,c){if(d.hasIn(a,b))switch(c){case "dealerId":d.set(h,"id",d.get(a,b));d.set(h,c,d.get(a,b));break;case "dealerGeneralOpeningHour":d.set(h,c,this.formatOpenHours(d.get(a,b),this.daysOfWeek).html());break;default:d.set(h,c,d.get(a,b))}},this)),d.hasIn(a,
"selected")&&a.selected?this.fire("gmitGfAddListItem",h,[this.listId]):this.fire("gmitGfRemoveListItem",h,[this.listId])):a&&(a.dealerName&&this.$dealerName.html(a.dealerName),a.dealerUrl&&(b.attr("href","http://"+a.dealerUrl),b.attr("target","_new"),b.html(a.dealerUrl),this.$dealerWebValue.html(b)),a.generalContact&&(a.generalContact.phone1&&(f.attr("href","tel:"+a.generalContact.phone1),f.html(a.generalContact.phone1),this.$dealerPhoneValue.html(f)),a.generalContact.email1&&(e.attr("href","mailto:"+
a.generalContact.email1),e.html(a.generalContact.email1),this.$dealerEmailValue.html(e))),a.address&&(a.address.addressLine1&&this.$dealerAddress1.html(a.address.addressLine1),a.address.addressLine2&&this.$dealerAddress2.html(a.address.addressLine2),this.$dealerPostalCodeCity.html(this.formatCityPostalCode(a.address))),a.generalOpeningHour&&this.$dealerHoursValue.html(this.formatOpenHours(a.generalOpeningHour,this.daysOfWeek)))},onGmitGfClearDealers:function(){this.listCheck&&this.fire("gmitGfClearList",
[this.listId])},formatCityPostalCode:function(a){var b="";a&&(a.postalCode&&(b=a.postalCode+" "),a.cityName&&(b+=a.cityName));return b},convertDaysOfWeek:function(a,b){var e=[];this.$formattedTime=c('\x3cdiv class\x3d"gmit-gf-formatted-time"\x3e\x3c/div\x3e');this.$formattedHour=c('\x3cspan class\x3d"gmit-gf-hour-of-day-label"\x3e\x3c/span\x3e');this.$formattedDayOfWeek=c('\x3cspan class\x3d"gmit-gf-day-of-week-label"\x3e\x3c/span\x3e');this.separator=" - ";this.daysOfWeekLabel="";a&&a.dayOfWeek&&
d.isArray(a.dayOfWeek)&&0<a.dayOfWeek.length&&(d.each(a.dayOfWeek,c.proxy(function(a,b,c){0<c&&d.nth(a,c-1)!==b-1&&(this.separator=", ")},this,a.dayOfWeek)),", "===this.separator?d.each(a.dayOfWeek,c.proxy(function(a,b,c){0<c&&this.$formattedDayOfWeek.append(this.separator);b&&(this.daysOfWeekLabel=d.nth(a,b-1)||"",this.$formattedDayOfWeek.append(this.daysOfWeekLabel))},this,b)):1===d.size(a.dayOfWeek)?(d.nth(a.dayOfWeek,0)-1&&d.nth(b,d.nth(a.dayOfWeek,0)-1)?this.daysOfWeekLabel=d.nth(b,d.nth(a.dayOfWeek,
0)-1):this.daysOfWeekLabel="",this.$formattedDayOfWeek.append(this.daysOfWeekLabel)):1<d.size(a.dayOfWeek)&&(e=d.slice(b,d.nth(a.dayOfWeek,0)-1,d.size(a.dayOfWeek)-1),1===d.size(e)?this.daysOfWeekLabel=d.first(e):1<d.size(e)?this.daysOfWeekLabel=d.first(e)+this.separator+d.last(e):this.daysOfWeekLabel="",this.$formattedDayOfWeek.append(this.daysOfWeekLabel)));a.openFrom!==a.OpenTo?this.$formattedHour.append(a.openFrom+" - "+a.openTo):this.$formattedHour.append(a.openFrom);this.$formattedDayOfWeek.append(":");
this.$formattedTime.append(this.$formattedDayOfWeek);this.$formattedTime.append(this.$formattedHour);return this.$formattedTime},formatOpenHours:function(a,b){var e=c("\x3cdiv\x3e\x3c/div\x3e");a&&0<a.length&&d.each(a,c.proxy(function(a){e.append(this.convertDaysOfWeek(a,b))},this));return e}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_dealer_selector_v2:{name:"gmit_gf_dealer_selector_v2",animateSpeed:500,btlCaller:"btl",caller:"x-caller",checkboxSelector:"#gmit-gf-ecommerce-checkbox",closeDealer:".gmit-gf-selected-dealer .gmit-gf-icon-close",dataGoogleMapsApiKey:"google-maps-api-key",dataGoogleMapsApiClientId:"google-maps-api-client-id",dataGoogleMapsApiChannel:"google-maps-api-channel",googleMapApiUrl:"https://maps.googleapis.com/maps/api/js",dataAutoPopulateList:"auto-populate-list",
dataClientApplicationId:"client-application-id",dataDealer:"dealer",dataDealerFound:"dealer-found-text",dataEndPoints:"end-points",dataExcludeActivities:"exclude-activities",dataFilterServiceTypes:"filter-service-types",dataLinkToField:"link-to-field",dataLocale:"locale",dataNoDealer:"no-dealer-message",dataNoDealerSelected:"no-dealer-selected",dataServerError:"server-error-message",dealerBac:".js-gmit-gf-hidden-dealer-bac",dealerBacIdQueryParam:"bacId",dealerBacQueryParam:"dealerBAC",dealerCity:".js-gmit-gf-hidden-dealer-city",
dealerEditable:"dealerEditable",dealerId:".js-gmit-gf-hidden-dealer-id:not('.js-gmit-gf-sales-lead-dealer-id')",dealerName:".js-gmit-gf-hidden-brand-site-name",dealerNameCityStateTextSelector:".js-gmit-gf-dealer-city-state",dealerNameCityOnlyTextSelector:".js-gmit-gf-dealer-city-only",dealerPostalCode:".js-gmit-gf-hidden-dealer-postal-code",dataCheckboxBfu:"checkbox-bfu",dataBaseBfu:"base-bfu",dataPlaceholderZip:"placeholder-zip",dataPlaceholderCityState:"placeholder-city-state",dataPlaceholderCityOnly:"placeholder-city-only",
dataPlaceholderDealer:"placeholder-dealer",dataMaxLengthZip:"max-length-zip",dataMaxLengthCityState:"max-length-city-state",dataMaxLengthCityOnly:"max-length-city-only",dataMaxLengthDealer:"max-length-dealer",dataSearchUrl:"search-url",dataZipValidation:"zip-validation",dealerStreet:".js-gmit-gf-hidden-dealer-street",dealerStreet2:".js-gmit-gf-hidden-dealer-street2",dealerUpsc:".js-gmit-gf-hidden-dealer-upsc",dealerUSLocale:"dealerUSLocale",dealerZipRadioSelector:"#gmit-gf-dealer-search-zip",ecommerceWidget:".gmit-gf-ecommerce",
hiddenContainerSelector:".gmit-gf-dealer-hidden-section",hideClass:"gmit-gf-hide",inputSelector:":input",newSearchSelector:".js-gmit-gf-new-search",radioButtonSelector:".gmit-gf-input-radio",resultListLengthHeadlineReplace:"{gmit-gf-result-list-length}",searchDropDownSelector:".gmit-gf-select-dropdown",searchInputSelector:".gmit-gf-input-text",searchOptionContainerSelector:".gmit-gf-search-options",searchOptionSelector:".gmit-gf-multioption-radio",searchResultComponent:".gmit-gf-search-result",searchSelector:".js-gmit-gf-search",
searchTextSelector:".gmit-gf-text-field.js-gmit-gf-dealer-search",searchValueHeadlineReplace:"{gmit-gf-search-value}",selectDealer:".gmit-gf-dealer",selectedDealerAddress:".gmit-gf-selected-dealer-address",selectedDealerName:".gmit-gf-selected-dealer-name",selectedDealerSelector:".gmit-gf-selected-dealer",spinnerSelector:".gmit-gf-loader",thankYouSelector:".gmit-gf-thank-you",validationItems:".gmit-gf-input-radio, .gmit-gf-input-text",vehicleSelector:".gmit-gf-vehicle-selector"}});gmwp.mod.gmit_gf_dealer_selector_v2=
gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx;this.googleMapsApiKey=this.$ctx.data(this.cfg.dataGoogleMapsApiKey);this.googleMapsApiClientId=this.$ctx.data(this.cfg.dataGoogleMapsApiClientId);this.googleMapsApiChannel=this.$ctx.data(this.cfg.dataGoogleMapsApiChannel);this.googleMapsApiUrl=this.cfg.googleMapApiUrl;this.clientApplicationId=a.data(this.cfg.dataClientApplicationId);this.$closeDealer=a.find(this.cfg.closeDealer);this.$newSearchSelector=a.find(this.cfg.newSearchSelector);
this.$searchOption=a.find(this.cfg.searchOptionSelector);this.$searchText=a.find(this.cfg.searchTextSelector);this.$dealerNameCityStateText=a.find(this.cfg.dealerNameCityStateTextSelector);this.$dealerNameCityOnlyText=a.find(this.cfg.dealerNameCityOnlyTextSelector);this.$searchButton=a.find(this.cfg.searchSelector);this.$searchOptionContainer=a.find(this.cfg.searchOptionContainerSelector);this.filterSeviceTypes=a.data(this.cfg.dataFilterServiceTypes);this.excludeActivities=a.data(this.cfg.dataExcludeActivities);
this.$hiddenValues=a.find(this.cfg.hiddenContainerSelector);this.$selectedDealer=a.find(this.cfg.selectedDealerSelector);this.$spinner=a.find(this.cfg.spinnerSelector);this.spinnerId=gmwp.util.getModuleId(this.$spinner);this.spinnerCheck=0<this.spinnerId;this.$searchResultComponent=a.find(this.cfg.searchResultComponent);this.searchResultComponentId=gmwp.util.getModuleId(this.$searchResultComponent);this.searchResultComponentCheck=0<this.searchResultComponentId;this.$validationElements=a.find(this.cfg.validationItems);
this.$radioButtons=this.$searchOption.find(this.cfg.radioButtonSelector);this.$checkboxSelector=c(this.cfg.checkboxSelector);this.$searchInput=this.$searchText.find(this.cfg.searchInputSelector);this.$dealerNameCityStateInput=this.$dealerNameCityStateText.find(this.cfg.searchInputSelector).length?this.$dealerNameCityStateText.find(this.cfg.searchInputSelector):this.$dealerNameCityStateText.find(this.cfg.searchDropDownSelector);this.$dealerNameCityOnlyInput=this.$dealerNameCityOnlyText.find(this.cfg.searchInputSelector).length?
this.$dealerNameCityOnlyText.find(this.cfg.searchInputSelector):this.$dealerNameCityOnlyText.find(this.cfg.searchDropDownSelector);this.dealerFoundText=a.data(this.cfg.dataDealerFound);this.locale=a.data(this.cfg.dataLocale);this.noDealersMessage=a.data(this.cfg.dataNoDealer);this.noDealerSelected=a.data(this.cfg.dataNoDealerSelected);this.serverErrorMessage=a.data(this.cfg.dataServerError);this.autoPopulateList=a.data(this.cfg.dataAutoPopulateList)?!0:!1;this.searchUrl=a.data(this.cfg.dataSearchUrl);
this.endPoints=a.data(this.cfg.dataEndPoints);this.convertEndPoints(this.endPoints,this.searchUrl);this.$selectedDealerAddress=this.$ctx.find(this.cfg.selectedDealerAddress);this.$selectedDealerName=this.$ctx.find(this.cfg.selectedDealerName);this.dealer="";this.dealerObj={};this.markersObj={markers:[]};this.dealertempleteObj={};this.locationCookieObject=gmwp.conf.gf.cookieObject;this.$checkedRadio=c([]);this.searchByName=this.searchByCityOnly=this.searchByCity=this.searchByPostalCode=this.endPoint=
this.searchValue="";this.showDealerErrorVisible=!1;this.focusSearchField=!0;this.$requestType=gmwp.util.getClosestModule(a,gmwp.conf.cmp.gmit_gf_request_type.name);this.$vehicleSelector=this.$requestType.find(this.cfg.vehicleSelector);this.vehicleSelectorId=gmwp.util.getModuleId(this.$vehicleSelector);this.$zipcodeField=this.$requestType.find("#"+a.data(this.cfg.dataLinkToField));this.zipCodeFieldId=gmwp.util.getModuleId(this.$zipcodeField.parent());this.zipcodeFieldCheck=0<this.zipCodeFieldId;this.searchTextFieldInputId=
gmwp.util.getModuleId(this.$searchText);this.searchTextFieldCheck=0<this.searchTextFieldInputId;this.$thankYou=this.$requestType.find(this.cfg.thankYouSelector);this.thankYouId=gmwp.util.getModuleId(this.$thankYou);this.thankYouCheck=0<this.thankYouId;this.$ecommerceWidget=c(this.cfg.ecommerceWidget);this.ecommerceWidgetId=gmwp.util.getModuleId(this.$ecommerceWidget);this.dealerNameCityStateInputId=gmwp.util.getModuleId(this.$dealerNameCityStateText);this.dealerNameCityStateTextFieldCheck=0<this.dealerNameCityStateInputId;
this.dealerNameCityOnlyInputId=gmwp.util.getModuleId(this.$dealerNameCityOnlyText);this.dealerNameCityOnlyTextFieldCheck=0<this.dealerNameCityOnlyInputId;this.requestTypeId=gmwp.util.getModuleId(this.$requestType);this.bacValue=gmwp.util.gf.loadQueryString(this.cfg.dealerBacQueryParam)?gmwp.util.gf.sanitizeData(gmwp.util.gf.loadQueryString(this.cfg.dealerBacQueryParam)):gmwp.util.gf.sanitizeData(gmwp.util.gf.loadQueryString(this.cfg.dealerBacIdQueryParam));this.dealerEditable=gmwp.util.gf.sanitizeData(gmwp.util.gf.loadQueryString(this.cfg.dealerEditable))||
gmwp.util.gf.loadQueryString(this.cfg.caller)===this.cfg.btlCaller;this.placeholderZip=a.data(this.cfg.dataPlaceholderZip);this.placeholderCityState=a.data(this.cfg.dataPlaceholderCityState);this.placeholderCityOnly=a.data(this.cfg.dataPlaceholderCityOnly);this.placeholderDealer=a.data(this.cfg.dataPlaceholderDealer);this.maxLengthZip=a.data(this.cfg.dataMaxLengthZip);this.maxLengthCityState=a.data(this.cfg.dataMaxLengthCityState);this.maxLengthCityOnly=a.data(this.cfg.dataMaxLengthCityOnly);this.maxLengthDealer=
a.data(this.cfg.dataMaxLengthDealer);this.checkboxBfu=a.data(this.cfg.dataCheckboxBfu);this.baseBfu=a.data(this.cfg.dataBaseBfu);this.zipValidation=a.data(this.cfg.dataZipValidation);this.sandbox.subscribe(this.id,this)},prepare:function(){0<this.requestTypeId&&this.sandbox.subscribe(this.requestTypeId,this);0<this.vehicleSelectorId&&this.sandbox.subscribe(this.vehicleSelectorId,this);this.spinnerCheck&&this.sandbox.subscribe(this.spinnerId,this);this.searchResultComponentCheck&&this.sandbox.subscribe(this.searchResultComponentId,
this);this.searchTextFieldCheck&&this.sandbox.subscribe(this.searchTextFieldInputId,this);this.zipcodeFieldCheck&&this.sandbox.subscribe(this.zipCodeFieldId,this);this.thankYouCheck&&this.sandbox.subscribe(this.thankYouId,this);this.dealerNameCityStateTextFieldCheck&&this.sandbox.subscribe(this.dealerNameCityStateInputId,this);this.dealerNameCityOnlyTextFieldCheck&&this.sandbox.subscribe(this.dealerNameCityOnlyInputId,this);-1<this.ecommerceWidgetId&&this.sandbox.subscribe(this.ecommerceWidgetId,
this);this.subscribe(gmwp.conf.cmp.gmit_gf_checkbox_field.name,this)},finish:function(){var a={};this.$ctx.on("click.newSearch",this.cfg.newSearchSelector,c.proxy(this.newSearchEvent,this)).on("click.close",this.cfg.closeDealer,c.proxy(this.closeSelectedDealerEvent,this)).on("click.search",this.cfg.searchSelector,c.proxy(this.searchForDealer,this)).on("click.update",this.cfg.radioButtonSelector,c.proxy(this.onUpdateSearchByField,this));this.searchTextFieldCheck&&this.fire("gmitGfSetupTextFieldBlurEvent",
[this.searchTextFieldInputId]);this.zipcodeFieldCheck&&this.fire("gmitGfSetupTextFieldBlurEvent",[this.zipCodeFieldId]);this.fire("gmitGfDealerSelected",{valid:!1},[this.id]);switch(this.$radioButtons.filter(":checked").length?this.$radioButtons.filter(":checked").val():this.$radioButtons.filter(":first").val()){case "name":a.placeholder=this.placeholderDealer;a.removeValidations=this.zipValidation;a.maxLength=this.maxLengthDealer;this.fire("gmitGfUpdateValue",a,[this.searchTextFieldInputId]);break;
case "city":this.fire("gmitGfSetupAutoCompleteUrl",this.buildEndPoint("cityAutoComplete"),[this.searchTextFieldInputId]);a.placeholder=this.placeholderCityState;a.removeValidations=this.zipValidation;a.maxLength=this.maxLengthCityState;this.fire("gmitGfUpdateValue",a,[this.searchTextFieldInputId]);break;case "city-only":this.fire("gmitGfSetupAutoCompleteUrl",this.buildEndPoint("cityAutoComplete"),[this.searchTextFieldInputId]);a.placeholder=this.placeholderCityOnly;a.removeValidations=this.zipValidation;
a.maxLength=this.maxLengthCityOnly;this.loadGoogleMapApi();this.fire("gmitGfUpdateValue",a,[this.searchTextFieldInputId]);break;case "zip":a.placeholder=this.placeholderZip,a.validations=this.zipValidation,a.maxLength=this.maxLengthZip,this.fire("gmitGfUpdateValue",a,[this.searchTextFieldInputId])}c(this.cfg.checkboxSelector).on("click",c.proxy(this.resetSelections,this));this.loadPreSelectedDealer()},convertEndPoints:function(a,b){var c,f,g,h;d.isNull(b)||d.isNull(a)||d.isEmpty(a)||d.each(a.endPointList,
function(a){d.isNull(a.endPointUrl)||(f="",c=a.endPointUrl,h=b,!d.isEmpty(h)&&/\/dealer\/\w+\/v1\//.test(c)&&(d.startsWith(c,"http")&&(g=c.match(/^(http[s]?:\/)?\/?([^:\/\s]+\/)/),f=g[0].substr(0,g[0].length-1)),d.endsWith(h,"/")&&(h=h.substring(0,h.length-1)),f+=h,g=c.match(/(\/\w+\/v1\/)/),f+=c.substr(c.indexOf(g[0])),a.endPointUrl=f))})},addDealer:function(a){var b=a||{dealerName:"",address:{}},c=this.locale,f={},g=gmwp.conf.gf.dealerInfo,h=this.cfg.dealerUSLocale;f.searchResultRows=[];d.isEmpty(this.dealertempleteObj)||
d.each(this.dealertempleteObj.lines,function(a){d.each(a,function(a){var k;a=d.replace(a,"js-","");(k=d.get(b,g[a],""))&&"dealerPostalCode"===a&&c===g[h]?k=k.replace(/(\d{5})(\d{4})/,"$1-$2"):"dealerDistance"===a&&""!==k&&(k=k.toFixed(1));f.searchResultRows.push({resultType:a,resultText:k})})});f.searchResultData=JSON.stringify(b);this.searchResultComponentCheck&&this.fire("gmitGfAddItem",f,[this.searchResultComponentId])},buildEndPoint:function(a){a=d.find(d.get(this.endPoints,"endPointList"),d.matchesProperty("endPointTag",
a));var b="",e=this.$checkboxSelector.is(":checked");a&&d.hasIn(a,"endPointUrl")&&a.endPointUrl&&(b=a.endPointUrl,d.hasIn(a,"urlParameters")&&a.urlParameters&&(b=b+"?"+c.param(a.urlParameters)));this.checkboxBfu&&e&&(b=b+"\x26services\x3d"+this.checkboxBfu+"%7C");this.baseBfu&&(b=b+"\x26services\x3d"+this.baseBfu+"%7C");return b},clearHiddenValues:function(a){a&&a.find(this.cfg.inputSelector).val("")},onGmitGfListClosed:function(){this.$searchOptionContainer.slideDown(this.cfg.animateSpeed)},onGmitGfClearDealerList:function(){this.clearHiddenValues();
this.$searchResultComponent.slideUp();this.fire("gmitGfClearSearchList",[this.searchResultComponentId])},closeSelectedDealerEvent:function(){this.$selectedDealer.slideUp(this.cfg.animateSpeed);this.$searchOptionContainer.slideDown(this.cfg.animateSpeed);this.clearHiddenValues(this.$hiddenValues);this.fire("gmitGfDealerSelected",{valid:!1},[this.id])},formatAddress:function(a){var b="";a&&(b=a.addressLine1?a.addressLine1+", ":"",b+=a.addressLine2?a.addressLine2+", ":"",b=this.locale===this.cfg.dealerUSLocale?
b+(a.postalCode?a.postalCode.replace(/(\d{5})(\d{4})/,"$1-$2")+" ":""):b+(a.postalCode?a.postalCode+" ":""),b+=a.cityName);return b},loadPreSelectedDealer:function(){var a=this.buildEndPoint("bac"),b={};(a=a?a.replace("{bac}",this.bacValue):"")&&this.bacValue&&"null"!==this.bacValue?(this.$searchOptionContainer.hide(),d.set(b,"display",!1),this.fire("gmitGfToggleSearchHeadline",b,[this.searchResultComponentId]),this.dealerSearchAjaxCall(a,"bac")):this.autoPopulateList&&this.loadDealersFromCookie()},
dealerSearchAjaxCall:function(a,b){(d.includes(a,"/dealer/cityState")||d.includes(a,"/dealer/postalCode")&&/^\d{5}\-?\d{3}$/.test(this.searchValue))&&"pt_BR"===this.locale?this.mapLinkSearch(a):"city-only"===b?this.cityOnlySearch(a,b):this.ocDealerSearch(a)},ocDealerSearch:function(a){c.ajax({url:a,dataType:"json",contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",method:"GET",statusCode:{404:c.proxy(this.showNotFoundError,this),400:c.proxy(this.showNotFoundError,this),500:c.proxy(this.showNotFoundError,
this)},beforeSend:c.proxy(this.setHeaders,this),success:c.proxy(this.processDealers,this),fail:c.proxy(this.showNotFoundError,this),complete:c.proxy(this.processComplete,this)})},cityOnlySearch:function(a,b){var d=new google.maps.Geocoder,f={},g="",h="",k;k=gmwp.util.gf.sanitizeData(this.$searchInput.val()).split(",");g=k[0].trim();2===k.length&&(h=k[1].trim());f.address=g+","+h;d.geocode(f,c.proxy(this.geocodeCallback(a,b),this))},geocodeCallback:function(a,b){return function(a,c){var g=[],h,k;if(c!==
google.maps.GeocoderStatus.OK||d.isEmpty(a[0])||d.isEmpty(a[0]).geometry)return!1;h=a[0].geometry.location;g.push(h.lat());g.push(h.lng());k=d.find(this.endPoints.endPointList,d.matchesProperty("endPointTag",b));h=k.endPointUrl;"zip"===b?h=h.replace("postalCode","latlong"):"city"===b?h=h.replace("cityState","latlong"):"city-only"===b&&(h=h.replace("city","latlong"));k=k.urlParameters;h=h.replace("{searchValue}",g.join("/"));h=k.reduce(function(a,b){return a+=b.name+"\x3d"+encodeURIComponent(b.value)+
"\x26"},h+"?");this.ocDealerSearch(h)}},mapLinkSearch:function(a){var b="",c,f,g,h;h=this;c=(this.$checkedRadio.val()||"").toLocaleLowerCase();d.startsWith(a,"http")&&(b=a.match(/^(http[s]?:\/)?\/?([^:\/\s]+\/)/),b=b[0].substr(0,b[0].length-1));b+="/bypass/maplink/v0/geocode/geocode?token\x3dzCB8zCB8OXclPU\x3d\x3d";g=gmwp.util.gf.sanitizeData(this.$searchInput.val());"zip"===c?jQuery.get(b,{postalcode:g}).then(function(a){h.mapLinkSuccess(a,c)}).fail(function(){h.mapLinkFail(a)}):"city"===c&&(f=g.split(","),
g=f[0].trim().replace(/\s+/g,"+"),f=f[1].trim(),jQuery.get(b,{state:f,city:g}).then(function(a){h.mapLinkSuccess(a,c)}).fail(function(){h.mapLinkFail(a)}))},mapLinkSuccess:function(a,b){var c,f,g;d.isEmpty(a.addresses)||(c=a.addresses[0].street||a.addresses[0].district||a.addresses[0].city,c=c.center.coordinates,g=d.find(this.endPoints.endPointList,d.matchesProperty("endPointTag",b)),f=g.endPointUrl,"zip"===b?f=f.replace("postalCode","latlong"):"city"===b&&(f=f.replace("cityState","latlong")),g=g.urlParameters,
f=f.replace("{searchValue}",c.reverse().join("/")),f=g.reduce(function(a,b){return a+=b.name+"\x3d"+encodeURIComponent(b.value)+"\x26"},f+"?"),this.ocDealerSearch(f))},mapLinkFail:function(a){this.ocDealerSearch(a)},loadDealersFromCookie:function(){this.$radioButtons.first().attr("checked","checked");if(this.locationCookieObject&&d.hasIn(this.locationCookieObject,"location.zipcode")){var a={};a.text=this.locationCookieObject.location.zipcode;a.placeholder=this.placeholderZip;a.validations=this.zipValidation;
a.maxLength=this.maxLengthZip;this.searchTextFieldCheck&&this.fire("gmitGfUpdateValue",a,[this.searchTextFieldInputId]);this.$searchButton.click()}},newSearchEvent:function(a){a.preventDefault();this.searchResultComponentCheck&&this.fire("gmitGfShowSearchResult",[this.searchResultComponentId]);this.$searchOptionContainer.slideDown(this.cfg.animateSpeed)},processComplete:function(){this.spinnerCheck&&this.fire("gmitGfHideLoader",[this.spinnerId]);this.searchResultComponentCheck&&this.fire("gmitGfShowSearchResult",
[this.searchResultComponentId])},processDealers:function(a){var b=a&&a.status&&"success"===a.status&&d.hasIn(a,"payload.dealers")&&a.payload.dealers?gmwp.util.formatDealerUrls(a.payload.dealers):[],e={certification:[]},f={},g={valid:!0},h=this.$checkboxSelector.is(":checked");d.set(f,"exclude.activity",[]);d.each(this.filterSeviceTypes,function(a){e.certification.push(a)});d.each(this.excludeActivities,function(a){f.exclude.activity.push(a)});e.certification.length&&(b=d.filter(b,e));f.exclude.activity.length&&
d.remove(b,f);b.length?(this.setDealerResultHeadline(b),d.each(b,c.proxy(this.addDealer,this))):(this.$searchOptionContainer.show(),this.$closeDealer.show(),this.$newSearchSelector.show(),this.searchResultComponentCheck&&(this.fire("gmitGfClearSearchResult",[this.searchResultComponentId]),this.fire("gmitGfToggleDisplaySearchList",!1,[this.searchResultComponentId])),this.checkboxBfu&&h?(this.$checkboxSelector.trigger("click"),this.showEcommError(),this.$searchButton.click()):this.showNotFoundError(a,
!0));1===b.length&&this.searchResultComponentCheck&&(this.fire("gmitGfSelectFirstItem",[this.searchResultComponentId]),this.fire("gmitGfDealerSelected",g,[this.id]),"true"!==this.dealerEditable&&(this.$closeDealer.hide(),this.$newSearchSelector.hide(),this.searchResultComponentCheck&&this.fire("gmitGfDisableList",[this.searchResultComponentId])));1<b.length&&this.searchResultComponentCheck&&this.fire("gmitGfShowSearchResult",[this.searchResultComponentId])},onGmitGfTextFieldUpdated:function(a){var b,
e="",f={};if(d.hasIn(a,"value")&&a.value&&d.hasIn(a,"sandboxId")&&a.sandboxId&&(!this.bacValue||"null"===this.bacValue))if(b=a.sandboxId,e=a.value,f={},b===this.zipCodeFieldId)this.focusSearchField=!1,this.searchByPostalCode=e,c(this.cfg.dealerZipRadioSelector).click(),gmwp.util.gf.applyBusinessRules(this.$ctx),f.text=e,f.placeholder=this.placeholderZip,f.validations=this.zipValidation,f.maxLength=this.maxLengthZip,this.searchTextFieldCheck&&this.fire("gmitGfUpdateValue",f,[this.searchTextFieldInputId]),
this.$searchButton.trigger("click"),this.fire("gmitGfDealerSelected",{},[this.id]);else if(b===this.searchTextFieldInputId){a=this.$radioButtons.filter(":checked").length?this.$radioButtons.filter(":checked").val():this.$radioButtons.filter(":first").val();switch(a){case "name":this.searchByName=e;break;case "city":this.searchByCity=e;break;case "city-only":this.searchByCityOnly=e;break;case "zip":this.searchByPostalCode=e}this.showDealerErrorVisible&&window.setTimeout(c.proxy(this.onShowDealerNotSelectedError,
this),10)}},onShowDealerNotSelectedError:function(){this.$searchInput.next(".error").append(gmwp.util.gf.addErrorLabel(this.noDealerSelected));this.$searchResultComponent.addClass("error");this.$searchInput.parent().addClass("error");this.$searchInput.attr("data-invalid","");this.showDealerErrorVisible=!0},onResetshowDealerErrorVisible:function(){this.$searchInput.next(".error").html("");this.$searchInput.parent().removeClass("error");this.$searchResultComponent.removeClass("error");this.$searchInput.removeAttr("data-invalid");
this.showDealerErrorVisible=!1},onGmitGfCarlineSelected:function(){var a=this.$radioButtons.filter(":checked");a.length&&a.trigger("change")},onGmitGfItemTempleteSetup:function(a){this.dealertempleteObj=a},onGmitGfItemSelected:function(a){var b=this.dealer||{},e=[],f,g={},h=this.$checkboxSelector.is(":checked");this.dealerObj=(this.dealer=a)||{};this.$selectedDealerAddress.empty();this.$selectedDealerName.empty();this.$selectedDealer.data(this.cfg.dataDealer,this.dealer);this.dealer&&(d.hasIn(this.dealer,
"cadc")&&this.dealer.cadc?f=this.dealer.cadc:d.hasIn(this.dealer,"id")&&this.dealer.id&&(f=this.dealer.id.toString()),this.dealerObj.id=f,this.dealerObj.dealerName=this.dealerObj.dealerName||"",this.setDefaultValueIfUndefined(this.dealerObj,"address.addressLine1",""),this.setDefaultValueIfUndefined(this.dealerObj,"address.addressLine2",""),this.setDefaultValueIfUndefined(this.dealerObj,"address.cityName",""),this.setDefaultValueIfUndefined(this.dealerObj,"address.postalCode",""),this.setDefaultValueIfUndefined(this.dealerObj,
"address.countryCode",""),this.dealerObj.distance=this.dealerObj.distance||"",this.setDefaultValueIfUndefined(this.dealerObj,"address.countrySubdivisionCode",""),this.dealerObj.id=this.dealerObj.id||"",this.setDefaultValueIfUndefined(this.dealerObj,"generalContact.phone1",""),this.dealerObj.generalOpeningHour=this.dealerObj.generalOpeningHour||"",this.dealerObj.dealerUrl=this.dealerObj.dealerUrl||"",this.setDefaultValueIfUndefined(this.dealerObj,"address.countryIso",""),d.hasIn(this.dealer,"selected")&&
this.dealer.selected?(b.valid=!0,d.hasIn(this.dealer,"bac")&&this.dealer.bac&&(this.$hiddenValues.find(this.cfg.dealerBac).val(this.dealer.bac),this.checkboxBfu&&h&&this.fire("gmitGfEcomDealerSelected",this.dealer,[this.id])),d.hasIn(this.dealer,"upsc")&&this.dealer.upsc&&this.$hiddenValues.find(this.cfg.dealerUpsc).val(this.dealer.upsc),this.$hiddenValues.find(this.cfg.dealerId).val()&&(e=d.split(this.$hiddenValues.find(this.cfg.dealerId).val(),",")),d.includes(e,f)||(e.push(f),this.$hiddenValues.find(this.cfg.dealerId).val(e.toString()),
d.hasIn(this.dealer,"geolocation")&&this.dealer.geolocation&&(g.name=f,g.coordinates=this.dealer.geolocation,this.markersObj.markers.push(g))),d.hasIn(this.dealer,"dealerName")&&this.dealer.dealerName&&(this.$selectedDealerName.html(this.dealer.dealerName),this.$hiddenValues.find(this.cfg.dealerName).val(this.dealer.dealerName)),d.hasIn(this.dealer,"address")&&this.dealer.address&&(this.$selectedDealerAddress.html(this.formatAddress(this.dealer.address)),d.hasIn(this.dealer.address,"addressLine1")&&
this.dealer.address.addressLine1&&this.$hiddenValues.find(this.cfg.dealerStreet).val(this.dealer.address.addressLine1),d.hasIn(this.dealer.address,"addressLine2")&&this.dealer.address.addressLine2&&this.$hiddenValues.find(this.cfg.dealerStreet2).val(this.dealer.address.addressLine2),d.hasIn(this.dealer.address,"postalCode")&&this.dealer.address.postalCode&&this.$hiddenValues.find(this.cfg.dealerPostalCode).val(this.dealer.address.postalCode),d.hasIn(this.dealer.address,"cityName")&&this.dealer.address.cityName&&
this.$hiddenValues.find(this.cfg.dealerCity).val(this.dealer.address.cityName)),this.onResetshowDealerErrorVisible()):(this.$hiddenValues.find(this.cfg.dealerId).val()&&(e=d.split(this.$hiddenValues.find(this.cfg.dealerId).val(),",")),d.includes(e,f)&&(d.pull(e,f),this.$hiddenValues.find(this.cfg.dealerId).val(e.toString()),d.hasIn(this.dealer,"geolocation")&&this.dealer.geolocation&&(g.name=f,g.coordinates=this.dealer.geolocation,d.pullAllWith(this.markersObj.markers,[g],d.isEqual)),d.isEmpty(e)?
(b.valid=!1,this.fire("gmitGfEcomDealerSelected",null,[this.id]),window.setTimeout(c.proxy(this.onShowDealerNotSelectedError,this),10)):b.valid=!0)));this.$selectedDealer.length&&(this.$searchResultComponent.slideUp(this.cfg.animateSpeed),this.$searchOptionContainer.slideUp(this.cfg.animateSpeed),this.$closeDealer.show(),this.$newSearchSelector.show(),this.$selectedDealer.slideDown(this.cfg.animateSpeed));this.fire("gmitGfUpdateDealer",this.dealerObj,[this.id]);this.fire("gmitGfDealerSelected",b,
[this.id])},setDefaultValueIfUndefined:function(a,b,c){d.hasIn(a,b)||d.set(a,b,c)},setDealerResultHeadline:function(a){var b={};b.text=d.replace(this.dealerFoundText,this.cfg.searchValueHeadlineReplace,this.$searchInput.val());b.text=d.replace(b.text,this.cfg.resultListLengthHeadlineReplace,a.length);this.searchResultComponentCheck&&this.fire("gmitGfSetSearchHeadline",b,[this.searchResultComponentId])},onUpdateSearchByField:function(a){a=c(a.currentTarget).val();var b={};if(this.searchTextFieldCheck){switch(a){case "name":this.fire("gmitGfSetupAutoCompleteUrl",
this.buildEndPoint("nameAutoComplete"),[this.searchTextFieldInputId]);this.dealerNameCityStateTextFieldCheck&&this.fire("gmitGfSetupAutoCompleteUrl",this.buildEndPoint("cityAutoComplete"),[this.dealerNameCityStateInputId]);this.dealerNameCityOnlyTextFieldCheck&&this.fire("gmitGfSetupAutoCompleteUrl",this.buildEndPoint("cityAutoComplete"),[this.dealerNameCityOnlyInputId]);b.text=this.searchByName;b.placeholder=this.placeholderDealer;b.removeValidations=this.zipValidation;b.maxLength=this.maxLengthDealer;
this.fire("gmitGfUpdateValue",b,[this.searchTextFieldInputId]);break;case "city":this.fire("gmitGfSetupAutoCompleteUrl",this.buildEndPoint("cityAutoComplete"),[this.searchTextFieldInputId]);b.text=this.searchByCity;b.placeholder=this.placeholderCityState;b.removeValidations=this.zipValidation;b.maxLength=this.maxLengthCityState;this.fire("gmitGfUpdateValue",b,[this.searchTextFieldInputId]);break;case "city-only":this.fire("gmitGfSetupAutoCompleteUrl",this.buildEndPoint("cityAutoComplete"),[this.searchTextFieldInputId]);
b.text=this.searchByCityOnly;b.placeholder=this.placeholderCityOnly;b.removeValidations=this.zipValidation;b.maxLength=this.maxLengthCityOnly;this.loadGoogleMapApi();this.fire("gmitGfUpdateValue",b,[this.searchTextFieldInputId]);break;case "zip":this.fire("gmitGfSetupAutoCompleteUrl",this.buildEndPoint("zipAutoComplete"),[this.searchTextFieldInputId]),b.text=this.searchByPostalCode,b.placeholder=this.placeholderZip,b.validations=this.zipValidation,b.maxLength=this.maxLengthZip,this.fire("gmitGfUpdateValue",
b,[this.searchTextFieldInputId])}this.focusSearchField&&this.$searchInput.focus();this.focusSearchField=!0}},searchForDealer:function(a){var b,d=[];this.$dealerNameCityStateText.is(":visible")?gmwp.util.gf.sanitizeData(this.$dealerNameCityStateInput.val())&&(d=gmwp.util.gf.sanitizeData(this.$dealerNameCityStateInput.val()).split(", ")):this.$dealerNameCityOnlyText.is(":visible")&&gmwp.util.gf.sanitizeData(this.$dealerNameCityOnlyInput.val())&&(d=gmwp.util.gf.sanitizeData(this.$dealerNameCityOnlyInput.val()).split(", "));
a.preventDefault();this.$checkedRadio=this.$radioButtons.filter(":checked");a=(this.$checkedRadio.val()||"").toLocaleLowerCase();b=this.$searchInput.val().trim();"zip"===a||"name"===a?this.searchValue=gmwp.util.gf.sanitizeData(b):"city"===a?(a=b.split(","),this.searchValue=encodeURIComponent(gmwp.util.gf.sanitizeData(a[0].trim())),2===a.length&&(this.searchValue=this.searchValue+"/"+encodeURIComponent(gmwp.util.gf.sanitizeData(a[1].trim())))):"city-only"===a&&(a=b.split(","),this.searchValue=encodeURIComponent(gmwp.util.gf.sanitizeData(a[0].trim())),
2===a.length&&(this.searchValue=this.searchValue+"/"+encodeURIComponent(gmwp.util.gf.sanitizeData(a[1].trim()))));this.endPoint="";if(0===this.$checkedRadio.length||!this.searchValue)return this.$radioButtons.trigger("change"),setTimeout(c.proxy(function(){this.$searchInput.trigger("change");this.$dealerNameCityStateInput.trigger("change");this.$dealerNameCityOnlyInput.trigger("change")},this),1),!1;if(this.$checkedRadio.filter(":checked[data-invalid]").length||this.$searchInput.filter("[data-invalid]").length&&
(this.showDealerErrorVisible&&(this.onResetshowDealerErrorVisible(),Foundation.libs.abide.validate(this.$searchInput,{type:""})),this.$searchInput.filter("[data-invalid]").length))return!1;a=this.$checkedRadio.val()?this.$checkedRadio.val().toLocaleLowerCase():this.$checkedRadio.val();if(this.endPoint=this.buildEndPoint(a))this.endPoint=this.endPoint.replace("{searchValue}",this.searchValue),this.endPoint=this.endPoint.replace("{model}","");this.$dealerNameCityStateText.is(":visible")&&d.length&&
(1===d.length?this.endPoint=this.endPoint+"\x26state\x3d"+d[0]:2===d.length&&(this.endPoint=this.endPoint+"\x26city\x3d"+d[0]+"\x26state\x3d"+d[1]));this.$dealerNameCityOnlyText.is(":visible")&&d.length&&1===d.length&&(this.endPoint=this.endPoint+"\x26city\x3d"+d[0]);this.searchResultComponentCheck&&this.fire("gmitGfClearSearchResult",[this.searchResultComponentId]);this.fire("gmitGfEcomDealerSelected",null,[this.id]);this.fire("gmitGfClearDealers",[this.id]);this.clearHiddenValues(this.$hiddenValues);
this.dealerSearchAjaxCall(this.endPoint,a)},setHeaders:function(a){this.spinnerCheck&&this.fire("gmitGfShowLoader",[this.spinnerId]);this.searchResultComponentCheck&&this.fire("gmitGfHideSearchResult",[this.searchResultComponentId]);a.setRequestHeader("locale",this.locale);a.setRequestHeader("clientApplicationId",this.clientApplicationId)},onGmitGfSubmit:function(){this.thankYouCheck&&this.fire("gmitGfAddMapMarkers",this.markersObj,[this.thankYouId])},showNotFoundError:function(a,b){var c=this.serverErrorMessage;
if(a&&400===a.status||b)c=this.noDealersMessage;this.$searchOptionContainer.show();this.searchResultComponentCheck&&this.fire("gmitGfShowSearchError",c,[this.searchResultComponentId])},resetSelections:function(){this.fire("gmitGfEcomDealerSelected",null,[this.id]);this.fire("gmitGfClearSearchResult",[this.searchResultComponentId])},showEcommError:function(){this.$searchOptionContainer.show();this.searchResultComponentCheck&&this.fire("gmitGfShowCriteriaError","No eCommerce dealers found for selected search",
[this.searchResultComponentId])},loadGoogleMapApi:function(){return gmwp.util.gf.loadGoogleMapApi(this.googleMapsApiUrl,this.googleMapsApiClientId,this.googleMapsApiChannel,this.googleMapsApiKey)}})})(gmwp.$,gmwp._);
(function(c){c.extend(!0,gmwp.conf.cmp,{gmit_gf_double_opt_in:{name:"gmit_gf_double_opt_in",content:".js-gmit-gf-response",dataEndPoint:"end-point",dataWelcomePage:"welcome-page",dataSorryPage:"sorry-page",loaderClass:"q-loader",gmitLoaderClass:"gmit-gf-loader",contentToLoad:".q-grid-container"}});gmwp.mod.gmit_gf_double_opt_in=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var d=this.$ctx,a={leadid:gmwp.util.gf.loadQueryString("leadid"),lang:gmwp.util.gf.loadQueryString("lang")};this.endPoint=
d.data(this.cfg.dataEndPoint)+"?"+c.param(a);this.$content=d.find(this.cfg.content);this.welcomePage=d.data(this.cfg.dataWelcomePage);this.sorryPage=d.data(this.cfg.dataSorryPage);this.endPoint&&a.leadid&&a.lang?c.ajax({url:this.endPoint,statusCode:{0:c.proxy(this.responseFail,this)},processData:!1,method:"GET",success:c.proxy(this.responseSuccess,this),fail:c.proxy(this.responseFail,this)}):this.responseFail()},getPartial:function(d){gmwp.util.loadUrl(this.$content,d+" "+this.cfg.contentToLoad).done(c.proxy(this.showContent,
this)).fail(c.proxy(this.showError,this))},removeLoader:function(){this.$content.removeClass(this.cfg.loaderClass);this.$content.removeClass(this.cfg.gmitLoaderClass)},responseSuccess:function(c){c&&200===c.statusCode?this.getPartial(this.welcomePage):this.responseFail()},responseFail:function(){this.getPartial(this.sorryPage)},showContent:function(){this.removeLoader();this.$content.children().fadeIn(gmwp.conf.ui.fade.speed);window.picturefill();gmwp.util.loadNewModules(this.$content,this.sandbox)},
showError:function(c){this.removeLoader();gmwp.util.ajaxError(c)}})})(gmwp.$);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_dropdown:{name:"gmit_gf_dropdown",dropdownSelector:".gmit-gf-select-dropdown",labelSelector:".gmit-gf-label-text",populateField:"populate-field"}});gmwp.mod.gmit_gf_dropdown=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx;this.locationCookieObject=gmwp.conf.gf.cookieObject;a.on("change.rules",this.cfg.dropdownSelector,c.proxy(this.applyBusinessRule,this));this.$dropdown=a.find(this.cfg.dropdownSelector);this.$label=a.find(this.cfg.labelSelector);
this.placeholderTxt=this.$dropdown.data("placeholder");this.dropdownType=this.$dropdown.data("type");this.dropdownId=this.$dropdown.attr("id");this.sandbox.subscribe(this.id,this)},prepare:function(){var a=this.dropdownId?this.dropdownId.replace("gmit-gf","x"):"";(a=gmwp.util.gf.loadQueryString(a))&&this.$dropdown.val(gmwp.util.gf.sanitizeData(a))},finish:function(){this.$dropdown.off("focus");this.$dropdown.data(this.cfg.populateField)&&this.loadFieldFromCookie(this.$dropdown.data(this.cfg.populateField))},
changeEvent:function(a){var b={},d=c(a.currentTarget).find(":selected");b.coTwoImage=d.data("co-two-image");b.endPointList=this.$dropdown.data("end-point-list");b.featureId=d.data("feature-id");b.headlineIndex=this.$dropdown.data("headline-index");b.index=this.$dropdown.data("index");b.imageReset=this.$dropdown.data("image-reset");b.nextIndex=this.$dropdown.data("next-index");b.segmentValue=d.data("segment");b.setConfigString=this.$dropdown.data("config-string-set");b.setPricing=this.$dropdown.data("set-pricing");
b.setTextGroup=this.$dropdown.data("text-group");b.type=this.$dropdown.data("type");b.valueCheck=d.filter("[value]").length;b.value=b.valueCheck?d.val():"";b.selectedText=b.value?d.text():"";b.imageUrl=d.data("image-url");b.formattedPrice=d.data("formatted-price");a.preventDefault();b&&this.fire("gmitGfDropdownChangeEvent",b,[this.id])},applyBusinessRule:function(){gmwp.util.gf.applyBusinessRules(this.$ctx)},loadFieldFromCookie:function(a){var b={};switch(a){case "state":if(d.hasIn(this.locationCookieObject,
"location.state")&&this.locationCookieObject.location.state)if(d.hasIn(this.locationCookieObject,"location.countryCode")&&this.locationCookieObject.location.countryCode)this.onGmitGfSelectValue(d.set(b,"value",this.locationCookieObject.location.countryCode+"-"+this.locationCookieObject.location.state));else this.onGmitGfSelectValue(d.set(b,"value",this.locationCookieObject.location.state));break;case "city":if(d.hasIn(this.locationCookieObject,"location.city")&&this.locationCookieObject.location.city)this.onGmitGfSelectValue(d.set(b,
"value",this.locationCookieObject.location.city));break;case "zipCode":if(d.hasIn(this.locationCookieObject,"location.zipcode")&&this.locationCookieObject.location.zipcode)this.onGmitGfSelectValue(d.set(b,"value",this.locationCookieObject.location.zipcode))}},onGmitGfResetDropdown:function(){this.$dropdown.find("option").remove().end().append('\x3coption value\x3d""\x3e'+this.placeholderTxt+"\x3c/option\x3e").val("")},onGmitGfAddOption:function(a){a&&d.hasIn(a,"option")&&this.$dropdown.append(a.option)},
onGmitGfSetupChangeEvent:function(){var a="";this.dropdownId&&(a="#"+this.dropdownId,this.$ctx.on("change.dropdown",a,c.proxy(this.changeEvent,this)))},onGmitGfSelectValue:function(a){a&&d.hasIn(a,"value")&&(a.value?(this.$dropdown.val(a.value),this.$dropdown.change()):this.$dropdown.val(a.value))}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_dropdown_list:{name:"gmit_gf_dropdown_list",selector:".gmit-gf-dropdown-list",dropdownSelector:".gmit-gf-dropdown",hiddenFieldSelector:".gmit-gf-hidden-field"}});gmwp.mod.gmit_gf_dropdown_list=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx,b=a.find(this.cfg.dropdownSelector),a=a.find(this.cfg.hiddenFieldSelector);this.dropdownModuleIds=gmwp.util.gf.setupModuleIdsFromArray(b);this.hiddenFieldModuleIds=gmwp.util.gf.setupModuleIdsFromArray(a);
this.sandbox.subscribe(this.id,this)},prepare:function(){gmwp.util.gf.subscribeModuleIds(this.dropdownModuleIds,this);gmwp.util.gf.subscribeModuleIds(this.hiddenFieldModuleIds,this)},onGmitGfResetDropdowns:function(a){var b=[];a&&d.hasIn(a,"index")&&(b=d.drop(this.dropdownModuleIds,a.index+1),d.each(b,c.proxy(function(a){0<a&&this.fire("gmitGfResetDropdown",[a])},this)))},onGmitGfAddOptionToDropdown:function(a){var b="",c={};a&&d.hasIn(a,"index")&&d.hasIn(a,"option")&&(b=this.dropdownModuleIds[a.index],
c.option=a.option,0<b&&this.fire("gmitGfAddOption",c,[b]))},onGmitGfUpdateHiddenField:function(a){var b="",c={};a&&d.hasIn(a,"text")&&d.hasIn(a,"index")&&(c.text=a.text,b=this.hiddenFieldModuleIds[a.index],0<b&&this.fire("gmitGfUpdateValue",c,[b]))},onGmitGfSetupChangeEvents:function(){d.each(this.dropdownModuleIds,c.proxy(function(a){0<a&&this.fire("gmitGfSetupChangeEvent",[a])},this))},onGmitGfDropdownChangeEvent:function(a){a&&this.fire("gmitGfDropdownChange",a,[this.id])},onGmitGfShowDropdownList:function(){this.$ctx.show()},
onGmitGfHideDropdownList:function(){this.$ctx.hide()},onGmitGfSelectDropdownOption:function(a){var b="",c={};a&&d.hasIn(a,"value")&&d.hasIn(a,"index")&&(c.value=a.value,b=this.dropdownModuleIds[a.index],0<b&&this.fire("gmitGfSelectValue",c,[b]))}})})(gmwp.$,gmwp._);
(function(c){c.extend(!0,gmwp.conf.cmp,{gmit_gf_ecommerce:{name:"gmit_gf_ecommerce",address:"#address_1",cityName:"#cityname",ecomCheckboxSelector:"#gmit-gf-ecommerce-checkbox",eCommError:".ecommerce-error",emailAddress:"#email_address",firstName:"#gmit-gf-first-name",formSelector:"form",hideClass:"gmit-gf-hide",lastName:"#gmit-gf-last-name",phoneNumber:"#telephone_phone_number",stateName:"#state",zipCodeAddress:"#gmit-gf-postal-code",zipCodeDealer:"#gmit-gf-search-text",dataEpgEndpoint:"epg-endpoint",
dataEpgScript:"epg-script",dataCurrency:"currency",dataAmount:"amount",dataOwningEntity:"owning-entity",dataWidgetDebug:"widget-debug",dataTestMerchantId:"test-merchant-id",dataPrefixMerchantId:"prefix-merchant-id",dataTechnicalErrorMessage:"technical-error-message",dataPaymentErrorMessage:"payment-error-message",dataNameOnCardLabel:"name-on-card-label",dataCreditCardLabel:"credit-card-label",dataExpiryMonthLabel:"expiry-month-label",dataExpiryYearLabel:"expiry-year-label",dataSecurityCodeLabel:"security-code-label",
dataCreditCardPlaceholder:"credit-card-placeholder",dataExpiryMonthPlaceholder:"expiry-month-placeholder",dataExpiryYearPlaceholder:"expiry-year-placeholder",dataInvalidErrorBase:"invalid-error-base",dataRequiredErrorBase:"required-error-base",dealerSelectorV2:".gmit-gf-dealer-selector-v2",requestType:".gmit-gf-request-type"}});gmwp.mod.gmit_gf_ecommerce=gmwp.mod.AtomicMod.extend({initElements:function(){this.merchantId=this.widget=null;this.flagSubmitPay=!1;this.deferredObj=null;this.$form=c(this.cfg.formSelector);
this.$zipCodeDealer=c(this.cfg.zipCodeDealer);this.$firstName=c(this.cfg.firstName);this.$lastName=c(this.cfg.lastName);this.$address=c(this.cfg.address);this.$cityName=c(this.cfg.cityName);this.$stateName=c(this.cfg.stateName);this.$zipCodeAddress=c(this.cfg.zipCodeAddress);this.$emailAdress=c(this.cfg.emailAddress);this.$phoneNumber=c(this.cfg.phoneNumber);this.$payName=c(this.cfg.payName);this.$payMonth=c(this.cfg.payMonth);this.$payYear=c(this.cfg.payYear);this.$arrOfFields=[this.$zipCodeDealer,
this.$firstName,this.$lastName,this.$address,this.$cityName,this.$stateName];this.$requestType=this.$ctx.parent(this.cfg.selector);this.epgEndpoint=this.$ctx.data(this.cfg.dataEpgEndpoint);this.epgScript=this.$ctx.data(this.cfg.dataEpgScript);this.currency=this.$ctx.data(this.cfg.dataCurrency);this.amount=this.$ctx.data(this.cfg.dataAmount);this.owningEntity=this.$ctx.data(this.cfg.dataOwningEntity);this.widgetDebug=this.$ctx.data(this.cfg.dataWidgetDebug);this.testMerchantId=this.$ctx.data(this.cfg.dataTestMerchantId);
this.prefixMerchantId=this.$ctx.data(this.cfg.dataPrefixMerchantId);this.technicalErrorMessage=this.$ctx.data(this.cfg.dataTechnicalErrorMessage);this.paymentErrorMessage=this.$ctx.data(this.cfg.dataPaymentErrorMessage);this.nameOnCardLabel=this.$ctx.data(this.cfg.dataNameOnCardLabel);this.creditCardLabel=this.$ctx.data(this.cfg.dataCreditCardLabel);this.expiryMonthLabel=this.$ctx.data(this.cfg.dataExpiryMonthLabel);this.expiryYearLabel=this.$ctx.data(this.cfg.dataExpiryYearLabel);this.securityCodeLabel=
this.$ctx.data(this.cfg.dataSecurityCodeLabel);this.creditCardPlaceholder=this.$ctx.data(this.cfg.dataCreditCardPlaceholder);this.expiryMonthPlaceholder=this.$ctx.data(this.cfg.dataExpiryMonthPlaceholder);this.expiryYearPlaceholder=this.$ctx.data(this.cfg.dataExpiryYearPlaceholder);this.invalidErrorBase=this.$ctx.data(this.cfg.dataInvalidErrorBase);this.requiredErrorBase=this.$ctx.data(this.cfg.dataRequiredErrorBase);this.$eCommError=c(this.cfg.eCommError);this.$ecomCheckboxSelector=c(this.cfg.ecomCheckboxSelector);
this.ecomCheckboxSelectorId=gmwp.util.getModuleId(this.$ecomCheckboxSelector);this.$requestType=c(this.cfg.requestType);this.requestTypeId=gmwp.util.getModuleId(this.$requestType);this.$dealerSelectorV2=c(this.cfg.dealerSelectorV2);this.dealerSelectorV2Id=gmwp.util.getModuleId(this.$dealerSelectorV2)},prepare:function(){-1<this.ecomCheckboxSelectorId&&this.sandbox.subscribe(this.ecomCheckboxSelectorId,this);-1<this.requestTypeId&&this.sandbox.subscribe(this.requestTypeId,this);-1<this.dealerSelectorV2Id&&
this.sandbox.subscribe(this.dealerSelectorV2Id,this)},checkSelectedDealer:function(){return 2>c(".gmit-gf-input-checkbox").filter(":checked").length?!1:!0},onGmitGfEcomDealerSelected:function(c){-1<c.bac?(this.$ctx.show(),this.merchantId=this.prefixMerchantId+c.bac,this.initWidget()):this.$ctx.hide()},initWidget:function(){var d=this;d.testMerchantId&&(d.merchantId=d.testMerchantId);gmwp.util.loadScript(d.epgScript).then(function(){d.widget=new GMPaymentUI({frame:"#widget",debug:d.widgetDebug,merchantId:d.merchantId,
clearErrorOnChange:!0,clearErrorOnFocus:!1,clearErrorOnBlur:!1,showCardImages:!0,disableJavaScriptClickjackMitigation:!0,formFields:{nameOnCard:{label:d.nameOnCardLabel,placeholder:"",requiredError:d.requiredErrorBase+" ("+d.nameOnCardLabel+")",invalidError:d.invalidErrorBase+" "+d.nameOnCardLabel},creditCard:{label:d.creditCardLabel,placeholder:d.creditCardPlaceholder,requiredError:d.requiredErrorBase+" ("+d.creditCardLabel+")",invalidError:d.invalidErrorBase+" "+d.creditCardLabel},expiryMonth:{label:d.expiryMonthLabel,
placeholder:d.expiryMonthPlaceholder,requiredError:d.requiredErrorBase+" ("+d.expiryMonthLabel+")",invalidError:d.invalidErrorBase+" "+d.expiryMonthLabel},expiryYear:{label:d.expiryYearLabel,placeholder:d.expiryYearPlaceholder,requiredError:d.requiredErrorBase+" ("+d.expiryYearLabel+")",invalidError:d.invalidErrorBase+" "+d.expiryYearLabel},securityCode:{label:d.securityCodeLabel,placeholder:"",requiredError:d.requiredErrorBase+" ("+d.securityCodeLabel+")",invalidError:d.invalidErrorBase+" "+d.securityCodeLabel}},
onSuccessCallback:c.proxy(d.widgetSuccess,d),onErrorCallback:c.proxy(d.showCredentialError,d)})})},onValidateEcommCredentials:function(c){this.deferredObj=c.promise;this.validForm=c.valid;this.$eCommError.html("");this.checkSelectedDealer()?this.widget.submit():this.deferredObj.reject()},widgetSuccess:function(d){if(this.validForm&&!this.flagSubmitPay){var a=c("#state").val(),b=c("#address_1").val()+" "+c("#address_2").val(),e=c("#gmit-gf-postal-code").val(),f=c("#cityname").val();c("#gmit-gf-hidden-comments").append(" Session ID: "+
d.sessionId);c.ajax({type:"POST",url:this.epgEndpoint,headers:{"Content-Type":"application/json"},data:JSON.stringify({sessionId:d.sessionId,merchantId:this.merchantId,nameOnCard:d.payment.nameOnCard,device:{ipAddress:d.customer.ipAddress},order:{currency:this.currency,amount:this.amount,owningEntity:this.owningEntity},billing:{address:{stateProvince:a,street:b,postcodeZip:e,country:"USA",city:f}}}),success:c.proxy(this.submitSuccessToRequestType,this),fail:c.proxy(this.showPaymentError,this),dataType:"json"})}else this.deferredObj.resolve()},
submitSuccessToRequestType:function(c){switch(c.result){case "SUCCESS":this.flagSubmitPay=!0;this.deferredObj.resolve();break;case "ERROR":this.$eCommError.html(this.paymentErrorMessage);this.deferredObj.reject();break;case "FAILURE":this.$eCommError.html({1:this.technicalErrorMessage,2:this.paymentErrorMessage,3:""}[{APPROVED:3,UNSPECIFIED_FAILURE:2,DECLINED:2,TIMED_OUT:1,EXPIRED_CARD:2,INSUFFICIENT_FUNDS:2,ACQUIRER_SYSTEM_ERROR:2,SYSTEM_ERROR:1,NOT_SUPPORTED:1,DECLINED_DO_NOT_CONTACT:2,ABORTED:3,
BLOCKED:2,CANCELLED:3,DEFERRED_TRANSACTION_RECEIVED:3,REFERRED:2,AUTHENTICATION_FAILED:2,INVALID_CSC:2,LOCK_FAILURE:1,SUBMITTED:3,NOT_ENROLLED_3D_SECURE:3,PENDING:3,EXCEEDED_RETRY_LIMIT:1,DUPLICATE_BATCH:1,DECLINED_AVS:2,DECLINED_CSC:2,DECLINED_AVS_CSC:2,DECLINED_PAYMENT_PLAN:2,APPROVED_PENDING_SETTLEMENT:3,PARTIALLY_APPROVED:2,UNKNOWN:2}[c.response.gatewayCode]]);this.deferredObj.reject();break;default:this.$eCommError.html(this.technicalErrorMessage),this.deferredObj.reject()}},showCredentialError:function(c){gmwp.util.error("gmit_gf_ecommerce::widgetError",
c);this.$eCommError.html(this.technicalErrorMessage);this.deferredObj.reject()},showPaymentError:function(){this.$eCommError.html(this.$invalidErrorBase);this.deferredObj.reject()}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_follow_on:{name:"gmit_gf_follow_on",animateSpeed:500,agreementSelector:"#gmit-gf-follow-on-agreement",buttonSelector:"#gmit-gf-follow-on-button",confirmationMessageSelector:".gmit-gf-confirmation-message",followOnFormId:"#gmit-gf-follow-on-form-id",followOnMarketingId:"#gmit-gf-follow-on-marketin-id",followOnProgramId:"#gmit-gf-follow-on-program-id",followOnRequestType:"#gmit-gf-follow-on-sale-lead-request-type",requestTypeSelector:".gmit-gf-request-type"}});
gmwp.mod.gmit_gf_follow_on=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx;this.$requestButton=a.find(this.cfg.buttonSelector);this.$confirmation=a.find(this.cfg.confirmationMessageSelector);this.$checkConfirmation=a.find(this.cfg.agreementSelector);this.$followOnRequestType=a.find(this.cfg.followOnRequestType);this.$followOnFormId=a.find(this.cfg.followOnFormId);this.$followOnProgramId=a.find(this.cfg.followOnProgramId);this.$followOnMarketingId=a.find(this.cfg.followOnMarketingId);
this.$requestType=a.closest(this.cfg.requestTypeSelector);this.$form=this.$requestType.find("form");this.submitUrl=this.$form.data("action-url");this.formData={};this.sandbox.subscribe(this.id,this)},prepare:function(){this.$ctx.on("click",this.cfg.buttonSelector,c.proxy(this.submitRequestAgain,this))},onResetFollow:function(){this.$requestButton.prop("disabled",!1);this.$checkConfirmation.prop("disabled",!1);this.$confirmation.slideUp(this.cfg.animateSpeed);this.$checkConfirmation.filter(":checked").prop("checked",
!1)},replaceData:function(a){"salesLead.campaignCode"===a.name?a.value=this.$followOnProgramId.val():"salesLead.requestType"===a.name||"x-requestType"===a.name?a.value=this.$followOnRequestType.val():"x-formid"===a.name?a.value=this.$followOnFormId.val():"salesLead.referenceNumber"===a.name&&(a.value=this.$followOnMarketingId.val())},submitRequestAgain:function(a){a.preventDefault();this.formData=this.$form.serializeArray();this.formData=c.param(d.each(this.formData,c.proxy(this.replaceData,this)));
0<this.$checkConfirmation.filter(":checked").length&&c.ajax({url:this.submitUrl,data:this.formData,processData:!1,method:"POST",statusCode:{404:c.proxy(this.responseFail,this)},success:c.proxy(this.responseSuccess,this),fail:c.proxy(this.responseFail,this)})},responseSuccess:function(){this.$requestButton.attr("disabled","disabled");this.$checkConfirmation.attr("disabled","disabled");this.$confirmation.slideDown(this.cfg.animateSpeed)},responseFail:function(){return!1}})})(gmwp.$,gmwp._);
(function(c){c.extend(!0,gmwp.conf.cmp,{gmit_gf_groupbox:{name:"gmit_gf_groupbox",animateSpeed:500,collapseClassName:"gmit-gf-collapse",contentClassSelector:".gmit-gf-groupbox-content",dataMultiStepForm:"multi-step-form",expandedSelector:".gmit-gf-expanded",expanded:"gmit-gf-expanded",expanderClassName:"gmit-gf-expander",expanderSelector:".gmit-gf-is-expander",expanderClass:"gmit-gf-is-expander",groupBoxContainer:".gmit-gf-group-box",groupBoxSelector:".gmit-gf-groupbox",groupBoxTitle:".gmit-gf-groupbox-title",
iconMinusClass:"icon-minus",iconPlusClass:"icon-plus",iconClass:"icon",iconSelector:".icon",requestTypeSelector:".gmit-gf-request-type",titleIconSelector:".gmit-gf-groupbox-title .icon",windowSizeXLarge:"xlarge",windowSizeLarge:"large",windowSizeMedium:"medium"}});gmwp.mod.gmit_gf_groupbox=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){this.$requestType=this.$ctx.closest(this.cfg.requestTypeSelector);this.multiStepForm=this.$requestType.data(this.cfg.multiStepForm);this.$icon=this.$ctx.find(this.cfg.titleIconSelector);
this.$groupBoxTitle=this.$ctx.find(this.cfg.groupBoxTitle);this.$container=c([]);this.$content=c([])},prepare:function(){this.$ctx.on("click",this.cfg.expanderSelector,c.proxy(this.listenToExpander,this));this.addOrRemoveExpander();gmwp.util.debugModule(this)},finish:function(){},onBroadcastBreakpointChange:function(){this.addOrRemoveExpander()},onBroadcastWindowScroll:function(){},addOrRemoveExpander:function(){this.$groupBoxTitle.hasClass(this.cfg.expanderClass)&&(gmwp.util.isWindowSize(this.cfg.windowSizeXLarge)||
gmwp.util.isWindowSize(this.cfg.windowSizeLarge)||gmwp.util.isWindowSize(this.cfg.windowSizeMedium)?(this.$groupBoxTitle.removeClass(this.cfg.expanderClassName),this.$icon.removeClass(this.cfg.iconClass).removeClass(this.cfg.iconPlusClass).removeClass(this.cfg.iconMinusClass)):(this.$icon.addClass(this.cfg.iconClass),this.$groupBoxTitle.addClass(this.cfg.expanderClassName)))},listenToExpander:function(d){d=c(d.currentTarget);this.$container=d.closest(this.cfg.groupBoxContainer);this.$icon=d.find(this.cfg.iconSelector);
this.$content=this.$container.find(this.cfg.contentClassSelector);this.$content.hasClass(this.cfg.expanded)?(this.$content.slideUp(this.cfg.animateSpeed,c.proxy(this.styleCollapse,this)),this.$content.removeClass(this.cfg.expanded),this.$icon.removeClass(this.cfg.iconMinusClass),this.$icon.addClass(this.cfg.iconPlusClass)):(this.$ctx.removeClass(this.cfg.collapseClassName),this.$container.removeClass(this.cfg.collapseClassName),this.$content.slideDown(this.cfg.animateSpeed),this.$content.addClass(this.cfg.expanded),
this.$icon.removeClass(this.cfg.iconPlusClass),this.$icon.addClass(this.cfg.iconMinusClass))},styleCollapse:function(){this.$ctx.addClass(this.cfg.collapseClassName)}})})(gmwp.$);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_headline:{name:"gmit_gf_headline",selector:".gmit-gf-headline"}});gmwp.mod.gmit_gf_headline=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx;this.$headline=a.children();this.preText=a.data("pre-text");this.postText=a.data("post-text");this.drilldowns=a.data("drilldowns");this.sandbox.subscribe(this.id,this)},onGmitGfResetHeadline:function(){this.$headline.html("")},onGmitGfSetHeadline:function(a){var b="";a&&d.hasIn(a,"newText")&&
a.newText.length?(b=a.newText,this.preText&&(b=this.preText+b),this.postText&&(b+=this.postText),this.$headline.html(b)):d.each(this.drilldowns,c.proxy(function(c){d.hasIn(a,c)&&(b=d.get(a,c),this.preText&&(b=this.preText+b),this.postText&&(b+=this.postText),this.$headline.html(b))},this))},onGmitGfHideHeadline:function(){this.$ctx.hide()},onGmitGfShowHeadline:function(){this.$ctx.show()}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_image:{name:"gmit_gf_image",selector:".gmit-gf-image",vehicleSelectorContainer:".gmit-gf-vehicle-selector"}});gmwp.mod.gmit_gf_image=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx;a.hide();if(this.imageData=a.data("image"))this.$ctx.attr("src",this.imageData),this.$ctx.show();this.sandbox.subscribe(this.id,this)},onGmitGfSetImage:function(a){a&&d.hasIn(a,"src")&&this.$ctx.attr("src",a.src)},onGmitGfResetDefaultImage:function(){this.imageData?
this.$ctx.attr("src",this.imageData):this.$ctx.hide()},onGmitGfHideImage:function(){this.$ctx.hide()},onGmitGfShowImage:function(){this.$ctx.show()}})})(gmwp.$,gmwp._);
(function(c){c.extend(!0,gmwp.conf.cmp,{gmit_gf_layer_window:{name:"gmit_gf_layer_window",configSelector:".tooltip-config",configClass:"tooltip-config",revealClass:"reveal-modal,",dataHeadline:"layerHeadline",dataContent:"layerContent",dataSelector:"layer-selector",dataHeight:"layerHeight",dataWidth:"layerWidth",modal:"-reveal",qtipContent:".qtip-content",qtipTitlebar:".qtip-titlebar",qtipTip:".qtip-tip",headerStyle:"\x3cspan/\x3e"}});gmwp.mod.gmit_gf_layer_window=gmwp.mod.AtomicMod.extend({events:{},
initElements:function(){},prepare:function(){var d=this,a=this.$ctx.attr("data-"+d.cfg.dataSelector),b=function(a,b){var e=a.attr("href").substr(1);return c(d.cfg.configSelector+"[data-"+d.cfg.dataSelector+'\x3d"'+e+'"]').data(b)},e=function(a){var c=b(a.target,d.cfg.dataWidth);gmwp.util.isMobile()?(a.set("style.tip.corner",!1),a.set("position.target",gmwp.dom.$window),a.set("position.at","bottom center"),a.set("style.width","100%")):(a.set("style.tip.corner",!0),a.set("position.target",!0),a.set("position.at",
"top center"),a.set("style.width",c))};this.api={content:{text:function(a,e){var h=b(e.target,d.cfg.dataHeadline);h&&e.set("content.title",c(d.cfg.headerStyle).append(h));e.set("content.button",!0);return b(e.target,d.cfg.dataContent)},tip:!1},events:{render:function(a,g){var h=b(g.target,d.cfg.dataHeight),k=b(g.target,d.cfg.dataWidth);h&&c(this).css("max-height",h);k&&c(this).css("max-width","none");e(g)},visible:function(a,g){var h=c(this),k=b(g.target,d.cfg.dataHeight),l=h.outerHeight(),s=h.find(d.cfg.qtipContent),
m=s.height(),B=h.find(d.cfg.qtipTitlebar).outerHeight(),h=h.find(d.cfg.qtipTip).outerHeight();k&&k<m&&s.height(l-B-h);e(g)}},hide:{event:"unfocus"},position:{my:"bottom center",at:"top center",viewport:gmwp.dom.$window,adjust:{method:"flip none"}},show:{event:"click"},style:{tip:{corner:!1,border:0,width:24,height:12}}};d.api.id=a;c('a[href\x3d"#'+a+'"]').each(function(){c(this).on("click."+d.cfg.name,function(a){a.preventDefault();a=c.extend(!0,d.api,{show:{event:a.type,ready:!0}});c(this).qtip(a)})});
this.sandbox.subscribe(this.id,this)},finish:function(){var d=gmwp.$("#"+this.$ctx.attr("id")+this.cfg.modal);if(gmwp.util.gf.isMobile())d.on("click touchend",c.proxy(this.openLayerWindow,this));else d.on("click",c.proxy(this.openLayerWindow,this))},openLayerWindow:function(c){this.fire("setLayerWindow",{isLayerWindow:!0},[this.id]);gmwp.util.gf.openLayerWindow(c)}})})(gmwp.$);
(function(c){c.extend(!0,gmwp.conf.cmp,{gmit_gf_link:{name:"gmit_gf_link",selector:".js-gmit-gf-click-link"}});gmwp.mod.gmit_gf_link=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){this.$link=this.$ctx.find(this.cfg.selector);this.linkId=this.$link.attr("id");this.sandbox.subscribe(this.id,this)},finish:function(){},clickEvent:function(c){c.preventDefault();this.fire("gmitGfLinkClick",[this.id])},onGmitGfSetupClickEvent:function(){this.$ctx.on("click.link","#"+this.linkId,c.proxy(this.clickEvent,
this))},onGmitGfHideLink:function(){this.$link.hide()},onGmitGfShowLink:function(){this.$link.show()}})})(gmwp.$);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_list:{name:"gmit_gf_list",selector:".gmit-gf-list",listItemTmpl:".gmit-gf-list-item-tmpl",listItemTmplClass:"gmit-gf-list-item-tmpl",contentSperator:".gmit-gf-content-separator",listItemClass:"gmit-gf-list-item",listItemClassSelector:".gmit-gf-list-item",hideClass:"gmit-gf-hide",dynamicUrl:"dynamic-url",linkSelector:".js-gmit-gf-click-link"}});gmwp.mod.gmit_gf_list=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){this.$listItemTmpl=this.$ctx.find(this.cfg.listItemTmpl);
this.$item=this.$listItemTmpl.clone().removeClass(this.cfg.listItemTmplClass).addClass(this.cfg.listItemClass);this.sandbox.subscribe(this.id,this)},prepare:function(){},finish:function(){this.listItemTempleteSetup()},onGmitGfAddListItem:function(a){var b,e=this.cfg.dynamicUrl;d.templateSettings.interpolate=/{([\S]+?)}/g;b=this.$item.html().replace(/\\\\/g,"");b=d.template(b);a=c("\x3cdiv/\x3e").attr("id",a.id).addClass(this.cfg.listItemClass).append(c(b(a)));b=a.find(this.cfg.linkSelector);d.each(b,
function(a){a=c(a);a.data(e)&&a.attr("href",a.data(e))});this.$ctx.append(a);this.removeItemSeperator(1);gmwp.util.gf.applyBusinessRules(this.$ctx)},onGmitGfRemoveListItem:function(a){this.$ctx.find("#"+a.id).remove();this.removeItemSeperator(1)},removeItemSeperator:function(a){c(this.$ctx.children()[a]).find(this.cfg.contentSperator).remove()},listItemTempleteSetup:function(){var a={},b=[];d.each(this.$listItemTmpl.children(),c.proxy(function(a){b.push(c(a).html().match(/[^{}]+(?=\})/g))},this));
a.lines=b;this.fire("gmitGfItemTempleteSetup",a,[this.id])},onGmitGfAddMarkerToList:function(a){d.each(d.get(a,"markerList"),c.proxy(function(a){d.hasIn(a,"id")&&d.hasIn(a,"src")&&this.$ctx.find("#"+a.id).find("img").attr("src",a.src)},this))},onGmitGfClearList:function(){this.$ctx.children(this.cfg.listItemClassSelector).remove()}})})(gmwp.$,gmwp._);
(function(c){c.extend(!0,gmwp.conf.cmp,{gmit_gf_loader:{name:"gmit_gf_loader",selector:".gmit-gf-loader",hideClass:"gmit-gf-hide"}});gmwp.mod.gmit_gf_loader=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){this.sandbox.subscribe(this.id,this)},prepare:function(){this.onGmitGfHideLoader()},onGmitGfHideLoader:function(){this.$ctx.addClass(this.cfg.hideClass)},onGmitGfShowLoader:function(){this.$ctx.removeClass(this.cfg.hideClass)}})})(gmwp.$);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_map:{name:"gmit_gf_map",dataApiKey:"api-key",dataApiClientId:"api-client-id",dataApiChannel:"api-channel",dataGoogleApiUrl:"google-api-url",initMapFunction:"window.gmitGfInitMap",latDrilldown:"coordinates.latitude",lngDrilldown:"coordinates.longitude",selector:".gmit-gf-map",listSelector:".gmit-gf-list",markerImgSrc:"http://www.google.com/mapfiles/marker{label}.png"}});gmwp.mod.gmit_gf_map=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){this.$requestType=
gmwp.util.getClosestModule(this.$ctx,gmwp.conf.cmp.gmit_gf_request_type.name);this.map={};this.markers={};this.apiKey=this.$ctx.data(this.cfg.dataApiKey);this.apiClientId=this.$ctx.data(this.cfg.dataApiClientId);this.apiChannel=this.$ctx.data(this.cfg.dataApiChannel);this.googleApiUrl=this.$ctx.data(this.cfg.dataGoogleApiUrl);this.$list=this.$requestType.find(this.cfg.listSelector);this.listId=gmwp.util.getModuleId(this.$list);this.listCheck=0<this.listId;this.mapMarkerListObj={markerList:[]};this.sandbox.subscribe(this.id,
this)},prepare:function(){this.listCheck&&this.sandbox.subscribe(this.listId,this)},finish:function(){gmwp.dom.$window[0].gmitGfInitMap=c.proxy(function(){var a=new gmwp.dom.$window[0].google.maps.LatLng(0,0);this.map=new gmwp.dom.$window[0].google.maps.Map(this.$ctx[0],{center:a,zoom:8})},this);this.loadApi()},onGmitGfToggleMarker:function(a){var b={},e=0;d.each(this.mapMarkerListObj.markerList,function(a){a.setMap(null)});this.mapMarkerListObj.markerList=[];this.bounds=new gmwp.dom.$window[0].google.maps.LatLngBounds;
d.each(d.get(a,"markers"),c.proxy(function(a){a&&!d.hasIn(this.markers,a.name)&&d.hasIn(a,this.cfg.latDrilldown)&&d.hasIn(a,this.cfg.lngDrilldown)&&(b=new gmwp.dom.$window[0].google.maps.LatLng(d.get(a,this.cfg.latDrilldown),d.get(a,this.cfg.lngDrilldown)),a=new gmwp.dom.$window[0].google.maps.Marker({position:b,label:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[e++%26],id:a.name,map:this.map}),d.set(a,"src",this.cfg.markerImgSrc.replace("{label}",a.label)),this.bounds.extend(a.position),this.mapMarkerListObj.markerList.push(a),
this.markers=d.set(this.markers,a.name,a))},this));this.listCheck&&this.fire("gmitGfAddMarkerToList",this.mapMarkerListObj,[this.listId])},onGmitGfFocusMapMarker:function(){gmwp.dom.$window[0].google.maps.event.trigger(gmwp.$(this.cfg.selector)[0],"resize");this.map.fitBounds(this.bounds);1===this.mapMarkerListObj.markerList.length&&this.map.setZoom(10)},loadApi:function(){gmwp.util.gf.loadGoogleMapApi(this.googleApiUrl,this.apiClientId,this.apiChannel,this.apiKey).then(function(){window.gmitGfInitMap()})}})})(gmwp.$,
gmwp._);(function(c){c.extend(!0,gmwp.conf.cmp,{gmit_gf_multioption_radio:{name:"gmit_gf_multioption_radio",selector:".gmit-gf-input-radio"}});gmwp.mod.gmit_gf_multioption_radio=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){this.$radioSelector=this.$ctx.find(this.cfg.selector)},finish:function(){this.$radioSelector.off("focus")}})})(gmwp.$);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_paragraph:{name:"gmit_gf_paragraph",selector:".gmit-gf-paragraph",hideClass:"gmit-gf-hide",dataTestDealerFlag:"test-dealer-flag"}});gmwp.mod.gmit_gf_paragraph=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){},prepare:function(){this.sandbox.subscribe(this.id,this)},finish:function(){this.$ctx.data(this.cfg.dataTestDealerFlag)&&this.$ctx.hide()},onGmitGfToggleTestDealerParagraph:function(a){d.get(a,"toggleFlag")?this.$ctx.show():this.$ctx.hide()},
onGmitGfShowGeneralError:function(){this.$ctx.removeClass(this.cfg.hideClass)},onGmitGfRemoveGeneralError:function(){this.$ctx.addClass(this.cfg.hideClass)}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_pricing:{name:"gmit_gf_pricing",selector:".gmit-gf-pricing",tableSelector:".gmit-gf-table",headlineSelector:".gmit-gf-headline"}});gmwp.mod.gmit_gf_pricing=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx;this.$table=a.find(this.cfg.tableSelector);this.$headline=a.find(this.cfg.headlineSelector);this.tableId=gmwp.util.getModuleId(this.$table);this.tableCheck=0<this.tableId;this.headlineId=gmwp.util.getModuleId(this.$headline);
this.headlineCheck=0<this.headlineId;this.sandbox.subscribe(this.id,this)},prepare:function(){this.tableCheck&&this.sandbox.subscribe(this.tableId,this);this.headlineCheck&&this.sandbox.subscribe(this.headlineId,this)},onGmitGfHidePricing:function(){this.$ctx.hide()},onGmitGfShowPricing:function(){this.$ctx.show()},onGmitGfSetPricingColumn:function(a){var b={};a&&d.hasIn(a,"rowIndex")&&d.hasIn(a,"columnIndex")&&d.hasIn(a,"newText")&&(b.rowIndex=a.rowIndex,b.columnIndex=a.columnIndex,b.newText=a.newText,
this.tableCheck&&this.fire("gmitGfSetTableColumn",b,[this.tableId]))},onGmitGfSetPricingHeadline:function(a){var b={};a&&d.hasIn(a,"newText")&&(b.newText=gmwp.util.gf.formatPrice(a.newText),a.newText||(b.newText=""),this.headlineCheck&&this.fire("gmitGfSetHeadline",b,[this.headlineId]))}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_request_type:{name:"gmit_gf_request_type",accordionNavigationSelector:".accordion-navigation",activeAccordion:".accordion-navigation.active",activeClass:"active",activeSelector:".active",activeTabSelector:".tab-title.active",animateSpeed:500,brochureSelector:".gmit-gf-brochure",carlineDetailSelector:".js-gmit-gf-carline-detail",carlineDetailWrapperSelector:".gmit-gf-carline-detail-wrapper",carlineImageSelector:".js-gmit-gf-carline-image",carlineObjSelector:".gmit-gf-carline-obj",
chosenDealerIdClass:".js-gmit-gf-sales-lead-dealer-id",collapseClassName:"gmit-gf-collapse",commentFieldSelector:".q-mod-gmit-gf-comment-field",confirmationMessageSelector:".gmit-gf-confirmation-message",content:".content",contentActiveSelector:".gmit-gf-groupbox-content.active",contentFirstSelector:".gmit-gf-groupbox-content:first",dataActionUrl:"action-url",dataDaysOfWeek:"days-of-week",dataInvalidSelector:"[data-invalid]",dataMultiStepForm:"multi-step-form",dataPageLoadDtmScript:"page-load-dtm-script",
dataSubmitForm:"submit-form",dataSuccessDtmScript:"success-dtm-script",dataTestDealerBac:"test-dealer-bac",dataTestDealerParagraph:'[data-test-dealer-flag\x3d"true"]',dataThankYouDtmScript:"thank-you-dtm-script",dataThankYouUrl:"thank-you-url",dataUseVehicleSelector:"use-vehicle-selector",dealerIdClass:".js-gmit-gf-hidden-dealer-id",dealerSelector:".gmit-gf-dealer-selector",dealerSelectorV2:".gmit-gf-dealer-selector-v2",disabledSelector:"disabled",eCommerceCheckbox:"#gmit-gf-ecommerce-checkbox",eCommerceWidget:".gmit-gf-ecommerce",
expandedClass:"gmit-gf-expanded",expandIconSelector:".gmit-gf-expand-icon",followOnAgreementSelector:"#gmit-gf-follow-on-agreement",formElementSelectors:"input,textarea,select",formSelector:"form",generalSubmissionErrorClass:".js-gmit-gf-general-submission-error",groupBoxContainer:".gmit-gf-groupbox",groupBoxSelector:".gmit-gf-group-box",hiddenFieldSelector:"addToCommentField",iconMinusClass:"icon-minus",iconPlusClass:"icon-plus",layerWindowSelector:".gmit-gf-layer-window",liMultiStepLinkSelector:"li a.gmit-multi-step-link",
linkAttribute:"link-type",linkType:"cancel",mapSelector:".gmit-gf-map",multiStepNextSelector:".js-gmit-gf-multi-step-next",multiStepPrevSelector:".js-gmit-gf-multi-step-prev",mutliStepLinkSelector:"a.gmit-multi-step-link",readyToSubmit:".gmit-gf-ready-to-submit",srClassSelector:"gmit-gf-is-expander",stepVisitedSelector:"gmit-gf-step-visited",submitSequestTypeSelector:"#gmit-gf-submit-request-type",tabsSelector:".tabs",thankYouParagraphSelector:".gmit-gf-thank-you-paragraph",thankYouSelector:".gmit-gf-thank-you",
titleIconSelector:".gmit-gf-groupbox-title .icon",titleSelector:".gmit-gf-group-box .gmit-gf-groupbox-title",ulAccordionSelector:"ul.accordion",windowSizeLarge:"large",windowSizeMedium:"medium",windowSizeXLarge:"xlarge",vehicleSelectorV2Selector:".gmit-gf-vehicle-selector-v2"}});gmwp.mod.gmit_gf_request_type=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx,b=a.find(this.cfg.mapSelector);this.$accordion=a.find(this.cfg.ulAccordionSelector);this.$layerWindow=a.find(this.cfg.layerWindowSelector);
this.$brochure=a.find(this.cfg.brochureSelector);this.$form=a.find(this.cfg.formSelector);this.$readyToSubmit=this.$form.find(this.cfg.readyToSubmit);this.actionUrl=this.$form.data(this.cfg.dataActionUrl);this.$groupBoxExpander=a.find(this.cfg.groupBoxSelector);this.multiStepForm=a.data(this.cfg.dataMultiStepForm);this.mapId=gmwp.util.getModuleId(b);this.$submitButton=a.find(this.cfg.submitSequestTypeSelector);this.$tabs=a.find(this.cfg.tabsSelector);this.$thankYou=a.find(this.cfg.thankYouSelector);
this.$questions=a.find("[data-questions], [data-callers]");this.$content=this.$groupBoxExpander.find(this.cfg.contentFirstSelector);this.$title=a.find(this.cfg.titleSelector);this.$icon=this.$groupBoxExpander.find(this.cfg.titleIconSelector);this.$collapsedContainer=this.$content.slice(1).closest(this.cfg.groupBoxContainer);this.thankYouUrl=a.data(this.cfg.dataThankYouUrl);this.$carlineDetail=this.$thankYou.find(this.cfg.carlineDetailSelector);this.$carlineImage=this.$thankYou.find(this.cfg.carlineImageSelector);
this.$generalSubmissionError=a.find(this.cfg.generalSubmissionErrorClass);this.generalSubmissionErrorId=gmwp.util.getModuleId(this.$generalSubmissionError);this.thankYouId=gmwp.util.getModuleId(this.$thankYou);this.$dealerSelector=a.find(this.cfg.dealerSelector);this.dealerSelectorId=gmwp.util.getModuleId(this.$dealerSelector);this.$dealerSelectorV2=a.find(this.cfg.dealerSelectorV2);this.dealerSelectorV2Id=gmwp.util.getModuleId(this.$dealerSelectorV2);this.dealerSelected=0>=this.$dealerSelector.length||
0>=this.$dealerSelectorV2.length;this.isLayerWindow=!1;this.$cancelLink=c("[data-"+this.cfg.linkAttribute+'\x3d"'+this.cfg.linkType+'"]');this.cancelLinkId=gmwp.util.getModuleId(this.$cancelLink);this.cancelLink=0<this.cancelLinkId;this.$comments=a.find(this.cfg.commentFieldSelector);this.commentsId=[];this.$commentField=a.find('[name\x3d"salesLead.comment"]').closest(this.cfg.commentFieldSelector);this.commentFieldId=gmwp.util.getModuleId(this.$commentField);this.commentFieldCheck=0<this.commentFieldId;
this.$vehicleSelectorV2=a.find(this.cfg.vehicleSelectorV2Selector);this.vehicleSelectorV2Id=gmwp.util.getModuleId(this.$vehicleSelectorV2);this.vehicleSelectorV2Check=0<this.vehicleSelectorV2Id;this.$eCommerceWidget=c(this.cfg.eCommerceWidget);this.eCommerceWidgetId=gmwp.util.getModuleId(this.$eCommerceWidget);this.successDtmScript=a.data(this.cfg.dataSuccessDtmScript);this.thankYouDtmScript=a.data(this.cfg.dataThankYouDtmScript);this.pageLoadDtmScript=a.data(this.cfg.dataPageLoadDtmScript);this.setTestDealerBac=
!1;this.testDealerBac=a.data(this.cfg.dataTestDealerBac);this.$testDealerParagraph=a.find(this.cfg.dataTestDealerParagraph);this.testDealerParagraphId=gmwp.util.getModuleId(this.$testDealerParagraph);this.testDealerParagraphCheck=0<this.testDealerParagraphId;this.moduleIdArray=[];gmwp.conf.gf.queryObject=gmwp.util.gf.parseQueryString();d.set(gmwp.conf.gf.cookieObject,"location",gmwp.util.gf.parseLocationCookie(["cookie_customer_location","GMWP_location"]))},prepare:function(){this.$ctx.on("click",
this.cfg.submitSequestTypeSelector,c.proxy(this.setupSubmitButtonClicked,this)).on("click",this.cfg.liMultiStepLinkSelector,c.proxy(this.moveToTab,this)).on("click",this.cfg.multiStepNextSelector,c.proxy(this.onNextButton,this)).on("click",this.cfg.multiStepPrevSelector,c.proxy(this.onPrevButton,this));this.setupAccordion();this.sandbox.subscribe(this.id,this);0<this.thankYouId&&this.sandbox.subscribe(this.thankYouId,this);0<this.dealerSelectorId&&this.sandbox.subscribe(this.dealerSelectorId,this);
0<this.dealerSelectorV2Id&&this.sandbox.subscribe(this.dealerSelectorV2Id,this);0<this.generalSubmissionErrorId&&this.sandbox.subscribe(this.generalSubmissionErrorId,this);-1<this.eCommerceWidgetId&&this.sandbox.subscribe(this.eCommerceWidgetId,this);this.cancelLink&&this.sandbox.subscribe(this.cancelLinkId,this);0<this.mapId&&this.sandbox.subscribe(this.mapId,this);this.commentFieldCheck&&this.sandbox.subscribe(this.commentFieldId,this);this.vehicleSelectorV2Check&&this.sandbox.subscribe(this.vehicleSelectorV2Id,
this);this.testDealerParagraphCheck&&this.sandbox.subscribe(this.testDealerParagraphId,this);d.each(this.$comments,c.proxy(function(a){a=gmwp.util.getModuleId(c(a));0<a&&(this.sandbox.subscribe(a,this),this.commentsId.push(a))},this));d.each(this.$layerWindow,c.proxy(function(a){a=c(a);a=gmwp.util.getModuleId(a);0<a&&this.sandbox.subscribe(a,this)},this))},finish:function(){this.collapseExpanders();this.onApplyBusinessRules();this.pageLoadDtmScript&&gmwp.util.gf.callDtmScript(this.pageLoadDtmScript);
gmwp.dom.$document.foundation("abide","events");this.$form.on("valid.fndtn.abide",c.proxy(this.submitForm,this)).on("invalid.fndtn.abide",c.proxy(this.additionalValidations,this));this.$ctx.show();this.cancelLink&&this.fire("gmitGfSetupClickEvent",[this.cancelLinkId])},onBroadcastBreakpointChange:function(){this.collapseExpanders()},onApplyBusinessRules:function(){gmwp.util.gf.applyBusinessRules(this.$ctx)},onGmitGfDealerSelected:function(a){this.dealerSelected=d.isPlainObject(a)?a.valid:!1},onGmitGfChangeVehicle:function(){this.$thankYou.slideUp(this.cfg.animateSpeed);
this.$form.slideDown(this.cfg.animateSpeed);this.$form.find('[name\x3d"salesLead.qIds"]').remove();this.commentFieldCheck&&this.fire("gmitGfClearCommentField",[this.commentFieldId]);this.vehicleSelectorV2Check&&this.fire("gmitGfSetupXCallers",[this.vehicleSelectorV2Id])},onGmitGfLinkClick:function(){gmwp.document.location.href=gmwp.document.location.href.split("?")[0]},collapseExpanders:function(){this.$title.hasClass(this.cfg.srClassSelector)&&(gmwp.util.isWindowSize(this.cfg.windowSizeXLarge)||
gmwp.util.isWindowSize(this.cfg.windowSizeLarge)||gmwp.util.isWindowSize(this.cfg.windowSizeMedium)?this.multiStepForm||(this.$content.slideDown(this.cfg.animateSpeed).removeClass(this.cfg.expandedClass),this.$collapsedContainer.removeClass(this.cfg.collapseClassName),this.$icon.removeClass(this.cfg.iconMinusClass).removeClass(this.cfg.iconPlusClass)):this.multiStepForm||this.isLayerWindow||(this.$content.slice(0,1).slideDown(this.cfg.animateSpeed).addClass(this.cfg.expandedClass),this.$content.slice(1).slideUp(this.cfg.animateSpeed),
this.$collapsedContainer.addClass(this.cfg.collapseClassName),this.$icon.slice(0,1).addClass(this.cfg.iconMinusClass).removeClass(this.cfg.iconPlusClass),this.$icon.slice(1).removeClass(this.cfg.iconMinusClass).addClass(this.cfg.iconPlusClass)),this.isLayerWindow=!1)},enableLink:function(a){a.removeClass(this.cfg.disabledSelector)},moveToTab:function(a){var b=c(a.currentTarget),d=b.parent().hasClass(this.cfg.disabledSelector),f=b.data("next-prev"),g=b.attr("href"),h=this.$accordion.find(this.cfg.activeAccordion),
k=this.$accordion.find(this.cfg.mutliStepLinkSelector).filter('[href\x3d"'+g+'"]').parent(),g=this.$tabs.find(this.cfg.mutliStepLinkSelector).filter('[href\x3d"'+g+'"]').parent(),l=this.$tabs.find(this.cfg.activeTabSelector);a.preventDefault();a.stopPropagation();if(d&&"prev"!==f&&"next"!==f)return!1;this.$submitButton.data(this.cfg.dataSubmitForm,!1);this.$form.submit();if(0<this.$form.find(this.cfg.dataInvalidSelector).length)return!1;c.proxy(this.enableLink(h),this);c.proxy(this.enableLink(l),
this);c.proxy(this.enableLink(k),this);c.proxy(this.enableLink(g),this);k.find(this.cfg.expandIconSelector).removeClass(this.cfg.iconPlusClass).addClass(this.cfg.iconMinusClass);h.find(this.cfg.expandIconSelector).addClass(this.cfg.iconPlusClass).removeClass(this.cfg.iconMinusClass);l.removeClass(this.cfg.activeClass).addClass(this.cfg.stepVisitedSelector);h.removeClass(this.cfg.activeClass).addClass(this.cfg.stepVisitedSelector);h.find(this.cfg.content).removeClass(this.cfg.activeClass);k.addClass(this.cfg.activeClass);
k.find(this.cfg.content).addClass(this.cfg.activeClass);g.addClass(this.cfg.activeClass).removeClass(this.cfg.stepVisitedSelector);b.data("next-prev","")},onNextButton:function(a){a=c(a.currentTarget).closest(this.cfg.accordionNavigationSelector).next().find(this.cfg.mutliStepLinkSelector);a.data("next-prev","next");a.trigger("click")},onPrevButton:function(a){a=c(a.currentTarget).closest(this.cfg.accordionNavigationSelector).prev().find(this.cfg.mutliStepLinkSelector);a.data("next-prev","prev");
a.trigger("click")},onSetLayerWindow:function(a){d.isPlainObject(a)&&(this.isLayerWindow=a.isLayerWindow)},setupAccordion:function(){this.multiStepForm&&(this.$accordion.find(this.cfg.activeSelector).find(this.cfg.expandIconSelector).removeClass(this.cfg.iconPlusClass).addClass(this.cfg.iconMinusClass),this.$title.hide())},setupSubmitButtonClicked:function(a){c(a.currentTarget).data(this.cfg.dataSubmitForm,!0);!this.multiStepForm&&gmwp.util.isMobile()&&(this.$content.slideDown(this.cfg.animateSpeed).addClass(this.cfg.expandedClass),
this.$icon.addClass(this.cfg.iconMinusClass).removeClass(this.cfg.iconPlusClass))},submitEcommValidation:function(a){var b=c.Deferred();this.fire("validateEcommCredentials",{valid:a,promise:b},[this.id]);return b.promise()},additionalValidations:function(){this.dealerSelected||this.showDealerError();0<this.generalSubmissionErrorId&&this.fire("gmitGfShowGeneralError",[this.generalSubmissionErrorId]);0<this.$brochure.filter(":not(:hidden)").length&&0>=this.$brochure.find(":input:checked").length&&this.fire("showBrochureSelectedError",
[this.id]);c(this.cfg.eCommerceCheckbox).filter(":checked").length&&this.submitEcommValidation(!1)},showDealerError:function(){this.dealerSelected||!this.$dealerSelector.filter(":not(:hidden)").length&&!this.$dealerSelectorV2.filter(":not(:hidden)").length||this.fire("showDealerNotSelectedError",[this.id])},onGmitGfCheckNoBrochureSelected:function(){0<this.$brochure.filter(":not(:hidden)").length&&0>=this.$brochure.find(":input:checked").length&&this.fire("showBrochureSelectedError",[this.id])},onGmitGfToggleTestDealer:function(a){d.get(a,
"moduleId")&&(d.get(a,"toggleFlag")?this.moduleIdArray.push(a.moduleId):d.pull(this.moduleIdArray,a.moduleId),this.setTestDealerBac=this.moduleIdArray&&this.moduleIdArray.length?!0:!1,this.fire("gmitGfToggleTestDealerParagraph",{toggleFlag:this.setTestDealerBac},[this.testDealerParagraphId]))},submitForm:function(a){var b=this,e=c(a.currentTarget),f=!0,g=this.setTestDealerBac&&this.testDealerBac?d.split(this.testDealerBac,","):d.split(e.find(this.cfg.dealerIdClass).filter(":not("+this.cfg.chosenDealerIdClass+
")").val(),",");0<this.generalSubmissionErrorId&&this.fire("gmitGfRemoveGeneralError",[this.generalSubmissionErrorId]);this.vehicleSelectorV2Check&&this.fire("gmitGfSetThankYou",[this.vehicleSelectorV2Id]);if(!this.dealerSelected&&(this.$dealerSelector.filter(":not(:hidden)").length||this.$dealerSelectorV2.filter(":not(:hidden)").length))return this.fire("showDealerNotSelectedError",[this.id]),!1;if(0<this.$brochure.filter(":not(:hidden)").length&&0>=this.$brochure.find(":input:checked").length)return this.fire("showBrochureSelectedError",
[this.id]),!1;this.fire("resetShowDealerErrorVisible",[this.id]);this.fire("resetShowBrochureSelectedError",[this.id]);if(!this.multiStepForm||this.$submitButton.data(this.cfg.dataSubmitForm))d.each(this.$readyToSubmit,c.proxy(function(a){c(a).val()&&(f=!1)},this)),f?(d.each(this.$questions,c.proxy(function(a){var b=c('\x3cinput type\x3d"hidden" name\x3d"salesLead.qIds"\x3e');a=c(a);var d=a.data("questions")?a.data("questions"):a.data("callers"),f=d&&1===d.length?d[0].key:"",d=d&&1===d.length?d[0].value:
"";f&&(a.is(":radio")||a.is(":checkbox")?a.is(":checked")&&b.val(f+"\x3d"+d):a.is("select")?0<a.find("option:selected").filter("[value]").length&&b.val(f+"\x3d"+a.find("option:selected").val()):a.val()&&b.val(f+"\x3d"+a.val()),0===a.attr("name").indexOf("salesLead.questionCodes")?b.val()&&e.append(b):this.commentFieldCheck&&a.length&&this.fire("gmitGfAddValuesToCommentField",a,[this.commentFieldId]))},this)),c(this.cfg.eCommerceCheckbox).filter(":checked").length?this.submitEcommValidation(!0).then(function(){c.ajax({url:b.actionUrl,
data:e.serialize(),processData:!1,method:"POST",statusCode:{404:c.proxy(b.responseFail,b)},success:c.proxy(b.responseSuccess,b),fail:c.proxy(b.responseFail,b)})},function(){return!1}):g?d.each(g,c.proxy(function(a){e.find(this.cfg.dealerIdClass).filter(this.cfg.chosenDealerIdClass).val(a);c.ajax({url:this.actionUrl,data:e.serialize(),processData:!1,method:"POST",statusCode:{404:c.proxy(this.responseFail,this)},success:c.proxy(this.responseSuccess,this),fail:c.proxy(this.responseFail,this)})},this)):
c.ajax({url:this.actionUrl,data:e.serialize(),processData:!1,method:"POST",statusCode:{404:c.proxy(this.responseFail,this)},success:c.proxy(this.responseSuccess,this),fail:c.proxy(this.responseFail,this)})):a.preventDefault();return!1},responseSuccess:function(){this.$thankYou.filter(":hidden").length&&(gmwp.util.gf.callDtmScript(this.successDtmScript),this.thankYouUrl?window.location=this.thankYouUrl:(gmwp.dom.$htmlBody.animate({scrollTop:0},this.cfg.animateSpeed),0<this.dealerSelectorV2Id&&this.fire("gmitGfSubmit",
[this.dealerSelectorV2Id]),0<this.thankYouId&&this.fire("gmitGfSubmit",[this.thankYouId]),this.$form.slideUp(this.cfg.animateSpeed),this.$thankYou.slideDown(this.cfg.animateSpeed,gmwp.util.gf.callDtmScript(this.thankYouDtmScript)),0<this.mapId&&this.fire("gmitGfFocusMapMarker",this.mapId)))},responseFail:function(){return!1}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_search_result:{name:"gmit_gf_search_result",selector:".gmit-gf-search-result",closeList:".gmit-gf-icon-close",hideClass:"gmit-gf-hide",resultListSelector:".gmit-gf-search-result-list",selectItemTmpl:".gmit-gf-result-item-tmpl",selectItemTmplClass:"gmit-gf-result-item-tmpl",selectItem:".gmit-gf-result-item",selectItemClass:"gmit-gf-result-item",disabledClass:"gmit-gf-disabled",dataMaxSelected:"max-selected",itemSelectorCheckBox:".gmit-gf-input-checkbox",
selectedItemsSelector:".gmit-gf-input-checkbox:checked",nonSelected:".gmit-gf-input-checkbox:not(:checked)",errorSelector:".gmit-gf-search-error",criteriaErrorSelector:".gmit-gf-criteria-search-error",searchResultHeadlineSelector:".gmit-gf-search-result-headline",animateSpeed:500}});gmwp.mod.gmit_gf_search_result=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx;this.$selectedItems=c();this.$nonSelectedItems=c([]);this.$items=a.find(":input");this.$resultItems=a.find(this.cfg.resultListSelector);
this.$selectItemTmpl=a.find(this.cfg.selectItemTmpl);this.$itemLabels=this.$selectItemTmpl.children().closest("label");this.maxSelected=a.data(this.cfg.dataMaxSelected);this.disableItems=!1;this.$searchHeadline=a.find(this.cfg.searchResultHeadlineSelector);this.$searchError=a.find(this.cfg.errorSelector);this.$criteriaError=a.find(this.cfg.criteriaErrorSelector);this.$itemSelectorCheckBox=a.find(this.cfg.itemSelectorCheckBox);this.selectItems={selectedItemId:"",toggleValue:!1};this.sandbox.subscribe(this.id,
this)},prepare:function(){var a=this.$ctx;this.$inputCheckbox=a.find(this.cfg.itemSelectorCheckBox);a.on("change.selectItem",this.cfg.selectItem,c.proxy(this.selectItem,this)).on("click.close",this.cfg.closeList,c.proxy(this.closeSearchResult,this))},finish:function(){this.updateSelectedItems();this.itemTempleteSetup();this.$inputCheckbox.off("focus")},onGmitGfAddItem:function(a){var b=this.$selectItemTmpl.clone().removeClass(this.cfg.hideClass).removeClass(this.cfg.selectItemTmplClass).addClass(this.cfg.selectItemClass),
c,f;b.find("input")&&b.find("input").attr("id","selectItem-"+this.$resultItems.children().length);b.find("label").attr("for","selectItem-"+this.$resultItems.children().length);a.searchResultData&&b.attr("data-item",a.searchResultData);a&&d.hasIn(a,"searchResultRows")&&d.each(a.searchResultRows,function(a){c="{"+a.resultType+"}";f=d.replace(b.html(),c,a.resultText);b.html(f)});/{[^{}]*}/mg.test(b.html())&&(f=d.replace(b.html(),/{[^{}]*}/,""),b.html(f));this.$resultItems.append(b)},updateSelectedItems:function(){this.$selectedItems=
this.$ctx.closest(this.cfg.selector).find(this.cfg.selectedItemsSelector);this.$nonSelectedItems=this.$ctx.closest(this.cfg.selector).find(this.cfg.nonSelected)},onDisableItems:function(){(this.disableItems=this.$selectedItems.length===this.maxSelected)?this.$nonSelectedItems.prop("disabled",!0):this.$nonSelectedItems.prop("disabled",!1)},onGmitGfShowSearchResult:function(){1<this.$resultItems.children().length&&this.$searchError.is(":empty")&&(this.$ctx.removeClass(this.cfg.hideClass),this.$ctx.slideDown(this.cfg.animateSpeed),
this.onGmitGfToggleDisplaySearchList(!0))},onGmitGfClearSearchList:function(){this.$resultItems.children().not(":first").remove();this.updateSelectedItems();this.onDisableItems()},onGmitGfHideSearchResult:function(){this.$ctx.addClass(this.cfg.hideClass)},closeSearchResult:function(){this.$ctx.slideUp(this.cfg.animateSpeed);this.onGmitGfClearSearchList();this.fire("gmitGfListClosed",[this.id])},itemTempleteSetup:function(){var a={},b=[],e=[],f=[];d.each(this.$itemLabels.children(),function(a){e=d.split(c(a).attr("class"),
" ");f=d.dropWhile(e,function(a){return!d.startsWith(a,"js-")});b.push(f)});a.lines=b;this.fire("gmitGfItemTempleteSetup",a,[this.id])},onGmitGfDisableList:function(){this.$ctx.find(this.cfg.selectItem).off("click");this.$nonSelectedItems.attr("disabled",!0);this.$selectedItems.attr("disabled",!0)},selectItem:function(a){a=c(a.currentTarget);var b=a.data("item");this.updateSelectedItems();this.selectItems={selectedItemId:a.find("label").attr("id"),toggleValue:0<a.find("input").filter(":checked").length};
b.selected=this.selectItems.toggleValue;this.fire("gmitGfItemSelected",b,[this.id]);this.onDisableItems()},onGmitGfShowSearchError:function(a){this.onGmitGfClearSearchList();this.onGmitGfToggleDisplaySearchList(!1);this.$ctx.removeClass(this.cfg.hideClass);this.$searchError.html(a)},onGmitGfShowCriteriaError:function(a){this.onGmitGfToggleDisplaySearchList(!1);this.$ctx.removeClass(this.cfg.hideClass);this.$criteriaError.html(a)},onGmitGfToggleDisplaySearchList:function(a){a?this.$resultItems.removeClass(this.cfg.hideClass):
this.$resultItems.addClass(this.cfg.hideClass)},onGmitGfSelectFirstItem:function(){this.$resultItems.find(this.cfg.selectItem).find("input").click().prop("checked",!0)},onGmitGfClearSearchResult:function(){this.$searchError.html("");this.$searchHeadline.html("");this.onGmitGfClearSearchList()},onGmitGfClearCriteriaError:function(){this.$criteriaError.html("")},onGmitGfSetSearchHeadline:function(a){a&&d.hasIn(a,"text")&&this.$searchHeadline.html(a.text)},onGmitGfToggleSearchHeadline:function(a){a&&
d.hasIn(a,"display")&&this.$searchHeadline.toggle(a.display)}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_selected_brochures:{name:"gmit_gf_selected_brochures",brochureSelector:".gmit-gf-brochure"}});gmwp.mod.gmit_gf_selected_brochures=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=gmwp.util.getClosestModule(this.$ctx,gmwp.conf.cmp.gmit_gf_request_type.name).find(this.cfg.brochureSelector);this.sandbox.subscribe(this.id,this);d.each(a,c.proxy(this.broadCastBrochures,this))},prepare:function(){gmwp.util.debugModule(this)},broadCastBrochures:function(a){a=
c(a);a=gmwp.util.getModuleId(a);0<a&&this.sandbox.subscribe(a,this)},onBrochureItemSelect:function(a){var b=a?a.toggleValue:!1;a=(a=a?a.selectedBrochureId:"")?this.$ctx.find('[data-brochure-id\x3d"'+a+'"]'):c([]);gmwp.util.debug(a);a.toggle(b)}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_table:{name:"gmit_gf_table",selector:".gmit-gf-table",rowSelector:".gmit-gf-table-row"}});gmwp.mod.gmit_gf_table=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx.find(this.cfg.rowSelector);this.rowModuleIds=gmwp.util.gf.setupModuleIdsFromArray(a);this.sandbox.subscribe(this.id,this)},prepare:function(){gmwp.util.gf.subscribeModuleIds(this.rowModuleIds,this)},onGmitGfHideTable:function(){this.$ctx.hide()},onGmitGfShowTable:function(){this.$ctx.show()},
onGmitGfHideTableRow:function(a){var b="";a&&d.hasIn(a,"rowIndex")&&(b=this.rowModuleIds[a.rowIndex],0<b&&this.fire("gmitGfHideRow",[b]))},onGmitGfShowTableRow:function(a){var b="";a&&d.hasIn(a,"rowIndex")&&(b=this.rowModuleIds[a.rowIndex],0<b&&this.fire("gmitGfShowRow",[b]))},onGmitGfSetTableColumn:function(a){var b={},c="";a&&d.hasIn(a,"newText")&&d.hasIn(a,"columnIndex")&&d.hasIn(a,"rowIndex")&&(b.newValue=a.newText,b.columnIndex=a.columnIndex,c=this.rowModuleIds[a.rowIndex],0<c&&this.fire("gmitGfSetColumn",
b,[c]))}})})(gmwp.$,gmwp._);(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_table_column:{name:"gmit_gf_table_column",selector:".gmit-gf-table-column"}});gmwp.mod.gmit_gf_table_column=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){this.sandbox.subscribe(this.id,this)},onGmitGfSetColumnText:function(a){d.hasIn(a,"newValue")&&this.$ctx.html(a.newValue)}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_table_row:{name:"gmit_gf_table_row",selector:".gmit-gf-table-row",columnSelector:".gmit-gf-table-column"}});gmwp.mod.gmit_gf_table_row=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx.find(this.cfg.columnSelector);this.columnIds=gmwp.util.gf.setupModuleIdsFromArray(a);this.sandbox.subscribe(this.id,this)},prepare:function(){gmwp.util.gf.subscribeModuleIds(this.columnIds,this)},onGmitGfSetColumn:function(a){var b={},c="";
a&&d.hasIn(a,"newValue")&&d.hasIn(a,"columnIndex")&&(b.newValue=a.newValue,c=this.columnIds[a.columnIndex],0<c&&this.fire("gmitGfSetColumnText",b,[c]))},onGmitGfHideRow:function(){this.$ctx.hide()},onGmitGfShowRow:function(){this.$ctx.show()}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_text_field:{name:"gmit_gf_text_field",autocomplete:".js-gmit-gf-autocomplete",caller:"x-caller",dataCallers:"callers",dataFormatPriceFlag:"format-price-flag",dataTestDealerValue:"test-dealer-value",populateField:"populate-field",selector:".gmit-gf-input-text"}});gmwp.mod.gmit_gf_text_field=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx;this.$autoCompleteTextField=this.$ctx.find(this.cfg.autocomplete);this.autocompleteUrl=
"";this.locationCookieObject=gmwp.conf.gf.cookieObject;this.$inputElement=a.find(this.cfg.selector);this.testDealerValue=a.data(this.cfg.dataTestDealerValue);a.on("blur.rules",this.cfg.selector,c.proxy(this.processTextField,this));a.on("keypress.autocomplete",this.cfg.autocomplete,c.proxy(this.autoCompleteTextField,this))},prepare:function(){var a=this.$inputElement.attr("id"),a=a?a.replace("gmit-gf","x"):"",a=gmwp.util.gf.loadQueryString(a),b=c();this.formatPriceFlag=this.$ctx.data(this.cfg.dataFormatPriceFlag);
a&&this.$inputElement.val(gmwp.util.gf.sanitizeData(a));gmwp.util.gf.resetPlaceHolder(this.$inputElement);if(this.testDealerValue&&(b=gmwp.util.getClosestModule(this.$ctx,gmwp.conf.cmp.gmit_gf_request_type.name),this.requestTypeId=gmwp.util.getModuleId(b),this.requestTypeCheck=0<this.requestTypeId))this.$ctx.on("blur.testDealer",this.cfg.selector,c.proxy(this.checkTestDealer,this));this.requestTypeCheck&&this.sandbox.subscribe(this.requestTypeId,this);this.sandbox.subscribe(this.id,this)},finish:function(){var a=
this.$inputElement.data(this.cfg.dataCallers),b=d.get(gmwp.conf.gf.queryObject,this.cfg.caller,""),a=d.filter(a,{key:b},[]),b=this.$inputElement.data(this.cfg.populateField);this.$inputElement.off("focus");b&&this.loadFieldFromCookie(this.$inputElement.data(this.cfg.populateField));a.length&&this.$inputElement.val(a[0].value)},checkTestDealer:function(a){a=c(a.currentTarget);var b={};d.set(b,"moduleId",this.id);a.val()===this.testDealerValue?d.set(b,"toggleFlag",!0):d.set(b,"toggleFlag",!1);this.fire("gmitGfToggleTestDealer",
b,[this.requestTypeId])},processTextField:function(a){a=c(a.currentTarget);var b={value:"",replaceMatch:""};gmwp.util.gf.applyBusinessRules(this.$ctx);b.value=gmwp.util.gf.sanitizeData(a.val());b.replaceMatch=a.attr("id")?a.attr("id"):"";this.fire("gmitGfUpdateValue",b,[this.id])},onGmitGfSetupAutoCompleteUrl:function(a){d.isEmpty(a)?this.autocompleteUrl="":this.autocompleteUrl=a},autoCompleteTextField:function(a){a=c(a.currentTarget);this.autocompleteUrl&&c.ajax({url:this.autocompleteUrl,type:"GET",
dataType:"json",data:{term:a.val()},success:c.proxy(function(a){this.$autoCompleteTextField.autocomplete({minLength:3,source:a})},this)})},onGmitGfUpdateValue:function(a){var b=this.$ctx.find(this.cfg.selector),c=[];a?(d.hasIn(a,"text")&&a.text?(this.formatPriceFlag&&(a.text=gmwp.util.gf.formatPrice(a.text)),b.val(a.text),Foundation.libs.abide.validate(b,{type:""})):b.val(""),d.hasIn(a,"placeholder")&&a.placeholder?b.attr("placeholder",a.placeholder):b.attr("placeholder",""),d.hasIn(a,"maxLength")&&
a.maxLength?b.attr("maxlength",a.maxLength):b.removeAttr("maxlength"),d.hasIn(a,"validations")&&a.validations&&(c=b.data("validations")||[],d.each(a.validations,function(a){0===d.filter(c,a).length&&c.push(a)}),b.data("validations",c)),d.hasIn(a,"removeValidations")&&a.removeValidations&&(c=b.data("validations")||[],b.data("validations",[]),Foundation.libs.abide.validate(b,{type:""}),d.each(a.removeValidations,function(a){d.remove(c,{operator:a.operator})}),b.data("validations",c))):b.val("")},loadFieldFromCookie:function(a){var b=
{maxLength:this.$inputElement.attr("maxlength"),placeholder:this.$inputElement.attr("placeholder")};switch(a){case "state":if(d.hasIn(this.locationCookieObject,"location.state")&&this.locationCookieObject.location.state)this.onGmitGfUpdateValue(d.set(b,"text",this.locationCookieObject.location.state));break;case "city":if(d.hasIn(this.locationCookieObject,"location.city")&&this.locationCookieObject.location.city)this.onGmitGfUpdateValue(d.set(b,"text",this.locationCookieObject.location.city));break;
case "zipCode":if(d.hasIn(this.locationCookieObject,"location.zipcode")&&this.locationCookieObject.location.zipcode)this.onGmitGfUpdateValue(d.set(b,"text",this.locationCookieObject.location.zipcode))}},sendFieldValue:function(a){a=c(a.currentTarget);var b={};Foundation.libs.abide.validate(a,{type:""});b.id=this.$inputElement.attr("id");b.value=this.$inputElement.val();b.sandboxId=this.id;0===a.filter("[data-invalid]").length&&this.fire("gmitGfTextFieldUpdated",b,[this.id])},onGmitGfSetupTextFieldBlurEvent:function(){this.$ctx.on("blur.update",
this.cfg.selector,c.proxy(this.sendFieldValue,this))}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_text_group:{name:"gmit_gf_text_group",headlineSelector:".gmit-gf-headline",hideClass:"gmit-gf-hide",hideSelector:".gmit-gf-hide",selector:".gmit-gf-text-group"}});gmwp.mod.gmit_gf_text_group=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx.find(this.cfg.headlineSelector);this.headlineModuleIds=gmwp.util.gf.setupModuleIdsFromArray(a);this.sandbox.subscribe(this.id,this)},prepare:function(){gmwp.util.gf.subscribeModuleIds(this.headlineModuleIds,
this)},onGmitGfSetTextGroup:function(a){var b={};a&&d.hasIn(a,"newText")&&(b.newText=a.newText,d.each(this.headlineModuleIds,c.proxy(function(a){0<a&&this.fire("gmitGfSetHeadline",b,[a])},this)))},onGmitGfHideTextGroup:function(){this.$ctx.hide()},onGmitGfShowTextGroup:function(){this.$ctx.show()},onGmitGfSetText:function(a){var b={},c="";a&&d.hasIn(a,"newText")&&d.hasIn(a,"index")&&(b.newText=a.newText,c=this.headlineModuleIds[a.index],0<c&&this.fire("gmitGfSetHeadline",b,[c]))},onGmitGfHideText:function(a){a&&
d.hasIn(a,"moduleId")&&0<a.moduleId&&this.fire("gmitGfHideHeadline",[a.moduleId])},onGmitGfShowText:function(a){a&&d.hasIn(a,"moduleId")&&0<a.moduleId&&this.fire("gmitGfShowHeadline",[a.moduleId])},onGmitGfRemoveHideClasses:function(){this.$ctx.find(this.cfg.hideSelector).removeClass(this.cfg.hideClass)},onGmitGfResetHeadline:function(a){var b="";a&&d.hasIn(a,"index")&&(b=this.headlineModuleIds[a.index],0<b&&this.fire("gmitGfResetHeadline",[b]))},onGmitGfResetTextGroup:function(a){var b="",b=[],e=
{};a&&d.hasIn(a,"index")&&d.hasIn(a,"newText")&&(b=a.index,b=d.drop(this.headlineModuleIds,b+1),e.newText=a.newText,d.each(b,c.proxy(function(a){0<a&&this.fire("gmitGfSetHeadline",e,[a])},this)))}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_thank_you:{name:"gmit_gf_thank_you",followOn:".gmit-gf-follow-on",linkAttribute:"link-type",linkType:"refresh",mapSelector:".gmit-gf-map",textFieldSelector:".gmit-gf-text-field",thankYouParagraphSelector:".gmit-gf-thank-you-paragraph",vehicleSelectorContainer:".gmit-gf-vehicle-selector",vehicleSelectorV2Container:".gmit-gf-vehicle-selector-v2",vsChangeButtonSelector:".js-gmit-gf-vs-change"}});gmwp.mod.gmit_gf_thank_you=gmwp.mod.AtomicMod.extend({events:{},
initElements:function(){var a=this.$ctx,b=gmwp.util.getClosestModule(this.$ctx,gmwp.conf.cmp.gmit_gf_request_type.name),c=b.find(this.cfg.vehicleSelectorContainer),d=b.find(this.cfg.vehicleSelectorV2Container),g=a.find(this.cfg.followOn),h=a.find(this.cfg.mapSelector),k=a.find("[data-"+this.cfg.linkAttribute+'\x3d"'+this.cfg.linkType+'"]');this.$textField=b.find(this.cfg.textFieldSelector);this.requestTypeId=gmwp.util.getModuleId(b);this.vehicleSelectorId=gmwp.util.getModuleId(c);this.vehicleSelectorV2Id=
gmwp.util.getModuleId(d);this.followOnId=gmwp.util.getModuleId(g);this.linkId=gmwp.util.getModuleId(k);this.mapId=gmwp.util.getModuleId(h);this.$thankYouParagraph=a.find(this.cfg.thankYouParagraphSelector);this.newHtml=this.$thankYouParagraph.html();this.lastName=this.firstName="";this.sandbox.subscribe(this.id,this)},prepare:function(){0<this.requestTypeId&&this.sandbox.subscribe(this.requestTypeId,this);0<this.vehicleSelectorId&&this.sandbox.subscribe(this.vehicleSelectorId,this);0<this.vehicleSelectorV2Id&&
this.sandbox.subscribe(this.vehicleSelectorV2Id,this);0<this.followOnId&&this.sandbox.subscribe(this.followOnId,this);0<this.linkId&&this.sandbox.subscribe(this.linkId,this);0<this.mapId&&this.sandbox.subscribe(this.mapId,this);d.each(this.$textField,c.proxy(this.subscribeTextField,this))},finish:function(){0<this.linkId&&this.fire("gmitGfSetupClickEvent",[this.linkId])},onBroadcastWindowResize:function(){},onBroadcastWindowScroll:function(){},onGmitGfAddMapMarkers:function(a){a&&d.hasIn(a,"markers")&&
0<this.mapId&&this.fire("gmitGfToggleMarker",a,[this.mapId])},onGmitGfLinkClick:function(){this.$ctx.hide();this.fire("gmitGfLinkClick",[this.requestTypeId])},onGmitGfUpdateValue:function(a){if(a)switch(a.replaceMatch){case "gmit-gf-first-name":this.firstName=a.value;break;case "gmit-gf-last-name":this.lastName=a.value}},onGmitGfSubmit:function(){0<this.$thankYouParagraph.length&&this.$thankYouParagraph.html(this.$thankYouParagraph.html().replace("{gmit-gf-last-name}",this.lastName)).html(this.$thankYouParagraph.html().replace("{gmit-gf-first-name}",
this.firstName))},onGmitResetThankYouParagraph:function(){this.$thankYouParagraph.html(this.newHtml)},subscribeTextField:function(a){a=gmwp.util.getModuleId(c(a));0<a&&this.sandbox.subscribe(a,this)}})})(gmwp.$,gmwp._);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_vehicle_selector:{name:"gmit_gf_vehicle_selector",agencyRoleCodeSelector:"#gmit-gf-agency-role-code",bodystyleHeadline:".gmit-gf-bodystyle-headline",bodystyleSelector:"#gmit-gf-bodystyle",carlineDetailWrapper:".gmit-gf-carline-detail-wrapper",carlineFilter:"x-filters",carlineHeadline:".gmit-gf-carline-headline",carlineImage:".gmit-gf-carline-image",carlineObj:".gmit-gf-carline-obj",carlinePricing1:".gmit-gf-carline-pricing1",carlinePricing2:".gmit-gf-carline-pricing2",
carlinePricing3:".gmit-gf-carline-pricing3",carlinePricing:".gmit-gf-carline-pricing",carlinePricingLabel1:".gmit-gf-carline-pricing-label1",carlinePricingLabel2:".gmit-gf-carline-pricing-label2",carlinePricingLabel3:".gmit-gf-carline-pricing-label3",carlineSelector:"#gmit-gf-carline",carlineWrapperSelector:".gmit-gf-carline-wrapper",co2Chart:".gmit-gf-co2-chart",co2Description:".gmit-gf-co2-description",co2Disclaimer:".gmit-gf-co2-disclaimer",co2Headline:".gmit-gf-co2-headline",co2Image:".gmit-gf-co2-image",
co2Stats1:".gmit-gf-co2-stats1",co2Stats2:".gmit-gf-co2-stats2",co2Stats3:".gmit-gf-co2-stats3",co2Stats:".gmit-gf-co2-stats",co2StatsLabel1:".gmit-gf-co2-stats-label1",co2StatsLabel2:".gmit-gf-co2-stats-label2",co2StatsLabel3:".gmit-gf-co2-stats-label3",co2Wrapper:".gmit-gf-co2-wrapper",commentFieldSelector:"#gmit-gf-comment",configIDSelector:"#gmit-gf-config-id",configurationString:"#gmit-gf-configuration-string",configurationURL:"#gmit-gf-configuration-url",dataCarlineImage:"carline-image",dropdownSelector:".gmit-gf-dropdown",
engineDescription:".gmit-gf-engine-description",engineSelector:"#gmit-gf-engine",modelYearSelector:"#gmit-gf-configured-vehicle-model-year",noCo2Wrapper:".gmit-gf-no-co2-wrapper",segmentSelector:"#gmit-gf-segment",transmission:"#gmit-gf-transmission",trimHeadline:".gmit-gf-trim-headline",trimSelector:"#gmit-gf-trim"}});gmwp.mod.gmit_gf_vehicle_selector=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx,b=c.extend({carlineEndpoint:"",bodystyleEndpoint:"",pricingBodystyleEndpoint:"",
imageEndpoint:"",imageTrimEndpoint:"",pricingEndpoint:"",trimEndpoint:"",pricingTrimEndpoint:"",engineEndpoint:"",pricingEngineEndpoint:"",pricingDetailEndpoint:""},a.data("endpoints"));this.dataLanguage=a.data("language");this.dataCountry=a.data("country");this.dataBrand=a.data("brand");this.dataChannel=a.data("channel");this.carlineApi=b.carlineEndpoint;this.bodyStyleApi=b.bodystyleEndpoint;this.pricingbodyStyleApi=b.pricingBodystyleEndpoint;this.imageApi=b.imageEndpoint;this.imageTrimApi=b.imageTrimEndpoint;
this.pricingApi=b.pricingEndpoint;this.trimApi=b.trimEndpoint;this.pricingTrimApi=b.pricingTrimEndpoint;this.engineApi=b.engineEndpoint;this.pricingEngineApi=b.pricingEngineEndpoint;this.pricingDetailApi=b.pricingDetailEndpoint;this.$segment=a.find(this.cfg.segmentSelector);this.$carlineId=a.find(this.cfg.carlineSelector);this.$configurationString=a.find(this.cfg.configurationString);this.$configurationURL=a.find(this.cfg.configurationURL);this.carlineOptionTxt=this.$carlineId.data("placeholder");
this.$bodystyleId=a.find(this.cfg.bodystyleSelector);this.bodyStyleOptionTxt=this.$bodystyleId.data("placeholder");this.$trimId=a.find(this.cfg.trimSelector);this.trimOptionTxt=this.$trimId.data("placeholder");this.$engineId=a.find(this.cfg.engineSelector);this.engineOptionTxt=this.$engineId.data("placeholder");this.$carlineDetails=a.find(this.cfg.carlineDetailWrapper);this.$carlineObj=a.find(this.cfg.carlineObj);this.$co2Wrapper=a.find(this.cfg.co2Wrapper);this.$carlineHeadline=a.find(this.cfg.carlineHeadline);
this.$bodystyleHeadline=a.find(this.cfg.bodystyleHeadline);this.$trimHeadline=a.find(this.cfg.trimHeadline);this.$engineDescription=a.find(this.cfg.engineDescription);this.$carlineImage=a.find(this.cfg.carlineImage);this.carlineImageData=this.$carlineImage.data(this.cfg.dataCarlineImage);this.$carlinePricing=a.find(this.cfg.carlinePricing);this.$carlinePricingLabel1=a.find(this.cfg.carlinePricingLabel1);this.$carlinePricingLabel2=a.find(this.cfg.carlinePricingLabel2);this.$carlinePricingLabel3=a.find(this.cfg.carlinePricingLabel3);
this.$carlinePricing1=a.find(this.cfg.carlinePricing1);this.$carlinePricing2=a.find(this.cfg.carlinePricing2);this.$carlinePricing3=a.find(this.cfg.carlinePricing3);this.$co2Headline=a.find(this.cfg.co2Headline);this.$co2Description=a.find(this.cfg.co2Description);this.$co2Chart=a.find(this.cfg.co2Chart);this.$co2Image=a.find(this.cfg.co2Image);this.$co2Disclaimer=a.find(this.cfg.co2Disclaimer);this.$co2Stats=a.find(this.cfg.co2Stats);this.$co2StatsLabel1=a.find(this.cfg.co2StatsLabel1);this.$co2StatsLabel2=
a.find(this.cfg.co2StatsLabel2);this.$co2StatsLabel3=a.find(this.cfg.co2StatsLabel3);this.$co2Stats1=a.find(this.cfg.co2Stats1);this.$co2Stats2=a.find(this.cfg.co2Stats2);this.$co2Stats3=a.find(this.cfg.co2Stats3);this.$dropdownSelector=a.find(this.cfg.dropdownSelector);this.$modelYear=a.find(this.cfg.modelYearSelector);this.$transmission=a.find(this.cfg.transmission);this.$configID=a.find(this.cfg.configIDSelector);this.$agencyRoleCode=a.find(this.cfg.agencyRoleCodeSelector);this.$commentID=a.find(this.cfg.commentFieldSelector);
this.xNgvcFlag=this.checkForNGVC();this.thankYouVehicle={$co2Wrapper:this.$co2Wrapper,$carlineDetail:a.find(this.cfg.carlineDetailWrapper),$image:a.find(this.cfg.carlineObj)}},prepare:function(){var a=this.$ctx,b=gmwp.conf.gf.queryObject;this.xCarlineFilters=b&&d.hasIn(b,this.cfg.carlineFilter)?b[this.cfg.carlineFilter]:"";this.xNgvcFlag?(this.$dropdownSelector.hide(),this.loadNGVCInfo()):(this.$modelYear.val(""),this.$configurationURL.val(""),this.$transmission.val(""),this.loadCarlineList(),a.on("change",
this.cfg.carlineSelector,c.proxy(this.changeCarline,this)).on("change",this.cfg.bodystyleSelector,c.proxy(this.changeBodystyle,this)).on("change",this.cfg.trimSelector,c.proxy(this.changeTrim,this)).on("change",this.cfg.engineSelector,c.proxy(this.changeEngine,this)));this.sandbox.subscribe(this.id,this)},loadNGVCInfo:function(){c.ajax({type:"GET",dataType:"json",url:this.xNgvcConfig}).done(c.proxy(function(a){this.addNGVCOptionsToDropdowns(a);this.updateCarlineDetails(a);this.updateCo2Data(a);this.updatePriceData(a);
this.updateVehicleImage(a);this.$carlineDetails.show();this.$co2Stats.show();this.$co2Chart.show();this.$co2Image.show();this.fire("gmitGfUpdateVehicle",this.thankYouVehicle,[this.id])},this))},addNGVCOptionsToDropdowns:function(a){if(a){a.carline&&a.carlineLabel&&this.$carlineId.append('\x3coption value\x3d"'+a.carline+'"\x3e'+a.carlineLabel+"\x3c/option\x3e").val(a.carline);a.bodystyle&&a.bodystyleLabel&&this.$bodystyleId.append('\x3coption value\x3d"'+a.bodystyle+'"\x3e'+a.bodystyleLabel+"\x3c/option\x3e").val(a.bodystyle);
a.trim&&a.series&&this.$trimId.append('\x3coption value\x3d"'+a.trim+'"\x3e'+a.series+"\x3c/option\x3e").val(a.trim);if(a.trim&&a.engine&&a.engineLabel&&a.transmission){var b=a.trim.split("  ")[0]+"  "+a.engine;this.$engineId.append('\x3coption value\x3d"'+b+'"\x3e'+a.engineLabel+", "+a.transmission+"\x3c/option\x3e").val(b);this.$configurationString.val(b)}a.modelyear&&this.$modelYear.val(a.modelyear);a.configurationURL&&this.$configurationURL.val(a.configurationURL);a.transmission&&this.$transmission.val(a.transmission);
a.configID&&this.$configID.val(a.configID)}},toggleCo2Details:function(a){this.$co2Stats1.toggle(a);this.$co2StatsLabel1.toggle(a);this.$co2Headline.toggle(a);this.$co2Chart.toggle(a);this.$co2Image.toggle(a);this.$co2Disclaimer.toggle(a);this.$co2Description.toggle(a)},finish:function(){},sortSelect:function(a,b){return a.feature.label.localeCompare(b.feature.label)},changeCarline:function(a){var b=c(a.currentTarget).find(":selected"),e="",f="",g="",e=b.val(),f=b.data("co-two-image"),h="",g=b.data("segment"),
k={lcv_carline:"truck",car_carline:"passenger"};a.preventDefault();g&&this.$segment.val(k[g]);this.fire("gmitGfCarlineSelected",[this.id]);f&&this.$co2Image.attr("src",f);this.$co2Stats.show();0<b.filter("[value]").length&&e&&0<e.length?(e=b.text(),f=encodeURI(b.data("carline-id")),g={applyDefaults:"true",featureSelection:f,configRepresentation:"bodySelection",outputType:"json"},this.setModelYearHiddenField(f),this.$carlineHeadline.html(e),this.$bodystyleHeadline.html(""),this.$trimHeadline.html(""),
this.$engineDescription.html(""),this.toggleCo2Details(!1),this.$carlineDetails.show(),c.ajax({type:"GET",dataType:"json",data:g,url:this.bodyStyleApi}).done(c.proxy(function(a){a=a.featureSelectionSet.featureSelection;var b={outputType:"json"};a.sort(c.proxy(this.sortSelect,this));this.$bodystyleId.find("option").remove().end().append('\x3coption value\x3d""\x3e'+this.bodyStyleOptionTxt+"\x3c/option\x3e").val("");this.$trimId.find("option").remove().end().append('\x3coption value\x3d""\x3e'+this.trimOptionTxt+
"\x3c/option\x3e").val("");this.$engineId.find("option").remove().end().append('\x3coption value\x3d""\x3e'+this.engineOptionTxt+"\x3c/option\x3e").val("");this.$bodystyleHeadline.html("");d.each(a,c.proxy(function(a){var b=JSON.stringify(a.feature.code),c=JSON.stringify(a.feature.featureId),d=a&&a.feature&&a.feature.emissionLabelClassImageURLs&&a.feature.emissionLabelClassImageURLs.imageSize1?JSON.stringify(a.feature.emissionLabelClassImageURLs.imageSize1):"",d="\x3coption data-bodystyle-id\x3d"+
c+" value\x3d"+b+" data-co-two-image\x3d"+d+"\x3e"+a.feature.label+"\x3c/option\x3e";void 0!==b&&void 0!==c&&this.$bodystyleId.append(d);this.updateCo2Data(a)},this));this.xBodyStyle?(this.$bodystyleId.val(this.xBodyStyle),this.$bodystyleId.change(),this.xBodyStyle=null):2===this.$bodystyleId.find("option").length&&(h=this.$bodystyleId.find("option")[1])&&(this.$bodystyleId.val(h.value),this.$bodystyleId.change());c.ajax({type:"POST",dataType:"json",data:b,url:this.imageApi}).done(c.proxy(this.getImage,
this));c.ajax({type:"POST",dataType:"json",data:b,url:this.pricingApi}).done(c.proxy(this.getPrice,this,"carlinePrice"));this.$configurationString.val("")},this))):(this.$bodystyleId.find("option").remove().end().append('\x3coption value\x3d""\x3e'+this.bodyStyleOptionTxt+"\x3c/option\x3e").val(""),this.$trimId.find("option").remove().end().append('\x3coption value\x3d""\x3e'+this.trimOptionTxt+"\x3c/option\x3e").val(""),this.$engineId.find("option").remove().end().append('\x3coption value\x3d""\x3e'+
this.engineOptionTxt+"\x3c/option\x3e").val(""),this.$carlineImage.attr("src",this.carlineImageData),this.$carlineHeadline.html(""),this.$bodystyleHeadline.html(""),this.$trimHeadline.html(""),this.$engineDescription.html(""),this.$co2Wrapper.hide(),this.$carlineDetails.hide())},changeBodystyle:function(a){a.preventDefault();a=c(a.currentTarget).find(":selected");var b="",e="",e="",b=a.data("co-two-image"),e=a.val(),f="";b&&this.$co2Image.attr("src",b);0<a.filter("[value]").length&&e&&0<e.length?
(b=a.text(),e=a.data("bodystyle-id"),e={applyDefaults:"true",featureSelection:e,configRepresentation:"seriesSelection",outputType:"json"},this.$bodystyleHeadline.html(b),this.$trimHeadline.html(""),this.$engineDescription.html(""),this.toggleCo2Details(!1),c.ajax({type:"GET",dataType:"json",data:e,url:this.trimApi}).done(c.proxy(function(a){a=a.featureSelectionSet.featureSelection;var b={outputType:"json"};a.sort(c.proxy(this.sortSelect,this));this.$trimId.find("option").remove().end().append('\x3coption value\x3d""\x3e'+
this.trimOptionTxt+"\x3c/option\x3e").val("");this.$engineId.find("option").remove().end().append('\x3coption value\x3d""\x3e'+this.engineOptionTxt+"\x3c/option\x3e").val("");d.each(a,c.proxy(function(a){var b=JSON.stringify(a.feature.code),c=JSON.stringify(a.feature.featureId),d=a&&a.feature&&a.feature.emissionLabelClassImageURLs&&a.feature.emissionLabelClassImageURLs.imageSize1?JSON.stringify(a.feature.emissionLabelClassImageURLs.imageSize1):"",d="\x3coption data-trim-id\x3d"+c+" value\x3d"+b+" data-co-two-image\x3d"+
d+"\x3e"+a.feature.label+"\x3c/option\x3e";void 0!==b&&void 0!==c&&this.$trimId.append(d);this.updateCo2Data(a)},this));this.xTrim?(this.$trimId.val(this.xTrim),this.$trimId.change(),this.xTrim=null):2===this.$trimId.find("option").length&&(f=this.$trimId.find("option")[1])&&(this.$trimId.val(f.value),this.$trimId.change());c.ajax({type:"POST",dataType:"json",data:b,url:this.imageApi}).done(c.proxy(this.getImage,this));c.ajax({type:"POST",dataType:"json",data:b,url:this.pricingbodyStyleApi}).done(c.proxy(this.getPrice,
this,"bodyStylePrice"));this.$configurationString.val("")},this))):(this.$trimId.find("option").remove().end().append('\x3coption value\x3d""\x3e'+this.trimOptionTxt+"\x3c/option\x3e").val(""),this.$engineId.find("option").remove().end().append('\x3coption value\x3d""\x3e'+this.engineOptionTxt+"\x3c/option\x3e").val(""),this.$bodystyleHeadline.html(""),this.$trimHeadline.html(""),this.$engineDescription.html(""),this.$co2Image.hide())},changeTrim:function(a){a.preventDefault();a=c(a.currentTarget).find(":selected");
var b="",e="",e="",f=a.data("co-two-image"),b=a.val(),g="";0<a.filter("[value]").length&&b&&0<b.length?(b=a.text(),e=a.data("trim-id"),e={applyDefaults:"true",featureSelection:e,configRepresentation:"packageSelection",outputType:"json"},this.$trimHeadline.html(b),this.$engineDescription.html(""),f&&this.$co2Image.attr("src",f),this.toggleCo2Details(!1),c.ajax({type:"GET",dataType:"json",data:e,url:this.engineApi}).done(c.proxy(function(a){a=a.featureSelectionSet.featureSelection;var b={outputType:"json"};
a.sort(c.proxy(this.sortSelect,this));this.$engineId.find("option").remove().end().append('\x3coption value\x3d""\x3e'+this.engineOptionTxt+"\x3c/option\x3e").val("");d.each(a,c.proxy(function(a){var b=JSON.stringify(a.feature.code),c=JSON.stringify(a.feature.featureId),d=a&&a.feature&&a.feature.emissionLabelClassImageURLs&&JSON.stringify(a.feature.emissionLabelClassImageURLs.imageSize1)?a.feature.emissionLabelClassImageURLs.imageSize1:"",d="\x3coption data-engine-id\x3d"+c+" value\x3d"+b+" data-co-two-image\x3d"+
d+"\x3e"+a.feature.label+"\x3c/option\x3e";void 0!==b&&void 0!==c&&this.$engineId.append(d);this.updateCo2Data(a)},this));this.xEngine?(this.$engineId.val(this.xEngine),this.$engineId.change(),this.xEngine=null):2===this.$engineId.find("option").length&&(g=this.$engineId.find("option")[1])&&(this.$engineId.val(g.value),this.$engineId.change());c.ajax({type:"POST",dataType:"json",data:b,url:this.imageTrimApi}).done(c.proxy(this.getImage,this));c.ajax({type:"POST",dataType:"json",data:b,url:this.pricingTrimApi}).done(c.proxy(this.getPrice,
this,"trimPrice"));this.$configurationString.val("")},this))):(this.$engineId.find("option").remove().end().append('\x3coption value\x3d""\x3e'+this.engineOptionTxt+"\x3c/option\x3e").val(""),this.$trimHeadline.html(""),this.$engineDescription.html(""),this.$co2Image.hide())},changeEngine:function(a){var b=c(a.currentTarget).find(":selected"),d="",f="",f="",d=b.data("co-two-image"),g=b.val();a.preventDefault();d&&this.$co2Image.attr("src",d);this.toggleCo2Details(!0);0<b.filter("[value]").length&&
g&&0<g.length?(d=b.text(),f=b.data("engine-id"),f={applyDefaults:"true",featureSelection:f,configRepresentation:"packageSelection",outputType:"json"},this.$engineDescription.html(d),c.ajax({type:"GET",dataType:"json",data:f,url:this.engineApi}).done(c.proxy(function(a){var b={outputType:"json"};a.featureSelectionSet.featureSelection.sort(c.proxy(this.sortSelect,this));c.ajax({type:"POST",dataType:"json",data:b,url:this.pricingDetailApi}).done(c.proxy(this.updateEngineCo2Data,this));c.ajax({type:"POST",
dataType:"html",url:this.pricingDetailApi}).done(c.proxy(this.updateClassLabel,this));c.ajax({type:"POST",dataType:"json",data:b,url:this.pricingEngineApi}).done(c.proxy(this.getPrice,this,"enginePrice"));this.$configurationString.val(g)},this)),this.$co2Wrapper.show()):(this.$engineDescription.html(""),this.$co2Image.hide())},getImage:function(a){var b=a.configurationResult.exteriorImageViewSet.label||"",e="";d.each(a.configurationResult.exteriorImageViewSet.namedView,c.proxy(function(a){var b="",
b="";"gmds_apps"===a.name?(b=a.$,this.$carlineImage.attr("src",b)):"large"===a.name&&(b=a.$,this.$carlineImage.attr("src",b))},this));e&&""!==e||(e="");e&&""!==e&&this.$carlineImage&&(this.$carlineImage.attr("src")!==e&&this.$carlineImage.css("opacity",0).attr("src",e),this.$carlineImage.attr("alt",b))},getPrice:function(a,b){var e=b.priceDetailBean,f=e.optionTotalPrice,g=e.configurationTotalPrice,h="",k="",l="";"carlinePrice"===a?(k=e.carlineSelection,h=k.feature.code,l=this.$carlineId.find(":selected").val()):
"bodyStylePrice"===a?(k=e.bodystyleSelection,h=k.feature.code,l=this.$bodystyleId.find(":selected").val()):"trimPrice"===a?(k=e.seriesSelection,h=k.feature.code,l=this.$trimId.find(":selected").val()):"enginePrice"===a&&(k=e.packageSelection,h=k.feature.code);if(h===l||"enginePrice"===a&&h)f&&(this.$carlinePricingLabel1.html(f.label),this.$carlinePricing1.html(f.$)),d.each(g,c.proxy(this.getTotalPrice,this));this.fire("gmitGfUpdateVehicle",this.thankYouVehicle,[this.id])},getTotalPrice:function(a){var b=
"",c="",c=b="";"total"===a.name?(b=a.$,c=a.label,this.$carlinePricingLabel2.html(c),this.$carlinePricing2.html(b)):"subtotal"===a.name&&(b=a.$,c=a.label,this.$carlinePricingLabel3.html(c),this.$carlinePricing3.html(b))},loadCarlineList:function(){var a={applyDefaults:"false",startView:"carlineSelection",outputType:"json",language:this.dataLanguage,country:this.dataCountry,brand:this.dataBrand,channel:this.dataChannel};this.$carlineImage.attr("src",this.carlineImageData);this.$carlineId.find(":selected").text(this.carlineOptionTxt);
this.$bodystyleId.find(":selected").text(this.bodyStyleOptionTxt);this.$trimId.find(":selected").text(this.trimOptionTxt);this.$engineId.find(":selected").text(this.engineOptionTxt);c.ajax({type:"GET",dataType:"json",data:a,url:this.carlineApi}).done(c.proxy(function(a){var e="",f="",f="";a.featureSelectionSetList?(f=a.featureSelectionSetList,f.featureSelection?e=f.featureSelection:f.featureSelectionSet[0]?(e=[],d.each(f.featureSelectionSet,function(a){c.merge(e,a.featureSelection)})):e=f.featureSelectionSet.featureSelection):
a.featureSelectionSet&&(e=a.featureSelectionSet.featureSelection);e=gmwp.util.gf.filter(this.xCarlineFilters,"feature.code",e);e.sort(c.proxy(this.sortSelect,this));d.each(e,c.proxy(function(a){var b="",d="",e="",f="",m=[],b=a.feature.code,d=a.feature.featureId,e=a&&a.feature&&a.feature.emissionLabelClassImageURLs&&a.feature.emissionLabelClassImageURLs.imageSize1?a.feature.emissionLabelClassImageURLs.imageSize1:"",f=a&&a.feature?a.feature.featureGroup:"",m=c("\x3coption\x3e\x3c/option\x3e");m.attr("value",
b);m.attr("data-carline-id",d);m.attr("data-co-two-image",e);m.attr("data-segment",f);m.text(a.feature.label);b&&void 0!==d&&this.$carlineId.append(m)},this));this.xCarline?(this.$carlineId.val(this.xCarline),this.$carlineId.change()):2===this.$carlineId.find("option").length&&(f=this.$carlineId.find("option")[1])&&(this.$carlineId.val(f.value),this.$carlineId.change())},this))},checkForNGVC:function(){var a=document.location.search.replace("?",""),b="",e="",f=!1,g="";a&&(b=a.split("\x26"),d.each(b,
c.proxy(function(a){e=a.split("\x3d");if(g=e[0])"x-ngBackLinkURL"===g?(this.xNgvcConfig=(this.xNgvcConfig=decodeURIComponent(e[1]))?this.xNgvcConfig.replace("http:","").replace("https:","").replace(":80","").replace(":443",""):"",f=!0):"agencyrolecode"===g&&this.$agencyRoleCode.val(e[1])},this)));return this.xNgvcConfig?f:(this.xCarline=gmwp.util.gf.loadQueryString("x-carline"),this.xBodyStyle=gmwp.util.gf.loadQueryString("x-bodystyle"),this.xTrim=gmwp.util.gf.loadQueryString("x-trim"),this.xEngine=
gmwp.util.gf.loadQueryString("x-engine"),!1)},updateClassLabel:function(a){a=c(a);a=(3===a.length?c(a[2]):c()).find(".energy_label-chart p");a.find("span").remove();this.$co2StatsLabel1.html(a.html())},updateEngineCo2Data:function(a){a&&a.priceDetailBean&&(a.priceDetailBean.energyLabel&&(a.priceDetailBean.energyLabel.labelClass&&this.$co2Stats1.html(a.priceDetailBean.energyLabel.labelClass),a.priceDetailBean.energyLabel.imageURLs&&this.$co2Image.attr("src",a.priceDetailBean.energyLabel.imageURLs.imageSize1)),
d.each(a.priceDetailBean.energyLabelEngineAttribute,c.proxy(function(a){"fuelcomb"===a.key&&(this.$co2StatsLabel2.html(a.label),this.$co2Stats2.html(a.$));"emlimit"===a.key&&(this.$co2StatsLabel3.html(a.label),this.$co2Stats3.html(a.$))},this)))},addToCommentField:function(a,b){var c=this.$commentID.val();this.$commentID.val(c+"| "+b+": "+a)},updateCarlineDetails:function(a){a&&(a.carlineLabel&&this.$carlineHeadline.html(a.carlineLabel),a.bodystyleLabel&&this.$bodystyleHeadline.html(a.bodystyleLabel),
a.series&&this.$trimHeadline.html(a.series),a.engineName&&this.$engineDescription.html(a.engineName),a.formattedMonthlyRate&&this.addToCommentField(a.formattedMonthlyRate,"formattedMonthlyRate"),a.formattedLeaseTerm&&this.addToCommentField(a.formattedLeaseTerm,"formattedLeaseTerm"),a.formattedLeaseMileage&&this.addToCommentField(a.formattedLeaseMileage,"formattedLeaseMileage"),a.formattedPrivateOffer&&this.addToCommentField(a.formattedPrivateOffer,"formattedPrivateOffer"),a.formattedDownpayment&&
this.addToCommentField(a.formattedDownpayment,"formattedDownpayment"),a.leaseTitle&&this.addToCommentField(a.leaseTitle,"leaseTitle"))},updatePriceData:function(a){a&&a.prices&&(a.prices[0].label&&this.$carlinePricingLabel1.html(a.prices[0].label),a.prices[0].value&&this.$carlinePricing1.html(a.prices[0].value),a.prices[1].label&&this.$carlinePricingLabel2.html(a.prices[1].label),a.prices[1].value&&this.$carlinePricing2.html(a.prices[1].value),a.prices[2].label&&this.$carlinePricingLabel3.html(a.prices[2].label),
a.prices[2].value&&this.$carlinePricing3.html(a.prices[2].value))},updateVehicleImage:function(a){a&&a.vehicleImageURL&&this.$carlineImage.attr("src",a.vehicleImageURL)},updateCo2Data:function(a){a&&a.feature?(a.feature.emissionCombinedLabel&&this.$co2StatsLabel3.html(a.feature.emissionCombinedLabel),a.feature.emissionCombinedValue&&this.$co2Stats3.html(a.feature.emissionCombinedValue),a.feature.fuelCombinedLabel&&this.$co2StatsLabel2.html(a.feature.fuelCombinedLabel),a.feature.fuelCombinedValue&&
this.$co2Stats2.html(a.feature.fuelCombinedValue),a.feature.emissionLabelClassLabel&&this.$co2Headline.html(a.feature.emissionLabelClassLabel),a.feature.emissionLabelClassDisclaimer&&this.$co2Disclaimer.html(a.feature.emissionLabelClassDisclaimer)):a&&a.energyLabel&&(a.energyLabel.title&&this.$co2Headline.html(a.energyLabel.title),a.energyLabel.header&&this.$co2Disclaimer.html(a.energyLabel.header),a.energyLabel.classLabel&&this.$co2StatsLabel1.html(a.energyLabel.classLabel),a.energyLabel.classValue&&
this.$co2Stats1.html(a.energyLabel.classValue),a.energyLabel.consumptionLabel&&this.$co2StatsLabel2.html(a.energyLabel.consumptionLabel),a.energyLabel.consumptionValue&&this.$co2Stats2.html(a.energyLabel.consumptionValue),a.energyLabel.co2EmissionLabel&&this.$co2StatsLabel3.html(a.energyLabel.co2EmissionLabel),a.energyLabel.co2EmissionValue&&this.$co2Stats3.html(a.energyLabel.co2EmissionValue),a.energyLabel.imageUrl1&&this.$co2Image.attr("src",a.energyLabel.imageUrl1))},setModelYearHiddenField:function(a){a=
a.split(";");var b="";d.each(a,c.proxy(function(a){b=a.split(":");"modelyear"===b[0]&&this.$modelYear.val(b[1])},this))},onBroadcastWindowResize:function(){gmwp.util.isWindowSize("xlarge")?0<this.$carlineObj.length&&0===this.$co2Wrapper.length?this.$carlineDetails.detach().appendTo(this.cfg.noCo2Wrapper):0<this.$carlineObj.length&&this.$carlineDetails.detach().appendTo(this.cfg.carlineWrapperSelector):gmwp.util.isWindowSize("large")?0<this.$carlineObj.length&&0===this.$co2Wrapper.length?this.$carlineDetails.detach().appendTo(this.$carlineObj):
0<this.$carlineObj.length&&this.$carlineDetails.detach().appendTo(this.cfg.carlineWrapperSelector):gmwp.util.isWindowSize("medium")?this.$carlineDetails.detach().appendTo(this.$carlineObj):this.$carlineDetails.detach().appendTo(this.cfg.carlineWrapperSelector)},onBroadcastWindowScroll:function(){}})})(gmwp.$,gmwp._);
(function(c){c.extend(!0,gmwp.conf.cmp,{gmit_gf_vehicle_selector_thank_you:{name:"gmit_gf_vehicle_selector_thank_you",carlineDetails:".js-gmit-gf-carline-detail",carlineImage:".js-gmit-gf-carline-image",carlineImageSelector:".gmit-gf-carline-image",hideClass:"gmit-gf-hide",hideSelector:".gmit-gf-hide",clonedLinkSelector:".js-gmit-gf-click-link",thankYouSelector:".gmit-gf-thank-you",vehicleSelectorContainer:".gmit-gf-vehicle-selector",vehicleSelectorV2Container:".gmit-gf-vehicle-selector-v2",vsChangeButtonSelector:".js-gmit-gf-vs-change"}});
gmwp.mod.gmit_gf_vehicle_selector_thank_you=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var c=this.$ctx;this.$carlineDetail=c.find(this.cfg.carlineDetails);this.$carlineImage=c.find(this.cfg.carlineImage);this.sandbox.subscribe(this.id,this)},prepare:function(){var d=this.$ctx,a=gmwp.util.getClosestModule(this.$ctx,gmwp.conf.cmp.gmit_gf_request_type.name),b=a.find(this.cfg.vehicleSelectorContainer),e=a.find(this.cfg.vehicleSelectorV2Container),f=d.find(this.cfg.followOn),g=a.find(this.cfg.thankYouSelector),
f=gmwp.util.getModuleId(f),a=gmwp.util.getModuleId(a),g=gmwp.util.getModuleId(g),b=gmwp.util.getModuleId(b),e=gmwp.util.getModuleId(e);this.requestTypeId=a;this.followOnId=f;this.thankYouId=g;d.on("click",this.cfg.vsChangeButtonSelector,c.proxy(this.onChangeVehicle,this));0<this.followOnId&&this.sandbox.subscribe(this.followOnId,this);0<this.requestTypeId&&this.sandbox.subscribe(this.requestTypeId,this);0<this.thankYouId&&this.sandbox.subscribe(this.thankYouId,this);0<b&&this.sandbox.subscribe(b,
this);0<e&&this.sandbox.subscribe(e,this)},onChangeVehicle:function(){0<this.thankYouId&&this.fire("gmitResetThankYouParagraph",[this.thankYouId]);0<this.requestTypeId&&this.fire("gmitGfChangeVehicle",[this.requestTypeId]);0<this.followOnId&&this.fire("resetFollow",[this.followOnId])},onGmitGfUpdateVehicle:function(c){var a=[],a=[],b=[];c&&(c.$carlineDetail&&0<c.$carlineDetail.length?(this.$carlineDetail.empty(),a=c.$carlineDetail.first().clone(),a.find(this.cfg.hideSelector).removeClass(this.cfg.hideClass),
b=a.find(this.cfg.clonedLinkSelector),b.length&&b.remove(),this.$carlineDetail.html(a)):c.$co2Wrapper&&0<c.$co2Wrapper.length&&(this.$carlineDetail.empty(),this.$carlineDetail.html(c.$co2Wrapper.first().clone())),c.$image&&0<c.$image.length&&(this.$carlineImage.empty(),a=c.$image.find(this.cfg.carlineImageSelector+":first"),a.length?this.$carlineImage.html(a.clone()):this.$carlineImage.html(c.$image.clone())))}})})(gmwp.$);
(function(c,d){c.extend(!0,gmwp.conf.cmp,{gmit_gf_vehicle_selector_v2:{name:"gmit_gf_vehicle_selector_v2",selector:".gmit-gf-vehicle-selector-v2",caller:"x-caller",carlineDetailWrapper:".gmit-gf-carline-detail-wrapper",co2Selector:".gmit-gf-co2-data",dataDropdownPreselectDrilldowns:"dropdown-preselect-drilldowns",firstDropdownType:"first-dropdown-type",quantumEndPoint:"quantum-end-point",dataEndPoints:"end-point-list",dataHiddenFieldNames:"hidden-field-names",dataMarketXml:"market-xml",dataVdsParams:"vds-params",
dropdownListSelector:".gmit-gf-dropdown-list",filter:"x-filters",imageSelector:".gmit-gf-carline-obj",linkSelector:".gmit-gf-link",pricingSelector:".gmit-gf-pricing",dataTypeArray:"type-array",textGroupSelector:".gmit-gf-text-group"}});gmwp.mod.gmit_gf_vehicle_selector_v2=gmwp.mod.AtomicMod.extend({events:{},initElements:function(){var a=this.$ctx;this.imageId=gmwp.util.gf.setupModuleId(a,this.cfg.imageSelector);this.imageCheck=0<this.imageId;this.co2Id=gmwp.util.gf.setupModuleId(a,this.cfg.co2Selector);
this.co2Check=0<this.co2Id;this.pricingId=gmwp.util.gf.setupModuleId(a,this.cfg.pricingSelector);this.pricingCheck=0<this.pricingId;this.dropdownListId=gmwp.util.gf.setupModuleId(a,this.cfg.dropdownListSelector);this.dropdownListCheck=0<this.dropdownListId;this.textGroupId=gmwp.util.gf.setupModuleId(a,this.cfg.textGroupSelector);this.textGroupCheck=0<this.textGroupId;this.linkId=gmwp.util.gf.setupModuleId(a,this.cfg.linkSelector);this.linkCheck=0<this.linkId;this.regionConfig=gmwp.conf.gf.north_america;
this.queryString=gmwp.conf.gf.queryObject;this.endPoints=a.data(this.cfg.dataEndPoints);this.marketXml=a.data(this.cfg.dataMarketXml);this.vdsParams=a.data(this.cfg.dataVdsParams);this.hiddenFieldNames=a.data(this.cfg.dataHiddenFieldNames);this.preSelectValues=[];this.typeArray=a.data(this.cfg.dataTypeArray)||this.regionConfig.typeArray;this.xCallers=a.data("x-callers")||this.regionConfig.queryParameters;this.dropdownPreselectDrilldowns=a.data(this.cfg.dataDropdownPreselectDrilldowns);this.quantumEndPoint=
a.data(this.cfg.quantumEndPoint);this.firstDropdownType=a.data(this.cfg.firstDropdownType);this.$carlineDetailWrapper=a.find(this.cfg.carlineDetailWrapper);this.$image=a.find(this.cfg.imageSelector);this.thankYouVehicle={$carlineDetail:this.$carlineDetailWrapper,$image:this.$image};this.sandbox.subscribe(this.id,this)},prepare:function(){var a=this;a.xFilters=d.hasIn(a.queryString,a.cfg.filter)?a.queryString[a.cfg.filter]:"";a.imageCheck&&a.sandbox.subscribe(a.imageId,a);a.co2Check&&a.sandbox.subscribe(a.co2Id,
a);a.pricingCheck&&a.sandbox.subscribe(a.pricingId,a);a.dropdownListCheck&&a.sandbox.subscribe(a.dropdownListId,a);a.textGroupCheck&&a.sandbox.subscribe(a.textGroupId,a);a.linkCheck&&a.sandbox.subscribe(a.linkId,a);d.each(a.xCallers,function(b){var e=b.populateField?gmwp.util.getModuleId(c("#"+b.populateField.fieldId).parent().parent()):0;d.each(b.callerList,function(b){(b=gmwp.util.getModuleId(c("#"+b.value).parent()))&&a.sandbox.subscribe(b,a)});0<e&&a.sandbox.subscribe(e,a)})},finish:function(){this.dropdownListCheck&&
this.fire("gmitGfSetupChangeEvents",[this.dropdownListId]);this.onGmitGfSetupXCallers();this.loadPreselect(this.queryString)},loadPreselect:function(a){var b=d.filter(this.xCallers,{name:gmwp.conf.gf.queryObject["x-caller"]},[]),e="",f="",g="",h="",k="",l="",s=[],m=this.checkData(this.vdsParams,this.queryString),B=b.length?b[0].dropdownPreselectDrilldowns:this.dropdownPreselectDrilldowns;B&&this.queryString&&(d.each(B,c.proxy(function(b){d.hasIn(a,b)&&s.push(a[b])},this)),d.get(b[0],"useMarketXml")&&
d.get(b[0],"ajaxCall")&&this.marketXml?(s=m?m.split("/"):s,g=this.parseTrimPath(s,"year"),h=this.parseTrimPath(s,"model"),l=this.parseTrimPath(s,"trim"),k=this.parseTrimPath(s,"bodyStyle"),b[0].ajaxCall.url=this.marketXml,c.ajax(b[0].ajaxCall).done(c.proxy(function(a){a&&(e=this.getConfigStringFromXml(a,[h,g],[k],[l]),f=e.attr("formatted_config")?e.attr("formatted_config")+" "+e.attr("formatted_drive"):e.attr("formatted_drive"),this.preSelectValues.push(g),this.preSelectValues.push(k),this.preSelectValues.push(f),
this.preSelectValues.push(l),d.has(b[0],"dropdownExcludedIndices")&&d.pullAt(this.preSelectValues,b[0].dropdownExcludedIndices),this.loadFirstDropdown(!0))},this))):(this.preSelectValues=d.clone(s),d.has(b[0],"dropdownExcludedIndices")&&d.pullAt(this.preSelectValues,b[0].dropdownExcludedIndices)))},parseXML:function(a,b,e){var f="";d.each(a,c.proxy(function(a){b&&b.length&&e&&e.length&&c(a).attr(b)===e&&(f=c(a))},this));return f},sortSelect:function(a,b){return a.value.localeCompare(b.value)},buildAjaxCall:function(a){var b=
{};a&&d.hasIn(a,"ajaxCallType")&&d.hasIn(a,"endPointUrl")&&d.hasIn(a,"ajaxDataType")&&d.hasIn(a,"ajaxContentType")&&(b.type=a.ajaxCallType,b.url=a.endPointUrl,b.dataType=a.ajaxDataType,b.contentType=a.ajaxContentType,d.hasIn(a,"urlParameters")&&d.each(a.urlParameters,function(a){d.hasIn(a,"name")&&d.hasIn(a,"value")&&d.set(b,"data."+a.name,a.value)}));return b},loadFirstDropdown:function(a){var b={},e={},f={},g="",h=!1;if(""===this.checkData(this.vdsParams,this.queryString)||a)this.dropdownListCheck&&
(e.index=-1,this.fire("gmitGfResetDropdowns",e,[this.dropdownListId])),d.each(this.endPoints,c.proxy(function(a){var l=this.buildAjaxCall(a);c.ajax(l).done(c.proxy(function(l){l&&"loadFirstDropdown"===a.endPointTag&&(b.value="",b.index=0,e.option="",e.index=0,g=gmwp.util.gf.filter(this.xFilters,"code",this.regionConfig.getFirstDropdownData(l)),1===g.length&&(h=!0),d.each(g,c.proxy(function(a){e.option=this.regionConfig.setupOptionList(a,this.firstDropdownType);this.dropdownListCheck&&this.fire("gmitGfAddOptionToDropdown",
e,[this.dropdownListId])},this)),h?(f.index=e.index,f.value=e.option.val(),h=!1,this.fire("gmitGfSelectDropdownOption",f,[this.dropdownListId])):this.preSelectValues[0]&&this.dropdownListCheck&&(b.value=this.preSelectValues[0],this.preSelectValues=d.drop(this.preSelectValues),this.fire("gmitGfSelectDropdownOption",b,[this.dropdownListId])))},this))},this))},checkData:function(a,b){var e="";b&&d.each(a,c.proxy(function(a){d.hasIn(b,a)&&(e=b[a])},this));return e},updateComponent:function(a,b,e){var f=
[],g="",h={};a&&b&&0<e&&d.each(b,c.proxy(function(b){f=b.drilldowns;g=this.checkData(f,a);h=b.getParams(g);b.fire&&h&&this.fire(b.fire,h,[e])},this))},updateHiddenFields:function(a,b){var e=[],f="",g={},h=0;b&&a&&this.dropdownListCheck&&d.each(a,c.proxy(function(a){e=this.$ctx.find('[name\x3d"'+a.name+'"]');h=gmwp.util.getModuleId(e.parent());f=this.checkData(a.drilldowns,b);g=d.set(g,"text",f);0<h&&(this.sandbox.subscribe(h,this),this.fire("gmitGfUpdateValue",g,[h]))},this))},parseTrimPath:function(a,
b){var c="";if(a)if(7===a.length)switch(b){case "year":c=a[3];break;case "model":c=a[4];break;case "bodyStyle":c=a[5];break;case "trim":c=a[6]}else if(4===a.length)switch(b){case "year":c=a[0];break;case "model":c=a[1];break;case "bodyStyle":c=a[2];break;case "trim":c=a[3]}return c},getConfigStringFromXml:function(a,b,d,f){var g=c(),g=c(),g=c(),g=c(),g=c(),g=c(),g=c();a&&(g=c(a).find("vehicledata"),g=g.find("carline"),g=this.regionConfig.parseXML(g,["code","model-year"],b),g=g.find("bodystyle"),g=
this.regionConfig.parseXML(g,["code"],d),g=g.find("series"),g=this.regionConfig.parseXML(g,["code"],f));return g},onGmitGfSetupXCallers:function(){var a=this,b="",e="",f="",g=d.set({},"name",a.queryString[a.cfg.caller]),h=d.find(a.xCallers,g),g=h&&h.populateField?gmwp.util.getModuleId(c("#"+h.populateField.fieldId).parent().parent()):0,k={},l=0,s=[];a.queryString&&h?(h.dropdownHide&&a.dropdownListCheck&&a.fire("gmitGfHideDropdownList",[a.dropdownListId]),h.hiddenFieldNames&&h.hiddenFieldNames.length&&
a.updateHiddenFields(h.hiddenFieldNames,a.queryString),this.textGroupCheck&&d.each(h.headlines,function(b){k=a.$ctx.find('[name\x3d"'+b+'"]');l=gmwp.util.getModuleId(k);0<l&&(a.sandbox.subscribe(l,a),a.fire("gmitGfSetHeadline",a.queryString,[l]),s.push(k))}),h.ajaxCall?(h.useMarketXml&&(h.ajaxCall.url=a.marketXml),h.ajaxCall.url&&c.ajax(h.ajaxCall).done(function(c){c&&(b=a.getConfigStringFromXml(c,[a.queryString["x-carline"],a.queryString["x-modelyear"]],[a.queryString["x-bodystyle"]],[a.queryString.trimVcCode]),
h.usePrice&&f&&a.pricingCheck&&(f=b.attr("formatted_price"),a.updateComponent({msrpPrice:f},a.regionConfig.pricing,a.pricingId)),h.useImage&&e&&a.imageCheck&&(e=b.find("color").attr("imageURL"),a.updateComponent({imageUrl:e},a.regionConfig.image,a.imageId)),a.fire("gmitGfUpdateVehicle",a.thankYouVehicle,[a.id]))})):a.loadFirstDropdown(),a.$carlineDetailWrapper.show(),h.useChangeButton&&a.linkCheck&&(a.fire("gmitGfSetupClickEvent",[a.linkId]),a.fire("gmitGfShowLink",[a.linkId])),a.fire("gmitGfRemoveHideClasses",
[a.textGroupId]),a.fire("gmitGfUpdateVehicle",a.thankYouVehicle,[a.id]),h.callerList&&(d.each(h.callerList,function(b){var d=gmwp.util.getModuleId(c("#"+b.value).parent());(b=a.queryString[b.key])&&0<d&&a.fire("gmitGfUpdateValue",{text:b},[d])}),a.pricingCheck&&(a.updateComponent(a.queryString,a.regionConfig.pricing,a.pricingId),a.fire("gmitGfShowPricing",[a.pricingId]))),0<g&&a.fire("gmitGfUpdateValue",h.populateField,[g])):a.loadFirstDropdown()},onGmitGfSetThankYou:function(){this.thankYouVehicle&&
this.fire("gmitGfUpdateVehicle",this.thankYouVehicle,[this.id])},onGmitGfLinkClick:function(){gmwp.document.location.href=gmwp.document.location.href.split("?")[0]},onGmitGfDropdownChange:function(a){var b="",e="",f="",g="",h="",k="",l="",s="",m="",B=[],w={},n={},r={},y={},p={},v="",t={},E=[],u=!1,q="",C="",G={};a&&this.regionConfig&&(b=this.regionConfig.dropdownDataDrilldown,e=this.regionConfig.pricing,f=this.regionConfig.co2,g=this.regionConfig.image,h=a.index,k=a.nextIndex,l=a.headlineIndex,s=
a.coTwoImage,m=a.imageReset,E=a.endPointList,q=a.imageUrl,C=a.formattedPrice,this.dropdownListCheck&&(y.index=h,this.fire("gmitGfResetDropdowns",y,[this.dropdownListId])),this.fire("gmitGfCarlineSelected",[this.id]),this.textGroupCheck&&a.setTextGroup&&(w.newText="",w.index=l,r.newText=a.selectedText,r.index=l,this.fire("gmitGfResetTextGroup",w,[this.textGroupId]),this.fire("gmitGfResetHeadline",r,[this.textGroupId]),this.fire("gmitGfSetText",r,[this.textGroupId])),this.hiddenFieldNames&&this.updateHiddenFields(this.hiddenFieldNames,
a),this.co2Check&&a.coTwoImage&&(n.src=a.coTwoImage,this.fire("gmitGfSetCo2Image",n,[this.co2Id]),this.fire("gmitGfShowCo2Image",[this.co2Id]),this.fire("gmitGfShowCo2",[this.co2Id])),this.$carlineDetailWrapper.show(),a.value&&a.value.length?(this.quantumEndPoint&&(G.imageUrl=q,G.formattedPrice=C,d.isNil(q)||d.isEmpty(q)?this.imageCheck&&this.fire("gmitGfResetDefaultImage",[this.imageId]):this.imageCheck&&m&&this.updateComponent(G,g,this.imageId),this.pricingCheck&&a.setPricing&&(this.updateComponent(this.queryString&&
this.queryString.msrpPrice?this.queryString:G,e,this.pricingId),this.fire("gmitGfShowPricing",[this.pricingId]))),d.each(E,c.proxy(function(h){var l=this.buildAjaxCall(h),n=a.featureId;n&&(l.data.featureSelection=n);c.ajax(l).done(c.proxy(function(l){b&&"loadDropdown"===h.endPointTag?(B=d.hasIn(l,b)?l[b]:"",t.index=k,this.quantumEndPoint||(this.imageCheck&&m&&this.updateComponent(l,g,this.imageId),this.pricingCheck&&a.setPricing&&(this.updateComponent(this.queryString&&this.queryString.msrpPrice?
this.queryString:l,e,this.pricingId),this.fire("gmitGfShowPricing",[this.pricingId]))),1===B.length&&(u=!0),d.each(B,c.proxy(function(a){var b=this.typeArray[k];v=this.regionConfig.getDropdownOptionData(a);t.option=this.regionConfig.setupOptionTag(n,b,s,v);this.dropdownListCheck&&(this.fire("gmitGfAddOptionToDropdown",t,[this.dropdownListId]),u&&(p.index=k,p.value=t.option.val(),p.imageUrl=q,p.formattedPrice=C,u=!1,this.fire("gmitGfSelectDropdownOption",p,[this.dropdownListId])));this.updateComponent(a,
this.regionConfig.co2,this.co2Id)},this))):"image"===h.endPointTag?this.updateComponent(l,g,this.imageId):"price"===h.endPointTag?this.updateComponent(this.queryString?this.queryString:l,e,this.pricingId):"co2"===h.endPointTag&&this.updateComponent(l,f,this.co2Id);this.preSelectValues[0]&&this.dropdownListCheck&&(p.index=k,p.value=this.preSelectValues[0],this.preSelectValues=d.drop(this.preSelectValues),this.fire("gmitGfSelectDropdownOption",p,[this.dropdownListId]))},this))},this))):(this.co2Check&&
(r.newText="",this.fire("gmitGfResetHeadline",r,[this.textGroupId]),this.fire("gmitGfSetText",r,[this.textGroupId]),this.fire("gmitGfHideCo2Image",[this.co2Id])),this.imageCheck&&this.fire("gmitGfResetDefaultImage",[this.imageId]),this.pricingCheck&&(this.fire("gmitGfHidePricing",[this.pricingId]),this.updateComponent({},e,this.pricingId))),this.fire("gmitGfUpdateVehicle",this.thankYouVehicle,[this.id]))}})})(gmwp.$,gmwp._);